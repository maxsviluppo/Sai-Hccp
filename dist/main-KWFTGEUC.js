var xh=Object.defineProperty,_h=Object.defineProperties;var Ch=Object.getOwnPropertyDescriptors;var pc=Object.getOwnPropertySymbols;var Eh=Object.prototype.hasOwnProperty,wh=Object.prototype.propertyIsEnumerable;var mc=(e,n,t)=>n in e?xh(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,A=(e,n)=>{for(var t in n||={})Eh.call(n,t)&&mc(e,t,n[t]);if(pc)for(var t of pc(n))wh.call(n,t)&&mc(e,t,n[t]);return e},N=(e,n)=>_h(e,Ch(n));var Re=null,Ao=!1,ta=1,Dh=null,Ve=Symbol("SIGNAL");function $(e){let n=Re;return Re=e,n}function No(){return Re}var Zn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mi(e){if(Ao)throw new Error("");if(Re===null)return;Re.consumerOnSignalRead(e);let n=Re.producersTail;if(n!==void 0&&n.producer===e)return;let t,i=Re.recomputing;if(i&&(t=n!==void 0?n.nextProducer:Re.producers,t!==void 0&&t.producer===e)){Re.producersTail=t,t.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Re&&(!i||Sh(o,Re)))return;let r=Qn(Re),s={producer:e,consumer:Re,nextProducer:t,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Re.producersTail=s,n!==void 0?n.nextProducer=s:Re.producers=s,r&&yc(e,s)}function hc(){ta++}function na(e){if(!(Qn(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ta)){if(!e.producerMustRecompute(e)&&!Ai(e)){ea(e);return}e.producerRecomputeValue(e),ea(e)}}function ia(e){if(e.consumers===void 0)return;let n=Ao;Ao=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||Ih(i)}}finally{Ao=n}}function oa(){return Re?.consumerAllowSignalWrites!==!1}function Ih(e){e.dirty=!0,ia(e),e.consumerMarkedDirty?.(e)}function ea(e){e.dirty=!1,e.lastCleanEpoch=ta}function Yn(e){return e&&gc(e),$(e)}function gc(e){e.producersTail=void 0,e.recomputing=!0}function Ti(e,n){$(n),e&&vc(e)}function vc(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(Qn(e))do t=ra(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function Ai(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,i=n.lastReadVersion;if(i!==t.version||(na(t),i!==t.version))return!0}return!1}function vn(e){if(Qn(e)){let n=e.producers;for(;n!==void 0;)n=ra(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function yc(e,n){let t=e.consumersTail,i=Qn(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!i)for(let o=e.producers;o!==void 0;o=o.nextProducer)yc(o.producer,o)}function ra(e){let n=e.producer,t=e.nextProducer,i=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,i!==void 0?i.prevConsumer=o:n.consumersTail=o,o!==void 0)o.nextConsumer=i;else if(n.consumers=i,!Qn(n)){let r=n.producers;for(;r!==void 0;)r=ra(r)}return t}function Qn(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function sa(e){Dh?.(e)}function Sh(e,n){let t=n.producersTail;if(t!==void 0){let i=n.producers;do{if(i===e)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function aa(e,n){return Object.is(e,n)}function Ro(e,n){let t=Object.create(Mh);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(na(t),Mi(t),t.value===ko)throw t.error;return t.value};return i[Ve]=t,sa(t),i}var Js=Symbol("UNSET"),Xs=Symbol("COMPUTING"),ko=Symbol("ERRORED"),Mh=N(A({},Zn),{value:Js,dirty:!0,error:null,equal:aa,kind:"computed",producerMustRecompute(e){return e.value===Js||e.value===Xs},producerRecomputeValue(e){if(e.value===Xs)throw new Error("");let n=e.value;e.value=Xs;let t=Yn(e),i,o=!1;try{i=e.computation(),$(null),o=n!==Js&&n!==ko&&i!==ko&&e.equal(n,i)}catch(r){i=ko,e.error=r}finally{Ti(e,t)}if(o){e.value=n;return}e.value=i,e.version++}});function Th(){throw new Error}var bc=Th;function xc(e){bc(e)}function la(e){bc=e}var Ah=null;function da(e,n){let t=Object.create(Fo);t.value=e,n!==void 0&&(t.equal=n);let i=()=>_c(t);return i[Ve]=t,sa(t),[i,s=>ki(t,s),s=>Cc(t,s)]}function _c(e){return Mi(e),e.value}function ki(e,n){oa()||xc(e),e.equal(e.value,n)||(e.value=n,kh(e))}function Cc(e,n){oa()||xc(e),ki(e,n(e.value))}var Fo=N(A({},Zn),{equal:aa,value:void 0,kind:"signal"});function kh(e){e.version++,hc(),ia(e),Ah?.(e)}function ca(e){let n=$(null);try{return e()}finally{$(n)}}var ua=N(A({},Zn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function fa(e){if(e.dirty=!1,e.version>0&&!Ai(e))return;e.version++;let n=Yn(e);try{e.cleanup(),e.fn()}finally{Ti(e,n)}}function se(e){return typeof e=="function"}function Oo(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Po=Oo(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,o)=>`${o+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ni(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Le=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let r of t)r.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(se(i))try{i()}catch(r){n=r instanceof Po?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{Ec(r)}catch(s){n=n??[],s instanceof Po?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Po(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Ec(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ni(t,n)}remove(n){let{_finalizers:t}=this;t&&Ni(t,n),n instanceof e&&n._removeParent(this)}};Le.EMPTY=(()=>{let e=new Le;return e.closed=!0,e})();var pa=Le.EMPTY;function Vo(e){return e instanceof Le||e&&"closed"in e&&se(e.remove)&&se(e.add)&&se(e.unsubscribe)}function Ec(e){se(e)?e():e.unsubscribe()}var st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Kn={setTimeout(e,n,...t){let{delegate:i}=Kn;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Kn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Lo(e){Kn.setTimeout(()=>{let{onUnhandledError:n}=st;if(n)n(e);else throw e})}function ma(){}var wc=ha("C",void 0,void 0);function Dc(e){return ha("E",void 0,e)}function Ic(e){return ha("N",e,void 0)}function ha(e,n,t){return{kind:e,value:n,error:t}}var yn=null;function Jn(e){if(st.useDeprecatedSynchronousErrorHandling){let n=!yn;if(n&&(yn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=yn;if(yn=null,t)throw i}}else e()}function Sc(e){st.useDeprecatedSynchronousErrorHandling&&yn&&(yn.errorThrown=!0,yn.error=e)}var bn=class extends Le{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Vo(n)&&n.add(this)):this.destination=Fh}static create(n,t,i){return new Xn(n,t,i)}next(n){this.isStopped?va(Ic(n),this):this._next(n)}error(n){this.isStopped?va(Dc(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?va(wc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Nh=Function.prototype.bind;function ga(e,n){return Nh.call(e,n)}var ya=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){jo(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){jo(i)}else jo(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){jo(t)}}},Xn=class extends bn{constructor(n,t,i){super();let o;if(se(n)||!n)o={next:n??void 0,error:t??void 0,complete:i??void 0};else{let r;this&&st.useDeprecatedNextContext?(r=Object.create(n),r.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ga(n.next,r),error:n.error&&ga(n.error,r),complete:n.complete&&ga(n.complete,r)}):o=n}this.destination=new ya(o)}};function jo(e){st.useDeprecatedSynchronousErrorHandling?Sc(e):Lo(e)}function Rh(e){throw e}function va(e,n){let{onStoppedNotification:t}=st;t&&Kn.setTimeout(()=>t(e,n))}var Fh={closed:!0,next:ma,error:Rh,complete:ma};var ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mc(e){return e}function Tc(e){return e.length===0?Mc:e.length===1?e[0]:function(t){return e.reduce((i,o)=>o(i),t)}}var Ce=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,o){let r=Ph(t)?t:new Xn(t,i,o);return Jn(()=>{let{operator:s,source:c}=this;r.add(s?s.call(r,c):c?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Ac(i),new i((o,r)=>{let s=new Xn({next:c=>{try{t(c)}catch(f){r(f),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[ei](){return this}pipe(...t){return Tc(t)(this)}toPromise(t){return t=Ac(t),new t((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return e.create=n=>new e(n),e})();function Ac(e){var n;return(n=e??st.Promise)!==null&&n!==void 0?n:Promise}function Oh(e){return e&&se(e.next)&&se(e.error)&&se(e.complete)}function Ph(e){return e&&e instanceof bn||Oh(e)&&Vo(e)}function Vh(e){return se(e?.lift)}function ti(e){return n=>{if(Vh(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ni(e,n,t,i,o){return new ba(e,n,t,i,o)}var ba=class extends bn{constructor(n,t,i,o,r,s){super(n),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(f){n.error(f)}}:super._next,this._error=o?function(c){try{o(c)}catch(f){n.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var kc=Oo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class e extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Bo(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new kc}next(t){Jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Jn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:o,observers:r}=this;return i||o?pa:(this.currentObservers=null,r.push(t),new Le(()=>{this.currentObservers=null,Ni(r,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:o,isStopped:r}=this;i?t.error(o):r&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return e.create=(n,t)=>new Bo(n,t),e})(),Bo=class extends _t{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:pa}};var Ri=class extends _t{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};function Lh(e){return e[e.length-1]}function Nc(e){return se(Lh(e))?e.pop():void 0}function Fc(e,n,t,i){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function c(g){try{h(i.next(g))}catch(b){s(b)}}function f(g){try{h(i.throw(g))}catch(b){s(b)}}function h(g){g.done?r(g.value):o(g.value).then(c,f)}h((i=i.apply(e,n||[])).next())})}function Rc(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xn(e){return this instanceof xn?(this.v=e,this):new xn(e)}function Oc(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(_){return function(O){return Promise.resolve(O).then(_,b)}}function c(_,O){i[_]&&(o[_]=function(Z){return new Promise(function(me,ce){r.push([_,Z,me,ce])>1||f(_,Z)})},O&&(o[_]=O(o[_])))}function f(_,O){try{h(i[_](O))}catch(Z){S(r[0][3],Z)}}function h(_){_.value instanceof xn?Promise.resolve(_.value.v).then(g,b):S(r[0][2],_)}function g(_){f("next",_)}function b(_){f("throw",_)}function S(_,O){_(O),r.shift(),r.length&&f(r[0][0],r[0][1])}}function Pc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Rc=="function"?Rc(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(s){return new Promise(function(c,f){s=e[r](s),o(c,f,s.done,s.value)})}}function o(r,s,c,f){Promise.resolve(f).then(function(h){r({value:h,done:c})},s)}}var Ho=e=>e&&typeof e.length=="number"&&typeof e!="function";function Uo(e){return se(e?.then)}function $o(e){return se(e[ei])}function zo(e){return Symbol.asyncIterator&&se(e?.[Symbol.asyncIterator])}function Go(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wo=jh();function qo(e){return se(e?.[Wo])}function Zo(e){return Oc(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:o}=yield xn(t.read());if(o)return yield xn(void 0);yield yield xn(i)}}finally{t.releaseLock()}})}function Yo(e){return se(e?.getReader)}function Zt(e){if(e instanceof Ce)return e;if(e!=null){if($o(e))return Bh(e);if(Ho(e))return Hh(e);if(Uo(e))return Uh(e);if(zo(e))return Vc(e);if(qo(e))return $h(e);if(Yo(e))return zh(e)}throw Go(e)}function Bh(e){return new Ce(n=>{let t=e[ei]();if(se(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hh(e){return new Ce(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Uh(e){return new Ce(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Lo)})}function $h(e){return new Ce(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Vc(e){return new Ce(n=>{Gh(e,n).catch(t=>n.error(t))})}function zh(e){return Vc(Zo(e))}function Gh(e,n){var t,i,o,r;return Fc(this,void 0,void 0,function*(){try{for(t=Pc(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(o)throw o.error}}n.complete()})}function Ct(e,n,t,i=0,o=!1){let r=n.schedule(function(){t(),o?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(r),!o)return r}function Qo(e,n=0){return ti((t,i)=>{t.subscribe(ni(i,o=>Ct(i,e,()=>i.next(o),n),()=>Ct(i,e,()=>i.complete(),n),o=>Ct(i,e,()=>i.error(o),n)))})}function Ko(e,n=0){return ti((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Lc(e,n){return Zt(e).pipe(Ko(n),Qo(n))}function jc(e,n){return Zt(e).pipe(Ko(n),Qo(n))}function Bc(e,n){return new Ce(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function Hc(e,n){return new Ce(t=>{let i;return Ct(t,n,()=>{i=e[Wo](),Ct(t,n,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){t.error(s);return}r?t.complete():t.next(o)},0,!0)}),()=>se(i?.return)&&i.return()})}function Jo(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ce(t=>{Ct(t,n,()=>{let i=e[Symbol.asyncIterator]();Ct(t,n,()=>{i.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Uc(e,n){return Jo(Zo(e),n)}function $c(e,n){if(e!=null){if($o(e))return Lc(e,n);if(Ho(e))return Bc(e,n);if(Uo(e))return jc(e,n);if(zo(e))return Jo(e,n);if(qo(e))return Hc(e,n);if(Yo(e))return Uc(e,n)}throw Go(e)}function xa(e,n){return n?$c(e,n):Zt(e)}function _n(e,n){return ti((t,i)=>{let o=0;t.subscribe(ni(i,r=>{i.next(e.call(n,r,o++))}))})}var{isArray:Wh}=Array;function qh(e,n){return Wh(n)?e(...n):e(n)}function zc(e){return _n(n=>qh(e,n))}var{isArray:Zh}=Array,{getPrototypeOf:Yh,prototype:Qh,keys:Kh}=Object;function Gc(e){if(e.length===1){let n=e[0];if(Zh(n))return{args:n,keys:null};if(Jh(n)){let t=Kh(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function Jh(e){return e&&typeof e=="object"&&Yh(e)===Qh}function Wc(e,n){return e.reduce((t,i,o)=>(t[i]=n[o],t),{})}function _a(...e){let n=Nc(e),{args:t,keys:i}=Gc(e),o=new Ce(r=>{let{length:s}=t;if(!s){r.complete();return}let c=new Array(s),f=s,h=s;for(let g=0;g<s;g++){let b=!1;Zt(t[g]).subscribe(ni(r,S=>{b||(b=!0,h--),c[g]=S},()=>f--,void 0,()=>{(!f||!b)&&(h||r.next(i?Wc(i,c):c),r.complete())}))}});return n?o.pipe(zc(n)):o}var Ca;function Xo(){return Ca}function Et(e){let n=Ca;return Ca=e,n}var qc=Symbol("NotFound");function ii(e){return e===qc||e?.name==="\u0275NotFound"}var sr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(n,t){super(ar(n,t)),this.code=n}};function Xh(e){return`NG0${Math.abs(e)}`}function ar(e,n){return`${Xh(e)}${n?": "+n:""}`}var In=globalThis;function ue(e){for(let n in e)if(e[n]===ue)return n;throw Error("")}function Jc(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Yt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Yt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function lr(e,n){return e?n?`${e} ${n}`:e:n||""}var eg=ue({__forward_ref__:ue});function ze(e){return e.__forward_ref__=ze,e.toString=function(){return Yt(this())},e}function ke(e){return Oa(e)?e():e}function Oa(e){return typeof e=="function"&&e.hasOwnProperty(eg)&&e.__forward_ref__===ze}function de(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Lt(e){return{providers:e.providers||[],imports:e.imports||[]}}function dr(e){return tg(e,cr)}function tg(e,n){return e.hasOwnProperty(n)&&e[n]||null}function ng(e){let n=e?.[cr]??null;return n||null}function wa(e){return e&&e.hasOwnProperty(tr)?e[tr]:null}var cr=ue({\u0275prov:ue}),tr=ue({\u0275inj:ue}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=de({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pa(e){return e&&!!e.\u0275providers}var Va=ue({\u0275cmp:ue}),La=ue({\u0275dir:ue}),ja=ue({\u0275pipe:ue});var Oi=ue({\u0275fac:ue}),Sn=ue({__NG_ELEMENT_ID__:ue}),Zc=ue({__NG_ENV_ID__:ue});function Bi(e){return Ha(e,"@Component"),e[Va]||null}function Ba(e){return Ha(e,"@Directive"),e[La]||null}function Xc(e){return Ha(e,"@Pipe"),e[ja]||null}function Ha(e,n){if(e==null)throw new H(-919,!1)}function Mn(e){return typeof e=="string"?e:e==null?"":String(e)}var eu=ue({ngErrorCode:ue}),ig=ue({ngErrorMessage:ue}),og=ue({ngTokenPath:ue});function Ua(e,n){return tu("",-200,n)}function ur(e,n){throw new H(-201,!1)}function tu(e,n,t){let i=new H(n,e);return i[eu]=n,i[ig]=e,t&&(i[og]=t),i}function rg(e){return e[eu]}var Da;function nu(){return Da}function je(e){let n=Da;return Da=e,n}function $a(e,n,t){let i=dr(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(n!==void 0)return n;ur(e,"")}var sg={},Cn=sg,ag="__NG_DI_FLAG__",Ia=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=En(t)||0;try{return this.injector.get(n,i&8?null:Cn,i)}catch(o){if(ii(o))return o;throw o}}};function lg(e,n=0){let t=Xo();if(t===void 0)throw new H(-203,!1);if(t===null)return $a(e,void 0,n);{let i=dg(n),o=t.retrieve(e,i);if(ii(o)){if(i.optional)return null;throw o}return o}}function le(e,n=0){return(nu()||lg)(ke(e),n)}function F(e,n){return le(e,En(n))}function En(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function dg(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Sa(e){let n=[];for(let t=0;t<e.length;t++){let i=ke(e[t]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let o,r=0;for(let s=0;s<i.length;s++){let c=i[s],f=cg(c);typeof f=="number"?f===-1?o=c.token:r|=f:o=c}n.push(le(o,r))}else n.push(le(i))}return n}function cg(e){return e[ag]}function Qt(e,n){let t=e.hasOwnProperty(Oi);return t?e[Oi]:null}function fr(e,n){e.forEach(t=>Array.isArray(t)?fr(t,n):n(t))}function iu(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function za(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ou(e,n,t,i){let o=e.length;if(o==n)e.push(t,i);else if(o===1)e.push(i,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let r=o-2;e[o]=e[r],o--}e[n]=t,e[n+1]=i}}function pr(e,n,t){let i=ri(e,n);return i>=0?e[i|1]=t:(i=~i,ou(e,i,n,t)),i}function mr(e,n){let t=ri(e,n);if(t>=0)return e[t|1]}function ri(e,n){return ug(e,n,1)}function ug(e,n,t){let i=0,o=e.length>>t;for(;o!==i;){let r=i+(o-i>>1),s=e[r<<t];if(n===s)return r<<t;s>n?o=r:i=r+1}return~(o<<t)}var en={},He=[],Hi=new Q(""),Ga=new Q("",-1),Wa=new Q(""),Pi=class{get(n,t=Cn){if(t===Cn){let o=tu("",-201);throw o.name="\u0275NotFound",o}return t}};function qa(e){return{\u0275providers:e}}function ru(...e){return{\u0275providers:Za(!0,e),\u0275fromNgModule:!0}}function Za(e,...n){let t=[],i=new Set,o,r=s=>{t.push(s)};return fr(n,s=>{let c=s;nr(c,r,[],i)&&(o||=[],o.push(c))}),o!==void 0&&su(o,r),t}function su(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:o}=e[t];Ya(o,r=>{n(r,i)})}}function nr(e,n,t,i){if(e=ke(e),!e)return!1;let o=null,r=wa(e),s=!r&&Bi(e);if(!r&&!s){let f=e.ngModule;if(r=wa(f),r)o=f;else return!1}else{if(s&&!s.standalone)return!1;o=e}let c=i.has(o);if(s){if(c)return!1;if(i.add(o),s.dependencies){let f=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of f)nr(h,n,t,i)}}else if(r){if(r.imports!=null&&!c){i.add(o);let h;fr(r.imports,g=>{nr(g,n,t,i)&&(h||=[],h.push(g))}),h!==void 0&&su(h,n)}if(!c){let h=Qt(o)||(()=>new o);n({provide:o,useFactory:h,deps:He},o),n({provide:Wa,useValue:o,multi:!0},o),n({provide:Hi,useValue:()=>le(o),multi:!0},o)}let f=r.providers;if(f!=null&&!c){let h=e;Ya(f,g=>{n(g,h)})}}else return!1;return o!==e&&e.providers!==void 0}function Ya(e,n){for(let t of e)Pa(t)&&(t=t.\u0275providers),Array.isArray(t)?Ya(t,n):n(t)}var fg=ue({provide:String,useValue:ue});function au(e){return e!==null&&typeof e=="object"&&fg in e}function pg(e){return!!(e&&e.useExisting)}function mg(e){return!!(e&&e.useFactory)}function wn(e){return typeof e=="function"}function lu(e){return!!e.useClass}var Ui=new Q(""),er={},Yc={},Ea;function $i(){return Ea===void 0&&(Ea=new Pi),Ea}var at=class{},Dn=class extends at{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,o){super(),this.parent=t,this.source=i,this.scopes=o,Ta(n,s=>this.processProvider(s)),this.records.set(Ga,oi(void 0,this)),o.has("environment")&&this.records.set(at,oi(void 0,this));let r=this.records.get(Ui);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Wa,He,{self:!0}))}retrieve(n,t){let i=En(t)||0;try{return this.get(n,Cn,i)}catch(o){if(ii(o))return o;throw o}}destroy(){Fi(this),this._destroyed=!0;let n=$(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(n)}}onDestroy(n){return Fi(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Fi(this);let t=Et(this),i=je(void 0),o;try{return n()}finally{Et(t),je(i)}}get(n,t=Cn,i){if(Fi(this),n.hasOwnProperty(Zc))return n[Zc](this);let o=En(i),r,s=Et(this),c=je(void 0);try{if(!(o&4)){let h=this.records.get(n);if(h===void 0){let g=bg(n)&&dr(n);g&&this.injectableDefInScope(g)?h=oi(Ma(n),er):h=null,this.records.set(n,h)}if(h!=null)return this.hydrate(n,h,o)}let f=o&2?$i():this.parent;return t=o&8&&t===Cn?null:t,f.get(n,t)}catch(f){let h=rg(f);throw h===-200||h===-201?new H(h,null):f}finally{je(c),Et(s)}}resolveInjectorInitializers(){let n=$(null),t=Et(this),i=je(void 0),o;try{let r=this.get(Hi,He,{self:!0});for(let s of r)s()}finally{Et(t),je(i),$(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Yt(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ke(n);let t=wn(n)?n:ke(n&&n.provide),i=gg(n);if(!wn(n)&&n.multi===!0){let o=this.records.get(t);o||(o=oi(void 0,er,!0),o.factory=()=>Sa(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,i)}hydrate(n,t,i){let o=$(null);try{if(t.value===Yc)throw Ua(Yt(n));return t.value===er&&(t.value=Yc,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&yg(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{$(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ke(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ma(e){let n=dr(e),t=n!==null?n.factory:Qt(e);if(t!==null)return t;if(e instanceof Q)throw new H(204,!1);if(e instanceof Function)return hg(e);throw new H(204,!1)}function hg(e){if(e.length>0)throw new H(204,!1);let t=ng(e);return t!==null?()=>t.factory(e):()=>new e}function gg(e){if(au(e))return oi(void 0,e.useValue);{let n=Qa(e);return oi(n,er)}}function Qa(e,n,t){let i;if(wn(e)){let o=ke(e);return Qt(o)||Ma(o)}else if(au(e))i=()=>ke(e.useValue);else if(mg(e))i=()=>e.useFactory(...Sa(e.deps||[]));else if(pg(e))i=(o,r)=>le(ke(e.useExisting),r!==void 0&&r&8?8:void 0);else{let o=ke(e&&(e.useClass||e.provide));if(vg(e))i=()=>new o(...Sa(e.deps));else return Qt(o)||Ma(o)}return i}function Fi(e){if(e.destroyed)throw new H(205,!1)}function oi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function vg(e){return!!e.deps}function yg(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function bg(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ta(e,n){for(let t of e)Array.isArray(t)?Ta(t,n):t&&Pa(t)?Ta(t.\u0275providers,n):n(t)}function hr(e,n){let t;e instanceof Dn?(Fi(e),t=e):t=new Ia(e);let i,o=Et(t),r=je(void 0);try{return n()}finally{Et(o),je(r)}}function du(){return nu()!==void 0||Xo()!=null}var dt=0,q=1,W=2,Ue=3,tt=4,ct=5,si=6,ai=7,Ee=8,jt=9,Dt=10,ge=11,li=12,Ka=13,Tn=14,Ke=15,An=16,kn=17,Nn=18,Bt=19,Ja=20,Vt=21,gr=22,Kt=23,Je=24,Rn=25,Fn=26,we=27,cu=1,Xa=6,di=7,uu=8,zi=9,Se=10;function It(e){return Array.isArray(e)&&typeof e[cu]=="object"}function Ht(e){return Array.isArray(e)&&e[cu]===!0}function el(e){return(e.flags&4)!==0}function tn(e){return e.componentOffset>-1}function vr(e){return(e.flags&1)===1}function St(e){return!!e.template}function ci(e){return(e[W]&512)!==0}function On(e){return(e[W]&256)===256}var fu="svg",pu="math";function ut(e){for(;Array.isArray(e);)e=e[dt];return e}function tl(e,n){return ut(n[e])}function Mt(e,n){return ut(n[e.index])}function Gi(e,n){return e.data[n]}function nl(e,n){return e[n]}function Wi(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function nt(e,n){let t=n[e];return It(t)?t:t[dt]}function yr(e){return(e[W]&128)===128}function Tt(e,n){return n==null?null:e[n]}function il(e){e[kn]=0}function ol(e){e[W]&1024||(e[W]|=1024,yr(e)&&Pn(e))}function mu(e,n){for(;e>0;)n=n[Tn],e--;return n}function qi(e){return!!(e[W]&9216||e[Je]?.dirty)}function br(e){e[Dt].changeDetectionScheduler?.notify(8),e[W]&64&&(e[W]|=1024),qi(e)&&Pn(e)}function Pn(e){e[Dt].changeDetectionScheduler?.notify(0);let n=Jt(e);for(;n!==null&&!(n[W]&8192||(n[W]|=8192,!yr(n)));)n=Jt(n)}function rl(e,n){if(On(e))throw new H(911,!1);e[Vt]===null&&(e[Vt]=[]),e[Vt].push(n)}function hu(e,n){if(e[Vt]===null)return;let t=e[Vt].indexOf(n);t!==-1&&e[Vt].splice(t,1)}function Jt(e){let n=e[Ue];return Ht(n)?n[Ue]:n}function gu(e){return e[ai]??=[]}function vu(e){return e.cleanup??=[]}var J={lFrame:Ru(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Aa=!1;function yu(){return J.lFrame.elementDepthCount}function bu(){J.lFrame.elementDepthCount++}function sl(){J.lFrame.elementDepthCount--}function xu(){return J.bindingsEnabled}function _u(){return J.skipHydrationRootTNode!==null}function al(e){return J.skipHydrationRootTNode===e}function ll(){J.skipHydrationRootTNode=null}function K(){return J.lFrame.lView}function De(){return J.lFrame.tView}function w(e){return J.lFrame.contextLView=e,e[Ee]}function D(e){return J.lFrame.contextLView=null,e}function Ge(){let e=dl();for(;e!==null&&e.type===64;)e=e.parent;return e}function dl(){return J.lFrame.currentTNode}function Cu(){let e=J.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Vn(e,n){let t=J.lFrame;t.currentTNode=e,t.isParent=n}function cl(){return J.lFrame.isParent}function Eu(){J.lFrame.isParent=!1}function wu(){return J.lFrame.contextLView}function ul(){return Aa}function Vi(e){let n=Aa;return Aa=e,n}function Du(){let e=J.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Iu(){return J.lFrame.bindingIndex}function Su(e){return J.lFrame.bindingIndex=e}function Ut(){return J.lFrame.bindingIndex++}function xr(e){let n=J.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Mu(){return J.lFrame.inI18n}function Tu(e,n){let t=J.lFrame;t.bindingIndex=t.bindingRootIndex=e,_r(n)}function Au(){return J.lFrame.currentDirectiveIndex}function _r(e){J.lFrame.currentDirectiveIndex=e}function ku(e){let n=J.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function fl(e){J.lFrame.currentQueryIndex=e}function xg(e){let n=e[q];return n.type===2?n.declTNode:n.type===1?e[ct]:null}function pl(e,n,t){if(t&4){let o=n,r=e;for(;o=o.parent,o===null&&!(t&1);)if(o=xg(r),o===null||(r=r[Tn],o.type&10))break;if(o===null)return!1;n=o,e=r}let i=J.lFrame=Nu();return i.currentTNode=n,i.lView=e,!0}function Cr(e){let n=Nu(),t=e[q];J.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Nu(){let e=J.lFrame,n=e===null?null:e.child;return n===null?Ru(e):n}function Ru(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Fu(){let e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ml=Fu;function Er(){let e=Fu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ou(e){return(J.lFrame.contextLView=mu(e,J.lFrame.contextLView))[Ee]}function ft(){return J.lFrame.selectedIndex}function nn(e){J.lFrame.selectedIndex=e}function Zi(){let e=J.lFrame;return Gi(e.tView,e.selectedIndex)}function Pu(){return J.lFrame.currentNamespace}var Vu=!0;function wr(){return Vu}function Dr(e){Vu=e}function ka(e,n=null,t=null,i){let o=Lu(e,n,t,i);return o.resolveInjectorInitializers(),o}function Lu(e,n=null,t=null,i,o=new Set){let r=[t||He,ru(e)];return i=i||(typeof e=="object"?void 0:Yt(e)),new Dn(r,n||$i(),i||null,o)}var lt=class e{static THROW_IF_NOT_FOUND=Cn;static NULL=new Pi;static create(n,t){if(Array.isArray(n))return ka({name:""},t,n,"");{let i=n.name??"";return ka({name:i},n.parent,n.providers,i)}}static \u0275prov=de({token:e,providedIn:"any",factory:()=>le(Ga)});static __NG_ELEMENT_ID__=-1},pt=new Q(""),on=(()=>{class e{static __NG_ELEMENT_ID__=_g;static __NG_ENV_ID__=t=>t}return e})(),ir=class extends on{_lView;constructor(n){super(),this._lView=n}get destroyed(){return On(this._lView)}onDestroy(n){let t=this._lView;return rl(t,n),()=>hu(t,n)}};function _g(){return new ir(K())}var ju=!1,Bu=new Q(""),ui=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ri(!1);debugTaskTracker=F(Bu,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ce(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=de({token:e,providedIn:"root",factory:()=>new e})}return e})(),Na=class extends _t{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,du()&&(this.destroyRef=F(on,{optional:!0})??void 0,this.pendingTasks=F(ui,{optional:!0})??void 0)}emit(n){let t=$(null);try{super.next(n)}finally{$(t)}}subscribe(n,t,i){let o=n,r=t||(()=>null),s=i;if(n&&typeof n=="object"){let f=n;o=f.next?.bind(f),r=f.error?.bind(f),s=f.complete?.bind(f)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:o,error:r,complete:s});return n instanceof Le&&n.add(c),c}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Be=Na;function or(...e){}function hl(e){let n,t;function i(){e=or;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Hu(e){return queueMicrotask(()=>e()),()=>{e=or}}var gl="isAngularZone",Li=gl+"_ID",Cg=0,Qe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Be(!1);onMicrotaskEmpty=new Be(!1);onStable=new Be(!1);onError=new Be(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=ju}=n;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&i,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,Dg(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gl)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new H(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,n,Eg,or,or);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},Eg={};function vl(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wg(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){hl(()=>{e.callbackScheduled=!1,Ra(e),e.isCheckStableRunning=!0,vl(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Ra(e)}function Dg(e){let n=()=>{wg(e)},t=Cg++;e._inner=e._inner.fork({name:"angular",properties:{[gl]:!0,[Li]:t,[Li+t]:!0},onInvokeTask:(i,o,r,s,c,f)=>{if(Ig(f))return i.invokeTask(r,s,c,f);try{return Qc(e),i.invokeTask(r,s,c,f)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Kc(e)}},onInvoke:(i,o,r,s,c,f,h)=>{try{return Qc(e),i.invoke(r,s,c,f,h)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Sg(f)&&n(),Kc(e)}},onHasTask:(i,o,r,s)=>{i.hasTask(r,s),o===r&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ra(e),vl(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,o,r,s)=>(i.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ra(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Qc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Kc(e){e._nesting--,vl(e)}var ji=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Be;onMicrotaskEmpty=new Be;onStable=new Be;onError=new Be;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,o){return n.apply(t,i)}};function Ig(e){return Uu(e,"__ignore_ng_zone__")}function Sg(e){return Uu(e,"__scheduler_tick__")}function Uu(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var wt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Ln=new Q("",{factory:()=>{let e=F(Qe),n=F(at),t;return i=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw i}):(t??=n.get(wt),t.handleError(i))})}}}),$u={provide:Hi,useValue:()=>{let e=F(wt,{optional:!0})},multi:!0};function R(e,n){let[t,i,o]=da(e,n?.equal),r=t,s=r[Ve];return r.set=i,r.update=o,r.asReadonly=zu.bind(r),r}function zu(){let e=this[Ve];if(e.readonlyFn===void 0){let n=()=>this();n[Ve]=e,e.readonlyFn=n}return e.readonlyFn}var Yi=(()=>{class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=Mg}return e})();function Mg(){return new Yi(K(),Ge())}var Xt=class{},Qi=new Q("",{factory:()=>!0});var yl=new Q("");var Ir=(()=>{class e{static \u0275prov=de({token:e,providedIn:"root",factory:()=>new Fa})}return e})(),Fa=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,i]of this.queues)t===null?n||=this.flushQueue(i):n||=t.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let i of n)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}},rr=class{[Ve];constructor(n){this[Ve]=n}destroy(){this[Ve].destroy()}};function ye(e,n){let t=n?.injector??F(lt),i=n?.manualCleanup!==!0?t.get(on):null,o,r=t.get(Yi,null,{optional:!0}),s=t.get(Xt);return r!==null?(o=kg(r.view,s,e),i instanceof ir&&i._lView===r.view&&(i=null)):o=Ng(e,t.get(Ir),s),o.injector=t,i!==null&&(o.onDestroyFns=[i.onDestroy(()=>o.destroy())]),new rr(o)}var Gu=N(A({},ua),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let e=Vi(!1);try{fa(this)}finally{Vi(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=$(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],$(e)}}}),Tg=N(A({},Gu),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(vn(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.scheduler.remove(this)}}),Ag=N(A({},Gu),{consumerMarkedDirty(){this.view[W]|=8192,Pn(this.view),this.notifier.notify(13)},destroy(){if(vn(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.view[Kt]?.delete(this)}});function kg(e,n,t){let i=Object.create(Ag);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=n,i.fn=Wu(i,t),e[Kt]??=new Set,e[Kt].add(i),i.consumerMarkedDirty(i),i}function Ng(e,n,t){let i=Object.create(Tg);return i.fn=Wu(i,e),i.scheduler=n,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function Wu(e,n){return()=>{n(t=>(e.cleanupFns??=[]).push(t))}}function mt(e){return ca(e)}function oo(e){return{toString:e}.toString()}function bf(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var Nr=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}},yi=(()=>{let e=()=>xf;return e.ngInherit=!0,e})();function xf(e){return e.type.prototype.ngOnChanges&&(e.setInput=zg),$g}function $g(){let e=Cf(this),n=e?.current;if(n){let t=e.previous;if(t===en)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function zg(e,n,t,i,o){let r=this.declaredInputs[i],s=Cf(e)||Gg(e,{previous:en,current:null}),c=s.current||(s.current={}),f=s.previous,h=f[r];c[r]=new Nr(h&&h.currentValue,t,f===en),bf(e,n,o,t)}var _f="__ngSimpleChanges__";function Cf(e){return e[_f]||null}function Gg(e,n){return e[_f]=n}var qu=[];var ae=function(e,n=null,t){for(let i=0;i<qu.length;i++){let o=qu[i];o(e,n,t)}},oe=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(oe||{});function Wg(e,n,t){let{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=n.type.prototype;if(i){let s=xf(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),r&&((t.preOrderHooks??=[]).push(e,r),(t.preOrderCheckHooks??=[]).push(e,r))}function qg(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let r=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:f,ngAfterViewChecked:h,ngOnDestroy:g}=r;s&&(e.contentHooks??=[]).push(-t,s),c&&((e.contentHooks??=[]).push(t,c),(e.contentCheckHooks??=[]).push(t,c)),f&&(e.viewHooks??=[]).push(-t,f),h&&((e.viewHooks??=[]).push(t,h),(e.viewCheckHooks??=[]).push(t,h)),g!=null&&(e.destroyHooks??=[]).push(t,g)}}function Mr(e,n,t){Ef(e,n,3,t)}function Tr(e,n,t,i){(e[W]&3)===t&&Ef(e,n,t,i)}function bl(e,n){let t=e[W];(t&3)===n&&(t&=16383,t+=1,e[W]=t)}function Ef(e,n,t,i){let o=i!==void 0?e[kn]&65535:0,r=i??-1,s=n.length-1,c=0;for(let f=o;f<s;f++)if(typeof n[f+1]=="number"){if(c=n[f],i!=null&&c>=i)break}else n[f]<0&&(e[kn]+=65536),(c<r||r==-1)&&(Zg(e,t,n,f),e[kn]=(e[kn]&4294901760)+f+2),f++}function Zu(e,n){ae(oe.LifecycleHookStart,e,n);let t=$(null);try{n.call(e)}finally{$(t),ae(oe.LifecycleHookEnd,e,n)}}function Zg(e,n,t,i){let o=t[i]<0,r=t[i+1],s=o?-t[i]:t[i],c=e[s];o?e[W]>>14<e[kn]>>16&&(e[W]&3)===n&&(e[W]+=16384,Zu(c,r)):Zu(c,r)}var pi=-1,jn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i,o){this.factory=n,this.name=o,this.canSeeViewProviders=t,this.injectImpl=i}};function Yg(e){return(e.flags&8)!==0}function Qg(e){return(e.flags&16)!==0}function Kg(e,n,t){let i=0;for(;i<t.length;){let o=t[i];if(typeof o=="number"){if(o!==0)break;i++;let r=t[i++],s=t[i++],c=t[i++];e.setAttribute(n,s,c,r)}else{let r=o,s=t[++i];Xg(r)?e.setProperty(n,r,s):e.setAttribute(n,r,s),i++}}return i}function Jg(e){return e===3||e===4||e===6}function Xg(e){return e.charCodeAt(0)===64}function mi(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let o=n[i];typeof o=="number"?t=o:t===0||(t===-1||t===2?Yu(e,t,o,null,n[++i]):Yu(e,t,o,null,null))}}return e}function Yu(e,n,t,i,o){let r=0,s=e.length;if(n===-1)s=-1;else for(;r<e.length;){let c=e[r++];if(typeof c=="number"){if(c===n){s=-1;break}else if(c>n){s=r-1;break}}}for(;r<e.length;){let c=e[r];if(typeof c=="number")break;if(c===t){o!==null&&(e[r+1]=o);return}r++,o!==null&&r++}s!==-1&&(e.splice(s,0,n),r=s+1),e.splice(r++,0,t),o!==null&&e.splice(r++,0,o)}function e0(e){return e!==pi}function Tl(e){return e&32767}function t0(e){return e>>16}function Al(e,n){let t=t0(e),i=n;for(;t>0;)i=i[Tn],t--;return i}var kl=!0;function Rr(e){let n=kl;return kl=e,n}var n0=256,wf=n0-1,Df=5,i0=0,At={};function o0(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Sn)&&(i=t[Sn]),i==null&&(i=t[Sn]=i0++);let o=i&wf,r=1<<o;n.data[e+(o>>Df)]|=r}function Fr(e,n){let t=If(e,n);if(t!==-1)return t;let i=n[q];i.firstCreatePass&&(e.injectorIndex=n.length,xl(i.data,e),xl(n,null),xl(i.blueprint,null));let o=Sf(e,n),r=e.injectorIndex;if(e0(o)){let s=Tl(o),c=Al(o,n),f=c[q].data;for(let h=0;h<8;h++)n[r+h]=c[s+h]|f[s+h]}return n[r+8]=o,r}function xl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function If(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Sf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,o=n;for(;o!==null;){if(i=Nf(o),i===null)return pi;if(t++,o=o[Tn],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return pi}function Nl(e,n,t){o0(e,n,t)}function Mf(e,n,t){if(t&8||e!==void 0)return e;ur(n,"NodeInjector")}function Tf(e,n,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let o=e[jt],r=je(void 0);try{return o?o.get(n,i,t&8):$a(n,i,t&8)}finally{je(r)}}return Mf(i,n,t)}function Af(e,n,t,i=0,o){if(e!==null){if(n[W]&2048&&!(i&2)){let s=d0(e,n,t,i,At);if(s!==At)return s}let r=kf(e,n,t,i,At);if(r!==At)return r}return Tf(n,t,i,o)}function kf(e,n,t,i,o){let r=a0(t);if(typeof r=="function"){if(!pl(n,e,i))return i&1?Mf(o,t,i):Tf(n,t,i,o);try{let s;if(s=r(i),s==null&&!(i&8))ur(t);else return s}finally{ml()}}else if(typeof r=="number"){let s=null,c=If(e,n),f=pi,h=i&1?n[Ke][ct]:null;for((c===-1||i&4)&&(f=c===-1?Sf(e,n):n[c+8],f===pi||!Ku(i,!1)?c=-1:(s=n[q],c=Tl(f),n=Al(f,n)));c!==-1;){let g=n[q];if(Qu(r,c,g.data)){let b=r0(c,n,t,s,i,h);if(b!==At)return b}f=n[c+8],f!==pi&&Ku(i,n[q].data[c+8]===h)&&Qu(r,c,n)?(s=g,c=Tl(f),n=Al(f,n)):c=-1}}return o}function r0(e,n,t,i,o,r){let s=n[q],c=s.data[e+8],f=i==null?tn(c)&&kl:i!=s&&(c.type&3)!==0,h=o&1&&r===c,g=s0(c,s,t,f,h);return g!==null?Or(n,s,g,c,o):At}function s0(e,n,t,i,o){let r=e.providerIndexes,s=n.data,c=r&1048575,f=e.directiveStart,h=e.directiveEnd,g=r>>20,b=i?c:c+g,S=o?c+g:h;for(let _=b;_<S;_++){let O=s[_];if(_<f&&t===O||_>=f&&O.type===t)return _}if(o){let _=s[f];if(_&&St(_)&&_.type===t)return f}return null}function Or(e,n,t,i,o){let r=e[t],s=n.data;if(r instanceof jn){let c=r;if(c.resolving)throw Ua("");let f=Rr(c.canSeeViewProviders);c.resolving=!0;let h=s[t].type||s[t],g,b=c.injectImpl?je(c.injectImpl):null,S=pl(e,i,0);try{r=e[t]=c.factory(void 0,o,s,e,i),n.firstCreatePass&&t>=i.directiveStart&&Wg(t,s[t],n)}finally{b!==null&&je(b),Rr(f),c.resolving=!1,ml()}}return r}function a0(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Sn)?e[Sn]:void 0;return typeof n=="number"?n>=0?n&wf:l0:n}function Qu(e,n,t){let i=1<<e;return!!(t[n+(e>>Df)]&i)}function Ku(e,n){return!(e&2)&&!(e&1&&n)}var Pr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return Af(this._tNode,this._lView,n,En(i),t)}};function l0(){return new Pr(Ge(),K())}function rn(e){return oo(()=>{let n=e.prototype.constructor,t=n[Oi]||Rl(n),i=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==i;){let r=o[Oi]||Rl(o);if(r&&r!==t)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function Rl(e){return Oa(e)?()=>{let n=Rl(ke(e));return n&&n()}:Qt(e)}function d0(e,n,t,i,o){let r=e,s=n;for(;r!==null&&s!==null&&s[W]&2048&&!ci(s);){let c=kf(r,s,t,i|2,At);if(c!==At)return c;let f=r.parent;if(!f){let h=s[Ja];if(h){let g=h.get(t,At,i);if(g!==At)return g}f=Nf(s),s=s[Tn]}r=f}return o}function Nf(e){let n=e[q],t=n.type;return t===2?n.declTNode:t===1?e[ct]:null}function c0(){return Rf(Ge(),K())}function Rf(e,n){return new $t(Mt(e,n))}var $t=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=c0}return e})();function Ff(e){return(e.flags&128)===128}var ed=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(ed||{}),Of=new Map,u0=0;function f0(){return u0++}function p0(e){Of.set(e[Bt],e)}function Fl(e){Of.delete(e[Bt])}var Ju="__ngContext__";function hi(e,n){It(n)?(e[Ju]=n[Bt],p0(n)):e[Ju]=n}function Pf(e){return Lf(e[li])}function Vf(e){return Lf(e[tt])}function Lf(e){for(;e!==null&&!Ht(e);)e=e[tt];return e}var m0;function td(e){m0=e}var Wr=new Q("",{factory:()=>h0}),h0="ng";var qr=new Q(""),ro=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Zr=new Q("",{factory:()=>F(pt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var jf="r";var Bf="di";var Hf=!1,Uf=new Q("",{factory:()=>Hf});var g0=(e,n,t,i)=>{};function v0(e,n,t,i){g0(e,n,t,i)}function nd(e){return(e.flags&32)===32}var y0=()=>null;function $f(e,n,t=!1){return y0(e,n,t)}function zf(e,n){let t=e.contentQueries;if(t!==null){let i=$(null);try{for(let o=0;o<t.length;o+=2){let r=t[o],s=t[o+1];if(s!==-1){let c=e.data[s];fl(r),c.contentQueries(2,n[s],s)}}}finally{$(i)}}}function Ol(e,n,t){fl(0);let i=$(null);try{n(e,t)}finally{$(i)}}function Gf(e,n,t){if(el(n)){let i=$(null);try{let o=n.directiveStart,r=n.directiveEnd;for(let s=o;s<r;s++){let c=e.data[s];if(c.contentQueries){let f=t[s];c.contentQueries(1,f,s)}}}finally{$(i)}}}var vt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(vt||{});var Vr=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sr})`}};function Yr(e){return e instanceof Vr?e.changingThisBreaksApplicationSecurity:e}function Wf(e,n){let t=qf(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${sr})`)}return t===n}function qf(e){return e instanceof Vr&&e.getTypeName()||null}var b0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zf(e){return e=String(e),e.match(b0)?e:"unsafe:"+e}function x0(e,n){return e.createText(n)}function _0(e,n,t){e.setValue(n,t)}function Yf(e,n,t){return e.createElement(n,t)}function Pl(e,n,t,i,o){e.insertBefore(n,t,i,o)}function Qf(e,n,t){e.appendChild(n,t)}function Xu(e,n,t,i,o){i!==null?Pl(e,n,t,i,o):Qf(e,n,t)}function Kf(e,n,t,i){e.removeChild(null,n,t,i)}function C0(e,n,t){e.setAttribute(n,"style",t)}function E0(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Jf(e,n,t){let{mergedAttrs:i,classes:o,styles:r}=t;i!==null&&Kg(e,n,i),o!==null&&E0(e,n,o),r!==null&&C0(e,n,r)}var id=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(id||{});function $n(e){let n=w0();return n?n.sanitize(id.URL,e)||"":Wf(e,"URL")?Yr(e):Zf(Mn(e))}function w0(){let e=K();return e&&e[Dt].sanitizer}function D0(e,n,t){let i=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let r=n.length;if(o+r===i||e.charCodeAt(o+r)<=32)return o}t=o+1}}var Xf="ng-template";function I0(e,n,t,i){let o=0;if(i){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&D0(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(od(e))return!1;if(o=n.indexOf(1,o),o>-1){let r;for(;++o<n.length&&typeof(r=n[o])=="string";)if(r.toLowerCase()===t)return!0}return!1}function od(e){return e.type===4&&e.value!==Xf}function S0(e,n,t){let i=e.type===4&&!t?Xf:e.value;return n===i}function M0(e,n,t){let i=4,o=e.attrs,r=o!==null?k0(o):0,s=!1;for(let c=0;c<n.length;c++){let f=n[c];if(typeof f=="number"){if(!s&&!ht(i)&&!ht(f))return!1;if(s&&ht(f))continue;s=!1,i=f|i&1;continue}if(!s)if(i&4){if(i=2|i&1,f!==""&&!S0(e,f,t)||f===""&&n.length===1){if(ht(i))return!1;s=!0}}else if(i&8){if(o===null||!I0(e,o,f,t)){if(ht(i))return!1;s=!0}}else{let h=n[++c],g=T0(f,o,od(e),t);if(g===-1){if(ht(i))return!1;s=!0;continue}if(h!==""){let b;if(g>r?b="":b=o[g+1].toLowerCase(),i&2&&h!==b){if(ht(i))return!1;s=!0}}}}return ht(i)||s}function ht(e){return(e&1)===0}function T0(e,n,t,i){if(n===null)return-1;let o=0;if(i||!t){let r=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let c=n[++o];for(;typeof c=="string";)c=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return N0(n,e)}function A0(e,n,t=!1){for(let i=0;i<n.length;i++)if(M0(e,n[i],t))return!0;return!1}function k0(e){for(let n=0;n<e.length;n++){let t=e[n];if(Jg(t))return n}return e.length}function N0(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function ef(e,n){return e?":not("+n.trim()+")":n}function R0(e){let n=e[0],t=1,i=2,o="",r=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let c=e[++t];o+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else i&8?o+="."+s:i&4&&(o+=" "+s);else o!==""&&!ht(s)&&(n+=ef(r,o),o=""),i=s,r=r||!ht(i);t++}return o!==""&&(n+=ef(r,o)),n}function F0(e){return e.map(R0).join(",")}function O0(e){let n=[],t=[],i=1,o=2;for(;i<e.length;){let r=e[i];if(typeof r=="string")o===2?r!==""&&n.push(r,e[++i]):o===8&&t.push(r);else{if(!ht(o))break;o=r}i++}return t.length&&n.push(1,...t),n}var $e={};function rd(e,n,t,i,o,r,s,c,f,h,g){let b=we+i,S=b+o,_=P0(b,S),O=typeof h=="function"?h():h;return _[q]={type:e,blueprint:_,template:t,queries:null,viewQuery:c,declTNode:n,data:_.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:f,consts:O,incompleteFirstPass:!1,ssrId:g}}function P0(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:$e);return t}function V0(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=rd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function sd(e,n,t,i,o,r,s,c,f,h,g){let b=n.blueprint.slice();return b[dt]=o,b[W]=i|4|128|8|64|1024,(h!==null||e&&e[W]&2048)&&(b[W]|=2048),il(b),b[Ue]=b[Tn]=e,b[Ee]=t,b[Dt]=s||e&&e[Dt],b[ge]=c||e&&e[ge],b[jt]=f||e&&e[jt]||null,b[ct]=r,b[Bt]=f0(),b[si]=g,b[Ja]=h,b[Ke]=n.type==2?e[Ke]:b,b}function L0(e,n,t){let i=Mt(n,e),o=V0(t),r=e[Dt].rendererFactory,s=np(e,sd(e,o,null,ep(t),i,n,null,r.createRenderer(i,t),null,null,null));return e[n.index]=s}function ep(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function tp(e,n,t,i){if(t===0)return-1;let o=n.length;for(let r=0;r<t;r++)n.push(i),e.blueprint.push(i),e.data.push(null);return o}function np(e,n){return e[li]?e[Ka][tt]=n:e[li]=n,e[Ka]=n,n}function u(e=1){ip(De(),K(),ft()+e,!1)}function ip(e,n,t,i){if(!i)if((n[W]&3)===3){let r=e.preOrderCheckHooks;r!==null&&Mr(n,r,t)}else{let r=e.preOrderHooks;r!==null&&Tr(n,r,0,t)}nn(t)}var Qr=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Qr||{});function Vl(e,n,t,i){let o=$(null);try{let[r,s,c]=e.inputs[t],f=null;(s&Qr.SignalBased)!==0&&(f=n[r][Ve]),f!==null&&f.transformFn!==void 0?i=f.transformFn(i):c!==null&&(i=c.call(n,i)),e.setInput!==null?e.setInput(n,f,i,t,r):bf(n,f,r,i)}finally{$(o)}}var kt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(kt||{}),j0;function ad(e,n){return j0(e,n)}var Bn=new Set,Kr=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Kr||{}),zn=new Q(""),tf=new Set;function zt(e){tf.has(e)||(tf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ld=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=de({token:e,providedIn:"root",factory:()=>new e})}return e})(),op=[0,1,2,3],rp=(()=>{class e{ngZone=F(Qe);scheduler=F(Xt);errorHandler=F(wt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(zn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ae(oe.AfterRenderHooksStart),this.executing=!0;for(let i of op)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[i]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=o.hooks[i];return r(o.pipelinedValue)},o.snapshot))}catch(r){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ae(oe.AfterRenderHooksEnd)}register(t){let{view:i}=t;i!==void 0?((i[Rn]??=[]).push(t),Pn(i),i[W]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Kr.AFTER_NEXT_RENDER,t):t()}static \u0275prov=de({token:e,providedIn:"root",factory:()=>new e})}return e})(),Lr=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,i,o,r,s=null){this.impl=n,this.hooks=t,this.view=i,this.once=o,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Rn];n&&(this.view[Rn]=n.filter(t=>t!==this))}};function dd(e,n){let t=n?.injector??F(lt);return zt("NgAfterNextRender"),H0(e,t,n,!0)}function B0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function H0(e,n,t,i){let o=n.get(ld);o.impl??=n.get(rp);let r=n.get(zn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(on):null,c=n.get(Yi,null,{optional:!0}),f=new Lr(o.impl,B0(e),c?.view,i,s,r?.snapshot(null));return o.impl.register(f),f}var sp=new Q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:F(at)})});function ap(e,n,t){let i=e.get(sp);if(Array.isArray(n))for(let o of n)i.queue.add(o),t?.detachedLeaveAnimationFns?.push(o);else i.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);i.scheduler&&i.scheduler(e)}function U0(e,n){let t=e.get(sp);if(n.detachedLeaveAnimationFns){for(let i of n.detachedLeaveAnimationFns)t.queue.delete(i);n.detachedLeaveAnimationFns=void 0}}function $0(e,n){for(let[t,i]of n)ap(e,i.animateFns)}function nf(e,n,t,i){let o=e?.[Fn]?.enter;n!==null&&o&&o.has(t.index)&&$0(i,o)}function fi(e,n,t,i,o,r,s,c){if(o!=null){let f,h=!1;Ht(o)?f=o:It(o)&&(h=!0,o=o[dt]);let g=ut(o);e===0&&i!==null?(nf(c,i,r,t),s==null?Qf(n,i,g):Pl(n,i,g,s||null,!0)):e===1&&i!==null?(nf(c,i,r,t),Pl(n,i,g,s||null,!0)):e===2?of(c,r,t,b=>{Kf(n,g,h,b)}):e===3&&of(c,r,t,()=>{n.destroyNode(g)}),f!=null&&nv(n,e,t,f,r,i,s)}}function z0(e,n){lp(e,n),n[dt]=null,n[ct]=null}function G0(e,n,t,i,o,r){i[dt]=o,i[ct]=n,Jr(e,i,t,1,o,r)}function lp(e,n){n[Dt].changeDetectionScheduler?.notify(9),Jr(e,n,n[ge],2,null,null)}function W0(e){let n=e[li];if(!n)return _l(e[q],e);for(;n;){let t=null;if(It(n))t=n[li];else{let i=n[Se];i&&(t=i)}if(!t){for(;n&&!n[tt]&&n!==e;)It(n)&&_l(n[q],n),n=n[Ue];n===null&&(n=e),It(n)&&_l(n[q],n),t=n&&n[tt]}n=t}}function cd(e,n){let t=e[zi],i=t.indexOf(n);t.splice(i,1)}function ud(e,n){if(On(n))return;let t=n[ge];t.destroyNode&&Jr(e,n,t,3,null,null),W0(n)}function _l(e,n){if(On(n))return;let t=$(null);try{n[W]&=-129,n[W]|=256,n[Je]&&vn(n[Je]),Y0(e,n),Z0(e,n),n[q].type===1&&n[ge].destroy();let i=n[An];if(i!==null&&Ht(n[Ue])){i!==n[Ue]&&cd(i,n);let o=n[Nn];o!==null&&o.detachView(e)}Fl(n)}finally{$(t)}}function of(e,n,t,i){let o=e?.[Fn];if(o==null||o.leave==null||!o.leave.has(n.index))return i(!1);e&&Bn.add(e[Bt]),ap(t,()=>{if(o.leave&&o.leave.has(n.index)){let s=o.leave.get(n.index),c=[];if(s){for(let f=0;f<s.animateFns.length;f++){let h=s.animateFns[f],{promise:g}=h();c.push(g)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(c),q0(e,i)}else e&&Bn.delete(e[Bt]),i(!1)},o)}function q0(e,n){let t=e[Fn]?.running;if(t){t.then(()=>{e[Fn].running=void 0,Bn.delete(e[Bt]),n(!0)});return}n(!1)}function Z0(e,n){let t=e.cleanup,i=n[ai];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?i[c]():i[-c].unsubscribe(),s+=2}else{let c=i[t[s+1]];t[s].call(c)}i!==null&&(n[ai]=null);let o=n[Vt];if(o!==null){n[Vt]=null;for(let s=0;s<o.length;s++){let c=o[s];c()}}let r=n[Kt];if(r!==null){n[Kt]=null;for(let s of r)s.destroy()}}function Y0(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let o=n[t[i]];if(!(o instanceof jn)){let r=t[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let c=o[r[s]],f=r[s+1];ae(oe.LifecycleHookStart,c,f);try{f.call(c)}finally{ae(oe.LifecycleHookEnd,c,f)}}else{ae(oe.LifecycleHookStart,o,r);try{r.call(o)}finally{ae(oe.LifecycleHookEnd,o,r)}}}}}function Q0(e,n,t){return K0(e,n.parent,t)}function K0(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[dt];if(tn(i)){let{encapsulation:o}=e.data[i.directiveStart+i.componentOffset];if(o===vt.None||o===vt.Emulated)return null}return Mt(i,t)}function J0(e,n,t){return ev(e,n,t)}function X0(e,n,t){return e.type&40?Mt(e,t):null}var ev=X0,rf;function fd(e,n,t,i){let o=Q0(e,i,n),r=n[ge],s=i.parent||n[ct],c=J0(s,i,n);if(o!=null)if(Array.isArray(t))for(let f=0;f<t.length;f++)Xu(r,o,t[f],c,!1);else Xu(r,o,t,c,!1);rf!==void 0&&rf(r,i,n,t,o)}function Ji(e,n){if(n!==null){let t=n.type;if(t&3)return Mt(n,e);if(t&4)return Ll(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return Ji(e,i);{let o=e[n.index];return Ht(o)?Ll(-1,o):ut(o)}}else{if(t&128)return Ji(e,n.next);if(t&32)return ad(n,e)()||ut(e[n.index]);{let i=dp(e,n);if(i!==null){if(Array.isArray(i))return i[0];let o=Jt(e[Ke]);return Ji(o,i)}else return Ji(e,n.next)}}}return null}function dp(e,n){if(n!==null){let i=e[Ke][ct],o=n.projection;return i.projection[o]}return null}function Ll(e,n){let t=Se+e+1;if(t<n.length){let i=n[t],o=i[q].firstChild;if(o!==null)return Ji(i,o)}return n[di]}function pd(e,n,t,i,o,r,s){for(;t!=null;){let c=i[jt];if(t.type===128){t=t.next;continue}let f=i[t.index],h=t.type;if(s&&n===0&&(f&&hi(ut(f),i),t.flags|=2),!nd(t))if(h&8)pd(e,n,t.child,i,o,r,!1),fi(n,e,c,o,f,t,r,i);else if(h&32){let g=ad(t,i),b;for(;b=g();)fi(n,e,c,o,b,t,r,i);fi(n,e,c,o,f,t,r,i)}else h&16?tv(e,n,i,t,o,r):fi(n,e,c,o,f,t,r,i);t=s?t.projectionNext:t.next}}function Jr(e,n,t,i,o,r){pd(t,i,e.firstChild,n,o,r,!1)}function tv(e,n,t,i,o,r){let s=t[Ke],f=s[ct].projection[i.projection];if(Array.isArray(f))for(let h=0;h<f.length;h++){let g=f[h];fi(n,e,t[jt],o,g,i,r,t)}else{let h=f,g=s[Ue];Ff(i)&&(h.flags|=128),pd(e,n,h,g,o,r,!0)}}function nv(e,n,t,i,o,r,s){let c=i[di],f=ut(i);c!==f&&fi(n,e,t,r,c,o,s);for(let h=Se;h<i.length;h++){let g=i[h];Jr(g[q],g,e,n,r,c)}}function iv(e,n,t,i,o){if(n)o?e.addClass(t,i):e.removeClass(t,i);else{let r=i.indexOf("-")===-1?void 0:kt.DashCase;o==null?e.removeStyle(t,i,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=kt.Important),e.setStyle(t,i,o,r))}}function cp(e,n,t,i,o){let r=ft(),s=i&2;try{nn(-1),s&&n.length>we&&ip(e,n,we,!1);let c=s?oe.TemplateUpdateStart:oe.TemplateCreateStart;ae(c,o,t),t(i,o)}finally{nn(r);let c=s?oe.TemplateUpdateEnd:oe.TemplateCreateEnd;ae(c,o,t)}}function up(e,n,t){dv(e,n,t),(t.flags&64)===64&&cv(e,n,t)}function md(e,n,t=Mt){let i=n.localNames;if(i!==null){let o=n.index+1;for(let r=0;r<i.length;r+=2){let s=i[r+1],c=s===-1?t(n,e):e[s];e[o++]=c}}}function ov(e,n,t,i){let r=i.get(Uf,Hf)||t===vt.ShadowDom||t===vt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,r);return rv(s),s}function rv(e){sv(e)}var sv=()=>null;function av(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function fp(e,n,t,i,o,r){let s=n[q];if(hd(e,s,n,t,i)){tn(e)&&lv(n,e.index);return}e.type&3&&(t=av(t)),pp(e,n,t,i,o,r)}function pp(e,n,t,i,o,r){if(e.type&3){let s=Mt(e,n);i=r!=null?r(i,e.value||"",t):i,o.setProperty(s,t,i)}else e.type&12}function lv(e,n){let t=nt(n,e);t[W]&16||(t[W]|=64)}function dv(e,n,t){let i=t.directiveStart,o=t.directiveEnd;tn(t)&&L0(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Fr(t,n);let r=t.initialInputs;for(let s=i;s<o;s++){let c=e.data[s],f=Or(n,e,s,t);if(hi(f,n),r!==null&&hv(n,s-i,f,c,t,r),St(c)){let h=nt(t.index,n);h[Ee]=Or(n,e,s,t)}}}function cv(e,n,t){let i=t.directiveStart,o=t.directiveEnd,r=t.index,s=Au();try{nn(r);for(let c=i;c<o;c++){let f=e.data[c],h=n[c];_r(c),(f.hostBindings!==null||f.hostVars!==0||f.hostAttrs!==null)&&uv(f,h)}}finally{nn(-1),_r(s)}}function uv(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function fv(e,n){let t=e.directiveRegistry,i=null;if(t)for(let o=0;o<t.length;o++){let r=t[o];A0(n,r.selectors,!1)&&(i??=[],St(r)?i.unshift(r):i.push(r))}return i}function pv(e,n,t,i,o,r){let s=Mt(e,n);mv(n[ge],s,r,e.value,t,i,o)}function mv(e,n,t,i,o,r,s){if(r==null)e.removeAttribute(n,o,t);else{let c=s==null?Mn(r):s(r,i||"",o);e.setAttribute(n,o,c,t)}}function hv(e,n,t,i,o,r){let s=r[n];if(s!==null)for(let c=0;c<s.length;c+=2){let f=s[c],h=s[c+1];Vl(i,t,f,h)}}function mp(e,n,t,i,o){let r=we+t,s=n[q],c=o(s,n,e,i,t);n[r]=c,Vn(e,!0);let f=e.type===2;return f?(Jf(n[ge],c,e),(yu()===0||vr(e))&&hi(c,n),bu()):hi(c,n),wr()&&(!f||!nd(e))&&fd(s,n,c,e),e}function hp(e){let n=e;return cl()?Eu():(n=n.parent,Vn(n,!1)),n}function gv(e,n){let t=e[jt];if(!t)return;let i;try{i=t.get(Ln,null)}catch{i=null}i?.(n)}function hd(e,n,t,i,o){let r=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],c=!1;if(s)for(let f=0;f<s.length;f+=2){let h=s[f],g=s[f+1],b=n.data[h];Vl(b,t[h],g,o),c=!0}if(r)for(let f of r){let h=t[f],g=n.data[f];Vl(g,h,i,o),c=!0}return c}function vv(e,n){let t=nt(n,e),i=t[q];yv(i,t);let o=t[dt];o!==null&&t[si]===null&&(t[si]=$f(o,t[jt])),ae(oe.ComponentStart);try{gd(i,t,t[Ee])}finally{ae(oe.ComponentEnd,t[Ee])}}function yv(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function gd(e,n,t){Cr(n);try{let i=e.viewQuery;i!==null&&Ol(1,i,t);let o=e.template;o!==null&&cp(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Nn]?.finishViewCreation(e),e.staticContentQueries&&zf(e,n),e.staticViewQueries&&Ol(2,e.viewQuery,t);let r=e.components;r!==null&&bv(n,r)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[W]&=-5,Er()}}function bv(e,n){for(let t=0;t<n.length;t++)vv(e,n[t])}function vd(e,n,t,i){let o=$(null);try{let r=n.tView,c=e[W]&4096?4096:16,f=sd(e,r,t,c,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),h=e[n.index];f[An]=h;let g=e[Nn];return g!==null&&(f[Nn]=g.createEmbeddedView(r)),gd(r,f,t),f}finally{$(o)}}function yd(e,n){return!n||n.firstChild===null||Ff(e)}function eo(e,n,t,i,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let r=n[t.index];r!==null&&i.push(ut(r)),Ht(r)&&gp(r,i);let s=t.type;if(s&8)eo(e,n,t.child,i);else if(s&32){let c=ad(t,n),f;for(;f=c();)i.push(f)}else if(s&16){let c=dp(n,t);if(Array.isArray(c))i.push(...c);else{let f=Jt(n[Ke]);eo(f[q],f,c,i,!0)}}t=o?t.projectionNext:t.next}return i}function gp(e,n){for(let t=Se;t<e.length;t++){let i=e[t],o=i[q].firstChild;o!==null&&eo(i[q],i,o,n)}e[di]!==e[dt]&&n.push(e[di])}function vp(e){if(e[Rn]!==null){for(let n of e[Rn])n.impl.addSequence(n);e[Rn].length=0}}var yp=[];function xv(e){return e[Je]??_v(e)}function _v(e){let n=yp.pop()??Object.create(Ev);return n.lView=e,n}function Cv(e){e.lView[Je]!==e&&(e.lView=null,yp.push(e))}var Ev=N(A({},Zn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Pn(e.lView)},consumerOnSignalRead(){this.lView[Je]=this}});function wv(e){let n=e[Je]??Object.create(Dv);return n.lView=e,n}var Dv=N(A({},Zn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Jt(e.lView);for(;n&&!bp(n[q]);)n=Jt(n);n&&ol(n)},consumerOnSignalRead(){this.lView[Je]=this}});function bp(e){return e.type!==2}function xp(e){if(e[Kt]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[Kt])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[W]&8192)}}var Iv=100;function _p(e,n=0){let i=e[Dt].rendererFactory,o=!1;o||i.begin?.();try{Sv(e,n)}finally{o||i.end?.()}}function Sv(e,n){let t=ul();try{Vi(!0),jl(e,n);let i=0;for(;qi(e);){if(i===Iv)throw new H(103,!1);i++,jl(e,1)}}finally{Vi(t)}}function Mv(e,n,t,i){if(On(n))return;let o=n[W],r=!1,s=!1;Cr(n);let c=!0,f=null,h=null;r||(bp(e)?(h=xv(n),f=Yn(h)):No()===null?(c=!1,h=wv(n),f=Yn(h)):n[Je]&&(vn(n[Je]),n[Je]=null));try{il(n),Su(e.bindingStartIndex),t!==null&&cp(e,n,t,2,i);let g=(o&3)===3;if(!r)if(g){let _=e.preOrderCheckHooks;_!==null&&Mr(n,_,null)}else{let _=e.preOrderHooks;_!==null&&Tr(n,_,0,null),bl(n,0)}if(s||Tv(n),xp(n),Cp(n,0),e.contentQueries!==null&&zf(e,n),!r)if(g){let _=e.contentCheckHooks;_!==null&&Mr(n,_)}else{let _=e.contentHooks;_!==null&&Tr(n,_,1),bl(n,1)}kv(e,n);let b=e.components;b!==null&&wp(n,b,0);let S=e.viewQuery;if(S!==null&&Ol(2,S,i),!r)if(g){let _=e.viewCheckHooks;_!==null&&Mr(n,_)}else{let _=e.viewHooks;_!==null&&Tr(n,_,2),bl(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[gr]){for(let _ of n[gr])_();n[gr]=null}r||(vp(n),n[W]&=-73)}catch(g){throw r||Pn(n),g}finally{h!==null&&(Ti(h,f),c&&Cv(h)),Er()}}function Cp(e,n){for(let t=Pf(e);t!==null;t=Vf(t))for(let i=Se;i<t.length;i++){let o=t[i];Ep(o,n)}}function Tv(e){for(let n=Pf(e);n!==null;n=Vf(n)){if(!(n[W]&2))continue;let t=n[zi];for(let i=0;i<t.length;i++){let o=t[i];ol(o)}}}function Av(e,n,t){ae(oe.ComponentStart);let i=nt(n,e);try{Ep(i,t)}finally{ae(oe.ComponentEnd,i[Ee])}}function Ep(e,n){yr(e)&&jl(e,n)}function jl(e,n){let i=e[q],o=e[W],r=e[Je],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(r?.dirty&&Ai(r)),s||=!1,r&&(r.dirty=!1),e[W]&=-9217,s)Mv(i,e,i.template,e[Ee]);else if(o&8192){let c=$(null);try{xp(e),Cp(e,1);let f=i.components;f!==null&&wp(e,f,1),vp(e)}finally{$(c)}}}function wp(e,n,t){for(let i=0;i<n.length;i++)Av(e,n[i],t)}function kv(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let o=t[i];if(o<0)nn(~o);else{let r=o,s=t[++i],c=t[++i];Tu(s,r);let f=n[r];ae(oe.HostBindingsUpdateStart,f);try{c(2,f)}finally{ae(oe.HostBindingsUpdateEnd,f)}}}}finally{nn(-1)}}function bd(e,n){let t=ul()?64:1088;for(e[Dt].changeDetectionScheduler?.notify(n);e;){e[W]|=t;let i=Jt(e);if(ci(e)&&!i)return e;e=i}return null}function Nv(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Dp(e,n){let t=Se+n;if(t<e.length)return e[t]}function xd(e,n,t,i=!0){let o=n[q];if(Rv(o,n,e,t),i){let s=Ll(t,e),c=n[ge],f=c.parentNode(e[di]);f!==null&&G0(o,e[ct],c,n,f,s)}let r=n[si];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function Ip(e,n){let t=_d(e,n);return t!==void 0&&ud(t[q],t),t}function _d(e,n){if(e.length<=Se)return;let t=Se+n,i=e[t];if(i){let o=i[An];o!==null&&o!==e&&cd(o,i),n>0&&(e[t-1][tt]=i[tt]);let r=za(e,Se+n);z0(i[q],i);let s=r[Nn];s!==null&&s.detachView(r[q]),i[Ue]=null,i[tt]=null,i[W]&=-129}return i}function Rv(e,n,t,i){let o=Se+i,r=t.length;i>0&&(t[o-1][tt]=n),i<r-Se?(n[tt]=t[o],iu(t,Se+i,n)):(t.push(n),n[tt]=null),n[Ue]=t;let s=n[An];s!==null&&t!==s&&Sp(s,n);let c=n[Nn];c!==null&&c.insertView(e),br(n),n[W]|=128}function Sp(e,n){let t=e[zi],i=n[Ue];if(It(i))e[W]|=2;else{let o=i[Ue][Ke];n[Ke]!==o&&(e[W]|=2)}t===null?e[zi]=[n]:t.push(n)}var gi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[q];return eo(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[Ee]}set context(n){this._lView[Ee]=n}get destroyed(){return On(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ue];if(Ht(n)){let t=n[uu],i=t?t.indexOf(this):-1;i>-1&&(_d(n,i),za(t,i))}this._attachedToViewContainer=!1}ud(this._lView[q],this._lView)}onDestroy(n){rl(this._lView,n)}markForCheck(){bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){br(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,_p(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=ci(this._lView),t=this._lView[An];t!==null&&!n&&cd(t,this._lView),lp(this._lView[q],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=n;let t=ci(this._lView),i=this._lView[An];i!==null&&!t&&Sp(i,this._lView),br(this._lView)}};function so(e,n,t,i,o){let r=e.data[n];if(r===null)r=Fv(e,n,t,i,o),Mu()&&(r.flags|=32);else if(r.type&64){r.type=t,r.value=i,r.attrs=o;let s=Cu();r.injectorIndex=s===null?-1:s.injectorIndex}return Vn(r,!0),r}function Fv(e,n,t,i,o){let r=dl(),s=cl(),c=s?r:r&&r.parent,f=e.data[n]=Pv(e,c,t,n,i,o);return Ov(e,f,r,s),f}function Ov(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function Pv(e,n,t,i,o,r){let s=n?n.injectorIndex:-1,c=0;return _u()&&(c|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vv(e){let n=e[Xa]??[],i=e[Ue][ge],o=[];for(let r of n)r.data[Bf]!==void 0?o.push(r):Lv(r,i);e[Xa]=o}function Lv(e,n){let t=0,i=e.firstChild;if(i){let o=e.data[jf];for(;t<o;){let r=i.nextSibling;Kf(n,i,!1),i=r,t++}}}var jv=()=>null,Bv=()=>null;function Hv(e,n){return jv(e,n)}function Mp(e,n,t){return Bv(e,n,t)}var Tp=class{},Xr=class{},Bl=class{resolveComponentFactory(n){throw new H(917,!1)}},es=class{static NULL=new Bl},Hn=class{},sn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Uv()}return e})();function Uv(){let e=K(),n=Ge(),t=nt(n.index,e);return(It(t)?t:e)[ge]}var Ap=(()=>{class e{static \u0275prov=de({token:e,providedIn:"root",factory:()=>null})}return e})();var Ar={},Hl=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){let o=this.injector.get(n,Ar,i);return o!==Ar||t===Ar?o:this.parentInjector.get(n,t,i)}};function jr(e,n,t){let i=t?e.styles:null,o=t?e.classes:null,r=0;if(n!==null)for(let s=0;s<n.length;s++){let c=n[s];if(typeof c=="number")r=c;else if(r==1)o=lr(o,c);else if(r==2){let f=c,h=n[++s];i=lr(i,f+": "+h+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=o:e.classesWithoutHost=o}function Y(e,n=0){let t=K();if(t===null)return le(e,n);let i=Ge();return Af(i,t,ke(e),n)}function $v(e,n,t,i,o){let r=i===null?null:{"":-1},s=o(e,t);if(s!==null){let c=s,f=null,h=null;for(let g of s)if(g.resolveHostDirectives!==null){[c,f,h]=g.resolveHostDirectives(s);break}Wv(e,n,t,c,r,f,h)}r!==null&&i!==null&&zv(t,i,r)}function zv(e,n,t){let i=e.localNames=[];for(let o=0;o<n.length;o+=2){let r=t[n[o+1]];if(r==null)throw new H(-301,!1);i.push(n[o],r)}}function Gv(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Wv(e,n,t,i,o,r,s){let c=i.length,f=null;for(let S=0;S<c;S++){let _=i[S];f===null&&St(_)&&(f=_,Gv(e,t,S)),Nl(Fr(t,n),e,_.type)}Jv(t,e.data.length,c),f?.viewProvidersResolver&&f.viewProvidersResolver(f);for(let S=0;S<c;S++){let _=i[S];_.providersResolver&&_.providersResolver(_)}let h=!1,g=!1,b=tp(e,n,c,null);c>0&&(t.directiveToIndex=new Map);for(let S=0;S<c;S++){let _=i[S];if(t.mergedAttrs=mi(t.mergedAttrs,_.hostAttrs),Zv(e,t,n,b,_),Kv(b,_,o),s!==null&&s.has(_)){let[Z,me]=s.get(_);t.directiveToIndex.set(_.type,[b,Z+t.directiveStart,me+t.directiveStart])}else(r===null||!r.has(_))&&t.directiveToIndex.set(_.type,b);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let O=_.type.prototype;!h&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),h=!0),!g&&(O.ngOnChanges||O.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),g=!0),b++}qv(e,t,r)}function qv(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let o=e.data[i];if(t===null||!t.has(o))sf(0,n,o,i),sf(1,n,o,i),lf(n,i,!1);else{let r=t.get(o);af(0,n,r,i),af(1,n,r,i),lf(n,i,!0)}}}function sf(e,n,t,i){let o=e===0?t.inputs:t.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[r]??=[],s[r].push(i),kp(n,r)}}function af(e,n,t,i){let o=e===0?t.inputs:t.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s=o[r],c;e===0?c=n.hostDirectiveInputs??={}:c=n.hostDirectiveOutputs??={},c[s]??=[],c[s].push(i,r),kp(n,s)}}function kp(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function lf(e,n,t){let{attrs:i,inputs:o,hostDirectiveInputs:r}=e;if(i===null||!t&&o===null||t&&r===null||od(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,c=0;for(;c<i.length;){let f=i[c];if(f===0){c+=4;continue}else if(f===5){c+=2;continue}else if(typeof f=="number")break;if(!t&&o.hasOwnProperty(f)){let h=o[f];for(let g of h)if(g===n){s??=[],s.push(f,i[c+1]);break}}else if(t&&r.hasOwnProperty(f)){let h=r[f];for(let g=0;g<h.length;g+=2)if(h[g]===n){s??=[],s.push(h[g+1],i[c+1]);break}}c+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Zv(e,n,t,i,o){e.data[i]=o;let r=o.factory||(o.factory=Qt(o.type,!0)),s=new jn(r,St(o),Y,null);e.blueprint[i]=s,t[i]=s,Yv(e,n,i,tp(e,t,o.hostVars,$e),o)}function Yv(e,n,t,i,o){let r=o.hostBindings;if(r){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let c=~n.index;Qv(s)!=c&&s.push(c),s.push(t,i,r)}}function Qv(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function Kv(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;St(n)&&(t[""]=e)}}function Jv(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Np(e,n,t,i,o,r,s,c){let f=n[q],h=f.consts,g=Tt(h,s),b=so(f,e,t,i,g);return r&&$v(f,n,b,Tt(h,c),o),b.mergedAttrs=mi(b.mergedAttrs,b.attrs),b.attrs!==null&&jr(b,b.attrs,!1),b.mergedAttrs!==null&&jr(b,b.mergedAttrs,!0),f.queries!==null&&f.queries.elementStart(f,b),b}function Rp(e,n){qg(e,n),el(n)&&e.queries.elementEnd(n)}function Xv(e,n,t,i,o,r){let s=n.consts,c=Tt(s,o),f=so(n,e,t,i,c);if(f.mergedAttrs=mi(f.mergedAttrs,f.attrs),r!=null){let h=Tt(s,r);f.localNames=[];for(let g=0;g<h.length;g+=2)f.localNames.push(h[g],-1)}return f.attrs!==null&&jr(f,f.attrs,!1),f.mergedAttrs!==null&&jr(f,f.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,f),f}function ey(e,n,t){return e[n]=t}function it(e,n,t){if(t===$e)return!1;let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function Fp(e,n,t,i){let o=it(e,n,t);return it(e,n+1,i)||o}function kr(e,n,t){return function i(o){let r=tn(e)?nt(e.index,n):n;bd(r,5);let s=n[Ee],c=df(n,s,t,o),f=i.__ngNextListenerFn__;for(;f;)c=df(n,s,f,o)&&c,f=f.__ngNextListenerFn__;return c}}function df(e,n,t,i){let o=$(null);try{return ae(oe.OutputStart,n,t),t(i)!==!1}catch(r){return gv(e,r),!1}finally{ae(oe.OutputEnd,n,t),$(o)}}function Op(e,n,t,i,o,r,s,c){let f=vr(e),h=!1,g=null;if(!i&&f&&(g=ny(n,t,r,e.index)),g!==null){let b=g.__ngLastListenerFn__||g;b.__ngNextListenerFn__=s,g.__ngLastListenerFn__=s,h=!0}else{let b=Mt(e,t),S=i?i(b):b;v0(t,S,r,c);let _=o.listen(S,r,c);if(!ty(r)){let O=i?Z=>i(ut(Z[e.index])):e.index;Pp(O,n,t,r,c,_,!1)}}return h}function ty(e){return e.startsWith("animation")||e.startsWith("transition")}function ny(e,n,t,i){let o=e.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===t&&o[r+1]===i){let c=n[ai],f=o[r+2];return c&&c.length>f?c[f]:null}typeof s=="string"&&(r+=2)}return null}function Pp(e,n,t,i,o,r,s){let c=n.firstCreatePass?vu(n):null,f=gu(t),h=f.length;f.push(o,r),c&&c.push(i,e,h,(h+1)*(s?-1:1))}function cf(e,n,t,i,o,r){let s=n[t],c=n[q],h=c.data[t].outputs[i],b=s[h].subscribe(r);Pp(e.index,c,n,o,r,b,!0)}var Ul=Symbol("BINDING");var $l=class extends es{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Bi(n);return new Br(t,this.ngModule)}};function iy(e){return Object.keys(e).map(n=>{let[t,i,o]=e[n],r={propName:t,templateName:n,isSignal:(i&Qr.SignalBased)!==0};return o&&(r.transform=o),r})}function oy(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function ry(e,n,t){let i=n instanceof at?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Hl(t,i):t}function sy(e){let n=e.get(Hn,null);if(n===null)throw new H(407,!1);let t=e.get(Ap,null),i=e.get(Xt,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function ay(e,n){let t=Vp(e);return Yf(n,t,t==="svg"?fu:t==="math"?pu:null)}function Vp(e){return(e.selectors[0][0]||"div").toLowerCase()}var Br=class extends Xr{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=iy(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=oy(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=F0(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,o,r,s){ae(oe.DynamicComponentStart);let c=$(null);try{let f=this.componentDef,h=ly(i,f,s,r),g=ry(f,o||this.ngModule,n),b=sy(g),S=b.rendererFactory.createRenderer(null,f),_=i?ov(S,i,f.encapsulation,g):ay(f,S),O=s?.some(uf)||r?.some(ce=>typeof ce!="function"&&ce.bindings.some(uf)),Z=sd(null,h,null,512|ep(f),null,null,b,S,g,null,$f(_,g,!0));Z[we]=_,Cr(Z);let me=null;try{let ce=Np(we,Z,2,"#host",()=>h.directiveRegistry,!0,0);Jf(S,_,ce),hi(_,Z),up(h,Z,ce),Gf(h,ce,Z),Rp(h,ce),t!==void 0&&cy(ce,this.ngContentSelectors,t),me=nt(ce.index,Z),Z[Ee]=me[Ee],gd(h,Z,null)}catch(ce){throw me!==null&&Fl(me),Fl(Z),ce}finally{ae(oe.DynamicComponentEnd),Er()}return new Hr(this.componentType,Z,!!O)}finally{$(c)}}};function ly(e,n,t,i){let o=e?["ng-version","21.1.2"]:O0(n.selectors[0]),r=null,s=null,c=0;if(t)for(let g of t)c+=g[Ul].requiredVars,g.create&&(g.targetIdx=0,(r??=[]).push(g)),g.update&&(g.targetIdx=0,(s??=[]).push(g));if(i)for(let g=0;g<i.length;g++){let b=i[g];if(typeof b!="function")for(let S of b.bindings){c+=S[Ul].requiredVars;let _=g+1;S.create&&(S.targetIdx=_,(r??=[]).push(S)),S.update&&(S.targetIdx=_,(s??=[]).push(S))}}let f=[n];if(i)for(let g of i){let b=typeof g=="function"?g:g.type,S=Ba(b);f.push(S)}return rd(0,null,dy(r,s),1,c,f,null,null,null,[o],null)}function dy(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let i of e)i.create();if(t&2&&n)for(let i of n)i.update()}}function uf(e){let n=e[Ul].kind;return n==="input"||n==="twoWay"}var Hr=class extends Tp{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=Gi(t[q],we),this.location=Rf(this._tNode,t),this.instance=nt(this._tNode.index,t)[Ee],this.hostView=this.changeDetectorRef=new gi(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,r=hd(i,o[q],o,n,t);this.previousInputValues.set(n,t);let s=nt(i.index,o);bd(s,1)}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function cy(e,n,t){let i=e.projection=[];for(let o=0;o<n.length;o++){let r=t[o];i.push(r!=null&&r.length?Array.from(r):null)}}var uy=()=>!1;function fy(e,n,t){return uy(e,n,t)}var to=class{};var no=class extends to{injector;componentFactoryResolver=new $l(this);instance=null;constructor(n){super();let t=new Dn([...n.providers,{provide:to,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],n.parent||$i(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Lp(e,n,t=null){return new no({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var py=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Za(!1,t.type),o=i.length>0?Lp([i],this._injector,""):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=de({token:e,providedIn:"environment",factory:()=>new e(le(at))})}return e})();function z(e){return oo(()=>{let n=jp(e),t=N(A({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ed.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(py).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vt.Emulated,styles:e.styles||He,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&zt("NgStandalone"),Bp(t);let i=e.dependencies;return t.directiveDefs=ff(i,my),t.pipeDefs=ff(i,Xc),t.id=vy(t),t})}function my(e){return Bi(e)||Ba(e)}function an(e){return oo(()=>({type:e.type,bootstrap:e.bootstrap||He,declarations:e.declarations||He,imports:e.imports||He,exports:e.exports||He,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hy(e,n){if(e==null)return en;let t={};for(let i in e)if(e.hasOwnProperty(i)){let o=e[i],r,s,c,f;Array.isArray(o)?(c=o[0],r=o[1],s=o[2]??r,f=o[3]||null):(r=o,s=o,c=Qr.None,f=null),t[r]=[i,c,f],n[r]=s}return t}function gy(e){if(e==null)return en;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Me(e){return oo(()=>{let n=jp(e);return Bp(n),n})}function ts(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function jp(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||en,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||He,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:hy(e.inputs,n),outputs:gy(e.outputs),debugInfo:null}}function Bp(e){e.features?.forEach(n=>n(e))}function ff(e,n){return e?()=>{let t=typeof e=="function"?e():e,i=[];for(let o of t){let r=n(o);r!==null&&i.push(r)}return i}:null}function vy(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let r of i.join("|"))n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function yy(e){return Object.getPrototypeOf(e.prototype).constructor}function Fe(e){let n=yy(e.type),t=!0,i=[e];for(;n;){let o;if(St(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new H(903,!1);o=n.\u0275dir}if(o){if(t){i.push(o);let s=e;s.inputs=Cl(e.inputs),s.declaredInputs=Cl(e.declaredInputs),s.outputs=Cl(e.outputs);let c=o.hostBindings;c&&Ey(e,c);let f=o.viewQuery,h=o.contentQueries;if(f&&_y(e,f),h&&Cy(e,h),by(e,o),Jc(e.outputs,o.outputs),St(o)&&o.data.animation){let g=e.data;g.animation=(g.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let c=r[s];c&&c.ngInherit&&c(e),c===Fe&&(t=!1)}}n=Object.getPrototypeOf(n)}xy(i)}function by(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function xy(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let o=e[i];o.hostVars=n+=o.hostVars,o.hostAttrs=mi(o.hostAttrs,t=mi(t,o.hostAttrs))}}function Cl(e){return e===en?{}:e===He?[]:e}function _y(e,n){let t=e.viewQuery;t?e.viewQuery=(i,o)=>{n(i,o),t(i,o)}:e.viewQuery=n}function Cy(e,n){let t=e.contentQueries;t?e.contentQueries=(i,o,r)=>{n(i,o,r),t(i,o,r)}:e.contentQueries=n}function Ey(e,n){let t=e.hostBindings;t?e.hostBindings=(i,o)=>{n(i,o),t(i,o)}:e.hostBindings=n}function wy(e,n,t,i,o,r,s,c){if(t.firstCreatePass){e.mergedAttrs=mi(e.mergedAttrs,e.attrs);let g=e.tView=rd(2,e,o,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),g.queries=t.queries.embeddedTView(e))}c&&(e.flags|=c),Vn(e,!1);let f=Dy(t,n,e,i);wr()&&fd(t,n,f,e),hi(f,n);let h=Nv(f,n,f,e);n[i+we]=h,np(n,h),fy(h,e,n)}function Ur(e,n,t,i,o,r,s,c,f,h,g){let b=t+we,S;if(n.firstCreatePass){if(S=so(n,b,4,s||null,c||null),h!=null){let _=Tt(n.consts,h);S.localNames=[];for(let O=0;O<_.length;O+=2)S.localNames.push(_[O],-1)}}else S=n.data[b];return wy(S,e,n,t,i,o,r,f),h!=null&&md(e,S,g),S}var Dy=Iy;function Iy(e,n,t,i){return Dr(!0),n[ge].createComment("")}function Hp(e){return typeof e=="function"&&e[Ve]!==void 0}function Cd(e){return Hp(e)&&typeof e.set=="function"}var Ed=new Q("");function bi(e){return!!e&&typeof e.then=="function"}function wd(e){return!!e&&typeof e.subscribe=="function"}var Up=new Q("");var Dd=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=F(Up,{optional:!0})??[];injector=F(lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let r=hr(this.injector,o);if(bi(r))t.push(r);else if(wd(r)){let s=new Promise((c,f)=>{r.subscribe({complete:c,error:f})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(o=>{this.reject(o)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$p=new Q("");function zp(){la(()=>{let e="";throw new H(600,e)})}function Gp(e){return e.isBoundToModule}var Sy=10;var xi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(Ln);afterRenderManager=F(ld);zonelessEnabled=F(Qi);rootEffectScheduler=F(Ir);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _t;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(ui);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(_n(t=>!t))}constructor(){F(zn,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=F(at);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,o=lt.NULL){return this._injector.get(Qe).run(()=>{ae(oe.BootstrapComponentStart);let s=t instanceof Xr;if(!this._injector.get(Dd).done){let O="";throw new H(405,O)}let f;s?f=t:f=this._injector.get(es).resolveComponentFactory(t),this.componentTypes.push(f.componentType);let h=Gp(f)?void 0:this._injector.get(to),g=i||f.selector,b=f.create(o,[],g,h),S=b.location.nativeElement,_=b.injector.get(Ed,null);return _?.registerApplication(S),b.onDestroy(()=>{this.detachView(b.hostView),Xi(this.components,b),_?.unregisterApplication(S)}),this._loadComponent(b),ae(oe.BootstrapComponentEnd,b),b})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ae(oe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Kr.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ae(oe.ChangeDetectionEnd),new H(101,!1);let t=$(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,$(t),this.afterTick.next(),ae(oe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Hn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Sy;){ae(oe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ae(oe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!i&&!qi(o))continue;let r=i&&!this.zonelessEnabled?0:1;_p(o,r),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>qi(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Xi(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get($p,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xi(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xi(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function ao(e,n,t,i){let o=K(),r=Ut();if(it(o,r,n)){let s=De(),c=Zi();pv(c,o,e,n,t,i)}return ao}var k2=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var zl=class{destroy(n){}updateValue(n,t){}swap(n,t){let i=Math.min(n,t),o=Math.max(n,t),r=this.detach(o);if(o-i>1){let s=this.detach(i);this.attach(i,r),this.attach(o,s)}else this.attach(i,r)}move(n,t){this.attach(t,this.detach(n))}};function El(e,n,t,i,o){return e===t&&Object.is(n,i)?1:Object.is(o(e,n),o(t,i))?-1:0}function My(e,n,t,i){let o,r,s=0,c=e.length-1,f=void 0;if(Array.isArray(n)){$(i);let h=n.length-1;for($(null);s<=c&&s<=h;){let g=e.at(s),b=n[s],S=El(s,g,s,b,t);if(S!==0){S<0&&e.updateValue(s,b),s++;continue}let _=e.at(c),O=n[h],Z=El(c,_,h,O,t);if(Z!==0){Z<0&&e.updateValue(c,O),c--,h--;continue}let me=t(s,g),ce=t(c,_),et=t(s,b);if(Object.is(et,ce)){let qn=t(h,O);Object.is(qn,me)?(e.swap(s,c),e.updateValue(c,O),h--,c--):e.move(c,s),e.updateValue(s,b),s++;continue}if(o??=new $r,r??=mf(e,s,c,t),Gl(e,o,s,et))e.updateValue(s,b),s++,c++;else if(r.has(et))o.set(me,e.detach(s)),c--;else{let qn=e.create(s,n[s]);e.attach(s,qn),s++,c++}}for(;s<=h;)pf(e,o,t,s,n[s]),s++}else if(n!=null){$(i);let h=n[Symbol.iterator]();$(null);let g=h.next();for(;!g.done&&s<=c;){let b=e.at(s),S=g.value,_=El(s,b,s,S,t);if(_!==0)_<0&&e.updateValue(s,S),s++,g=h.next();else{o??=new $r,r??=mf(e,s,c,t);let O=t(s,S);if(Gl(e,o,s,O))e.updateValue(s,S),s++,c++,g=h.next();else if(!r.has(O))e.attach(s,e.create(s,S)),s++,c++,g=h.next();else{let Z=t(s,b);o.set(Z,e.detach(s)),c--}}}for(;!g.done;)pf(e,o,t,e.length,g.value),g=h.next()}for(;s<=c;)e.destroy(e.detach(c--));o?.forEach(h=>{e.destroy(h)})}function Gl(e,n,t,i){return n!==void 0&&n.has(i)?(e.attach(t,n.get(i)),n.delete(i),!0):!1}function pf(e,n,t,i,o){if(Gl(e,n,i,t(i,o)))e.updateValue(i,o);else{let r=e.create(i,o);e.attach(i,r)}}function mf(e,n,t,i){let o=new Set;for(let r=n;r<=t;r++)o.add(i(r,e.at(r)));return o}var $r=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(i);)i=o.get(i),n(i,t)}}};function C(e,n,t,i,o,r,s,c){zt("NgControlFlow");let f=K(),h=De(),g=Tt(h.consts,r);return Ur(f,h,e,n,t,i,o,g,256,s,c),Id}function Id(e,n,t,i,o,r,s,c){zt("NgControlFlow");let f=K(),h=De(),g=Tt(h.consts,r);return Ur(f,h,e,n,t,i,o,g,512,s,c),Id}function E(e,n){zt("NgControlFlow");let t=K(),i=Ut(),o=t[i]!==$e?t[i]:-1,r=o!==-1?zr(t,we+o):void 0,s=0;if(it(t,i,e)){let c=$(null);try{if(r!==void 0&&Ip(r,s),e!==-1){let f=we+e,h=zr(t,f),g=Yl(t[q],f),b=Mp(h,g,t),S=vd(t,g,n,{dehydratedView:b});xd(h,S,s,yd(g,b))}}finally{$(c)}}else if(r!==void 0){let c=Dp(r,s);c!==void 0&&(c[Ee]=n)}}var Wl=class{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Se}};var ql=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}};function L(e,n,t,i,o,r,s,c,f,h,g,b,S){zt("NgControlFlow");let _=K(),O=De(),Z=f!==void 0,me=K(),ce=c?s.bind(me[Ke][Ee]):s,et=new ql(Z,ce);me[we+e]=et,Ur(_,O,e+1,n,t,i,o,Tt(O.consts,r),256),Z&&Ur(_,O,e+2,f,h,g,b,Tt(O.consts,S),512)}var Zl=class extends zl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Se}at(n){return this.getLView(n)[Ee].$implicit}attach(n,t){let i=t[si];this.needsIndexUpdate||=n!==this.length,xd(this.lContainer,t,n,yd(this.templateTNode,i)),Ty(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,Ay(this.lContainer,n),ky(this.lContainer,n)}create(n,t){let i=Hv(this.lContainer,this.templateTNode.tView.ssrId);return vd(this.hostLView,this.templateTNode,new Wl(this.lContainer,t,n),{dehydratedView:i})}destroy(n){ud(n[q],n)}updateValue(n,t){this.getLView(n)[Ee].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Ee].$index=n}getLView(n){return Ny(this.lContainer,n)}};function j(e){let n=$(null),t=ft();try{let i=K(),o=i[q],r=i[t],s=t+1,c=zr(i,s);if(r.liveCollection===void 0){let h=Yl(o,s);r.liveCollection=new Zl(c,i,h)}else r.liveCollection.reset();let f=r.liveCollection;if(My(f,e,r.trackByFn,n),f.updateIndexes(),r.hasEmptyBlock){let h=Ut(),g=f.length===0;if(it(i,h,g)){let b=t+2,S=zr(i,b);if(g){let _=Yl(o,b),O=Mp(S,_,i),Z=vd(i,_,void 0,{dehydratedView:O});xd(S,Z,0,yd(_,O))}else o.firstUpdatePass&&Vv(S),Ip(S,0)}}}finally{$(n)}}function zr(e,n){return e[n]}function Ty(e,n){if(e.length<=Se)return;let t=Se+n,i=e[t],o=i?i[Fn]:void 0;if(i&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let r=i[jt];U0(r,o),Bn.delete(i[Bt]),o.detachedLeaveAnimationFns=void 0}}function Ay(e,n){if(e.length<=Se)return;let t=Se+n,i=e[t],o=i?i[Fn]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function ky(e,n){return _d(e,n)}function Ny(e,n){return Dp(e,n)}function Yl(e,n){return Gi(e,n)}function B(e,n,t){let i=K(),o=Ut();if(it(i,o,n)){let r=De(),s=Zi();fp(s,i,e,n,i[ge],t)}return B}function Ql(e,n,t,i,o){hd(n,e,t,o?"class":"style",i)}function d(e,n,t,i){let o=K(),r=o[q],s=e+we,c=r.firstCreatePass?Np(s,o,2,n,fv,xu(),t,i):r.data[s];if(mp(c,o,e,n,Wp),vr(c)){let f=o[q];up(f,o,c),Gf(f,c,o)}return i!=null&&md(o,c),d}function l(){let e=De(),n=Ge(),t=hp(n);return e.firstCreatePass&&Rp(e,t),al(t)&&ll(),sl(),t.classesWithoutHost!=null&&Yg(t)&&Ql(e,t,K(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Qg(t)&&Ql(e,t,K(),t.stylesWithoutHost,!1),l}function y(e,n,t,i){return d(e,n,t,i),l(),y}function p(e,n,t,i){let o=K(),r=o[q],s=e+we,c=r.firstCreatePass?Xv(s,r,2,n,t,i):r.data[s];return mp(c,o,e,n,Wp),i!=null&&md(o,c),p}function m(){let e=Ge(),n=hp(e);return al(n)&&ll(),sl(),m}function x(e,n,t,i){return p(e,n,t,i),m(),x}var Wp=(e,n,t,i,o)=>(Dr(!0),Yf(n[ge],i,Pu()));function P(){return K()}function ns(e,n,t){let i=K(),o=Ut();if(it(i,o,n)){let r=De(),s=Zi();pp(s,i,e,n,i[ge],t)}return ns}var Ki=void 0;function Ry(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var Fy=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Ki,Ki,Ki],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ry],wl={};function We(e){let n=Oy(e),t=hf(n);if(t)return t;let i=n.split("-")[0];if(t=hf(i),t)return t;if(i==="en")return Fy;throw new H(701,!1)}function hf(e){return e in wl||(wl[e]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[e]),wl[e]}var be=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(be||{});function Oy(e){return e.toLowerCase().replace(/_/g,"-")}var lo="en-US";var Py=lo;function qp(e){typeof e=="string"&&(Py=e.toLowerCase().replace(/_/g,"-"))}function T(e,n,t){let i=K(),o=De(),r=Ge();return Zp(o,i,i[ge],r,e,n,t),T}function G(e,n,t){let i=K(),o=De(),r=Ge();return(r.type&3||t)&&Op(r,o,i,t,i[ge],e,n,kr(r,i,n)),G}function Zp(e,n,t,i,o,r,s){let c=!0,f=null;if((i.type&3||s)&&(f??=kr(i,n,r),Op(i,e,n,s,t,o,r,f)&&(c=!1)),c){let h=i.outputs?.[o],g=i.hostDirectiveOutputs?.[o];if(g&&g.length)for(let b=0;b<g.length;b+=2){let S=g[b],_=g[b+1];f??=kr(i,n,r),cf(i,n,S,_,o,f)}if(h&&h.length)for(let b of h)f??=kr(i,n,r),cf(i,n,b,o,o,f)}}function v(e=1){return Ou(e)}function Sr(e,n){return e<<17|n<<2}function Un(e){return e>>17&32767}function Vy(e){return(e&2)==2}function Ly(e,n){return e&131071|n<<17}function Kl(e){return e|2}function vi(e){return(e&131068)>>2}function Dl(e,n){return e&-131069|n<<2}function jy(e){return(e&1)===1}function Jl(e){return e|1}function By(e,n,t,i,o,r){let s=r?n.classBindings:n.styleBindings,c=Un(s),f=vi(s);e[i]=t;let h=!1,g;if(Array.isArray(t)){let b=t;g=b[1],(g===null||ri(b,g)>0)&&(h=!0)}else g=t;if(o)if(f!==0){let S=Un(e[c+1]);e[i+1]=Sr(S,c),S!==0&&(e[S+1]=Dl(e[S+1],i)),e[c+1]=Ly(e[c+1],i)}else e[i+1]=Sr(c,0),c!==0&&(e[c+1]=Dl(e[c+1],i)),c=i;else e[i+1]=Sr(f,0),c===0?c=i:e[f+1]=Dl(e[f+1],i),f=i;h&&(e[i+1]=Kl(e[i+1])),gf(e,g,i,!0),gf(e,g,i,!1),Hy(n,g,e,i,r),s=Sr(c,f),r?n.classBindings=s:n.styleBindings=s}function Hy(e,n,t,i,o){let r=o?e.residualClasses:e.residualStyles;r!=null&&typeof n=="string"&&ri(r,n)>=0&&(t[i+1]=Jl(t[i+1]))}function gf(e,n,t,i){let o=e[t+1],r=n===null,s=i?Un(o):vi(o),c=!1;for(;s!==0&&(c===!1||r);){let f=e[s],h=e[s+1];Uy(f,n)&&(c=!0,e[s+1]=i?Jl(h):Kl(h)),s=i?Un(h):vi(h)}c&&(e[t+1]=i?Kl(o):Jl(o))}function Uy(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?ri(e,n)>=0:!1}var gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $y(e){return e.substring(gt.key,gt.keyEnd)}function zy(e){return Gy(e),Yp(e,Qp(e,0,gt.textEnd))}function Yp(e,n){let t=gt.textEnd;return t===n?-1:(n=gt.keyEnd=Wy(e,gt.key=n,t),Qp(e,n,t))}function Gy(e){gt.key=0,gt.keyEnd=0,gt.value=0,gt.valueEnd=0,gt.textEnd=e.length}function Qp(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Wy(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Ne(e,n,t){return Kp(e,n,t,!1),Ne}function I(e,n){return Kp(e,n,null,!0),I}function Ae(e){Zy(e1,qy,e,!0)}function qy(e,n){for(let t=zy(n);t>=0;t=Yp(n,t))pr(e,$y(n),!0)}function Kp(e,n,t,i){let o=K(),r=De(),s=xr(2);if(r.firstUpdatePass&&Xp(r,e,s,i),n!==$e&&it(o,s,n)){let c=r.data[ft()];em(r,c,o,o[ge],e,o[s+1]=n1(n,t),i,s)}}function Zy(e,n,t,i){let o=De(),r=xr(2);o.firstUpdatePass&&Xp(o,null,r,i);let s=K();if(t!==$e&&it(s,r,t)){let c=o.data[ft()];if(tm(c,i)&&!Jp(o,r)){let f=i?c.classesWithoutHost:c.stylesWithoutHost;f!==null&&(t=lr(f,t||"")),Ql(o,c,s,t,i)}else t1(o,c,s,s[ge],s[r+1],s[r+1]=Xy(e,n,t),i,r)}}function Jp(e,n){return n>=e.expandoStartIndex}function Xp(e,n,t,i){let o=e.data;if(o[t+1]===null){let r=o[ft()],s=Jp(e,t);tm(r,i)&&n===null&&!s&&(n=!1),n=Yy(o,r,n,i),By(o,r,n,t,s,i)}}function Yy(e,n,t,i){let o=ku(e),r=i?n.residualClasses:n.residualStyles;if(o===null)(i?n.classBindings:n.styleBindings)===0&&(t=Il(null,e,n,t,i),t=io(t,n.attrs,i),r=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=Il(o,e,n,t,i),r===null){let f=Qy(e,n,i);f!==void 0&&Array.isArray(f)&&(f=Il(null,e,n,f[1],i),f=io(f,n.attrs,i),Ky(e,n,i,f))}else r=Jy(e,n,i)}return r!==void 0&&(i?n.residualClasses=r:n.residualStyles=r),t}function Qy(e,n,t){let i=t?n.classBindings:n.styleBindings;if(vi(i)!==0)return e[Un(i)]}function Ky(e,n,t,i){let o=t?n.classBindings:n.styleBindings;e[Un(o)]=i}function Jy(e,n,t){let i,o=n.directiveEnd;for(let r=1+n.directiveStylingLast;r<o;r++){let s=e[r].hostAttrs;i=io(i,s,t)}return io(i,n.attrs,t)}function Il(e,n,t,i,o){let r=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(r=n[c],i=io(i,r.hostAttrs,o),r!==e);)c++;return e!==null&&(t.directiveStylingLast=c),i}function io(e,n,t){let i=t?1:2,o=-1;if(n!==null)for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?o=s:o===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),pr(e,s,t?!0:n[++r]))}return e===void 0?null:e}function Xy(e,n,t){if(t==null||t==="")return He;let i=[],o=Yr(t);if(Array.isArray(o))for(let r=0;r<o.length;r++)e(i,o[r],!0);else if(o instanceof Set)for(let r of o)e(i,r,!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&e(i,r,o[r]);else typeof o=="string"&&n(i,o);return i}function e1(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&pr(e,i,t)}function t1(e,n,t,i,o,r,s,c){o===$e&&(o=He);let f=0,h=0,g=0<o.length?o[0]:null,b=0<r.length?r[0]:null;for(;g!==null||b!==null;){let S=f<o.length?o[f+1]:void 0,_=h<r.length?r[h+1]:void 0,O=null,Z;g===b?(f+=2,h+=2,S!==_&&(O=b,Z=_)):b===null||g!==null&&g<b?(f+=2,O=g):(h+=2,O=b,Z=_),O!==null&&em(e,n,t,i,O,Z,s,c),g=f<o.length?o[f]:null,b=h<r.length?r[h]:null}}function em(e,n,t,i,o,r,s,c){if(!(n.type&3))return;let f=e.data,h=f[c+1],g=jy(h)?vf(f,n,t,o,vi(h),s):void 0;if(!Gr(g)){Gr(r)||Vy(h)&&(r=vf(f,null,t,o,c,s));let b=tl(ft(),t);iv(i,s,b,o,r)}}function vf(e,n,t,i,o,r){let s=n===null,c;for(;o>0;){let f=e[o],h=Array.isArray(f),g=h?f[1]:f,b=g===null,S=t[o+1];S===$e&&(S=b?He:void 0);let _=b?mr(S,i):g===i?S:void 0;if(h&&!Gr(_)&&(_=mr(f,i)),Gr(_)&&(c=_,s))return c;let O=e[o+1];o=s?Un(O):vi(O)}if(n!==null){let f=r?n.residualClasses:n.residualStyles;f!=null&&(c=mr(f,i))}return c}function Gr(e){return e!==void 0}function n1(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Yt(Yr(e)))),e}function tm(e,n){return(e.flags&(n?8:16))!==0}function a(e,n=""){let t=K(),i=De(),o=e+we,r=i.firstCreatePass?so(i,o,1,n,null):i.data[o],s=i1(i,t,r,n);t[o]=s,wr()&&fd(i,t,s,r),Vn(r,!1)}var i1=(e,n,t,i)=>(Dr(!0),x0(n[ge],i));function o1(e,n,t,i=""){return it(e,Ut(),t)?n+Mn(t)+i:$e}function r1(e,n,t,i,o,r=""){let s=Iu(),c=Fp(e,s,t,o);return xr(2),c?n+Mn(t)+i+Mn(o)+r:$e}function k(e){return M("",e),k}function M(e,n,t){let i=K(),o=o1(i,e,n,t);return o!==$e&&nm(i,ft(),o),M}function ie(e,n,t,i,o){let r=K(),s=r1(r,e,n,t,i,o);return s!==$e&&nm(r,ft(),s),ie}function nm(e,n,t){let i=tl(n,e);_0(e[ge],i,t)}function xe(e,n,t){Cd(n)&&(n=n());let i=K(),o=Ut();if(it(i,o,n)){let r=De(),s=Zi();fp(s,i,e,n,i[ge],t)}return xe}function Ie(e,n){let t=Cd(e);return t&&e.set(n),t}function _e(e,n){let t=K(),i=De(),o=Ge();return Zp(i,t,t[ge],o,e,n),_e}var im={};function _i(e){zt("NgLet");let n=De(),t=K(),i=e+we,o=so(n,i,128,null,null);return Vn(o,!1),Wi(n,t,i,im),_i}function co(e){let n=De(),t=K(),i=ft();return Wi(n,t,i,e),e}function Ci(e){let n=wu(),t=nl(n,we+e);if(t===im)throw new H(314,!1);return t}function Sd(e){return it(K(),Ut(),e)?Mn(e):$e}function yf(e,n,t){let i=De();i.firstCreatePass&&om(n,i.data,i.blueprint,St(e),t)}function om(e,n,t,i,o){if(e=ke(e),Array.isArray(e))for(let r=0;r<e.length;r++)om(e[r],n,t,i,o);else{let r=De(),s=K(),c=Ge(),f=wn(e)?e:ke(e.provide),h=Qa(e),g=c.providerIndexes&1048575,b=c.directiveStart,S=c.providerIndexes>>20;if(wn(e)||!e.multi){let _=new jn(h,o,Y,null),O=Ml(f,n,o?g:g+S,b);O===-1?(Nl(Fr(c,s),r,f),Sl(r,e,n.length),n.push(f),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),t.push(_),s.push(_)):(t[O]=_,s[O]=_)}else{let _=Ml(f,n,g+S,b),O=Ml(f,n,g,g+S),Z=_>=0&&t[_],me=O>=0&&t[O];if(o&&!me||!o&&!Z){Nl(Fr(c,s),r,f);let ce=l1(o?a1:s1,t.length,o,i,h,e);!o&&me&&(t[O].providerFactory=ce),Sl(r,e,n.length,0),n.push(f),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),t.push(ce),s.push(ce)}else{let ce=rm(t[o?O:_],h,!o&&i);Sl(r,e,_>-1?_:O,ce)}!o&&i&&me&&t[O].componentProviders++}}}function Sl(e,n,t,i){let o=wn(n),r=lu(n);if(o||r){let f=(r?ke(n.useClass):n).prototype.ngOnDestroy;if(f){let h=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){let g=h.indexOf(t);g===-1?h.push(t,[i,f]):h[g+1].push(i,f)}else h.push(t,f)}}}function rm(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Ml(e,n,t,i){for(let o=t;o<i;o++)if(n[o]===e)return o;return-1}function s1(e,n,t,i,o){return Xl(this.multi,[])}function a1(e,n,t,i,o){let r=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,f=Or(i,i[q],this.providerFactory.index,o);s=f.slice(0,c),Xl(r,s);for(let h=c;h<f.length;h++)s.push(f[h])}else s=[],Xl(r,s);return s}function Xl(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function l1(e,n,t,i,o,r){let s=new jn(e,t,Y,null);return s.multi=[],s.index=n,s.componentProviders=0,rm(s,o,i&&!t),s}function yt(e,n){return t=>{t.providersResolver=(i,o)=>yf(i,o?o(e):e,!1),n&&(t.viewProvidersResolver=(i,o)=>yf(i,o?o(n):n,!0))}}function d1(e,n){let t=e[n];return t===$e?void 0:t}function c1(e,n,t,i,o,r,s){let c=n+t;return Fp(e,c,o,r)?ey(e,c+2,s?i.call(s,o,r):i(o,r)):d1(e,c+2)}function X(e,n){let t=De(),i,o=e+we;t.firstCreatePass?(i=u1(n,t.pipeRegistry),t.data[o]=i,i.onDestroy&&(t.destroyHooks??=[]).push(o,i.onDestroy)):i=t.data[o];let r=i.factory||(i.factory=Qt(i.type,!0)),s,c=je(Y);try{let f=Rr(!1),h=r();return Rr(f),Wi(t,K(),o,h),h}finally{je(c)}}function u1(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function ee(e,n,t,i){let o=e+we,r=K(),s=nl(r,o);return f1(r,o)?c1(r,Du(),n,s.transform,t,i,s):s.transform(t,i)}function f1(e,n){return e[q].data[n].pure}var sm=(()=>{class e{applicationErrorHandler=F(Ln);appRef=F(xi);taskService=F(ui);ngZone=F(Qe);zonelessEnabled=F(Qi);tracing=F(zn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Li):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(yl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Hu:hl;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Li+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.applicationErrorHandler(i)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Md(){return zt("NgZoneless"),qa([...Td(),[]])}function Td(){return[{provide:Xt,useExisting:sm},{provide:Qe,useClass:ji},{provide:Qi,useValue:!0}]}function p1(){return typeof $localize<"u"&&$localize.locale||lo}var Ei=new Q("",{factory:()=>F(Ei,{optional:!0,skipSelf:!0})||p1()});function V(e,n){return Ro(e,n?.equal)}var lm=Symbol("InputSignalNode#UNSET"),S1=N(A({},Fo),{transformFn:void 0,applyValueToInputSignal(e,n){ki(e,n)}});function dm(e,n){let t=Object.create(S1);t.value=e,t.transformFn=n?.transform;function i(){if(Mi(t),t.value===lm){let o=null;throw new H(-950,o)}return t.value}return i[Ve]=t,i}function am(e,n){return dm(e,n)}function M1(e){return dm(lm,e)}var cm=(am.required=M1,am);var Ad=new Q(""),T1=new Q("");function uo(e){return!e.moduleRef}function A1(e){let n=uo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Qe);return t.run(()=>{uo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(Ln),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i})}),uo(e)){let r=()=>n.destroy(),s=e.platformInjector.get(Ad);s.add(r),n.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ad);s.add(r),e.moduleRef.onDestroy(()=>{Xi(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(r)})}return N1(i,t,()=>{let r=n.get(ui),s=r.add(),c=n.get(Dd);return c.runInitializers(),c.donePromise.then(()=>{let f=n.get(Ei,lo);if(qp(f||lo),!n.get(T1,!0))return uo(e)?n.get(xi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(uo(e)){let g=n.get(xi);return e.rootComponent!==void 0&&g.bootstrap(e.rootComponent),g}else return k1?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{r.remove(s)})})})}var k1;function N1(e,n,t){try{let i=t();return bi(i)?i.catch(o=>{throw n.runOutsideAngular(()=>e(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>e(i)),i}}var is=null;function R1(e=[],n){return lt.create({name:n,providers:[{provide:Ui,useValue:"platform"},{provide:Ad,useValue:new Set([()=>is=null])},...e]})}function F1(e=[]){if(is)return is;let n=R1(e);return is=n,zp(),O1(n),n}function O1(e){let n=e.get(qr,null);hr(e,()=>{n?.forEach(t=>t())})}var P1=1e4;var oO=P1-1e3;var os=(()=>{class e{static __NG_ELEMENT_ID__=V1}return e})();function V1(e){return L1(Ge(),K(),(e&16)===16)}function L1(e,n,t){if(tn(e)&&!t){let i=nt(e.index,n);return new gi(i,i)}else if(e.type&175){let i=n[Ke];return new gi(i,n)}return null}function um(e){let{rootComponent:n,appProviders:t,platformProviders:i,platformRef:o}=e;ae(oe.BootstrapApplicationStart);try{let r=o?.injector??F1(i),s=[Td(),$u,...t||[]],c=new no({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return A1({r3Injector:c.injector,platformInjector:r,rootComponent:n})}catch(r){return Promise.reject(r)}finally{ae(oe.BootstrapApplicationEnd)}}function fm(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var pm=null;function ln(){return pm}function kd(e){pm??=e}var fo=class{};var Vd=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(Vd||{});var Oe=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(Oe||{}),fe=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(fe||{}),qe=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(qe||{}),Ze={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gm(e){return We(e)[be.LocaleId]}function vm(e,n,t){let i=We(e),o=[i[be.DayPeriodsFormat],i[be.DayPeriodsStandalone]],r=ot(o,n);return ot(r,t)}function ym(e,n,t){let i=We(e),o=[i[be.DaysFormat],i[be.DaysStandalone]],r=ot(o,n);return ot(r,t)}function bm(e,n,t){let i=We(e),o=[i[be.MonthsFormat],i[be.MonthsStandalone]],r=ot(o,n);return ot(r,t)}function xm(e,n){let i=We(e)[be.Eras];return ot(i,n)}function po(e,n){let t=We(e);return ot(t[be.DateFormat],n)}function mo(e,n){let t=We(e);return ot(t[be.TimeFormat],n)}function ho(e,n){let i=We(e)[be.DateTimeFormat];return ot(i,n)}function Nt(e,n){let t=We(e),i=t[be.NumberSymbols][n];if(typeof i>"u"){if(n===Ze.CurrencyDecimal)return t[be.NumberSymbols][Ze.Decimal];if(n===Ze.CurrencyGroup)return t[be.NumberSymbols][Ze.Group]}return i}function _m(e,n){return We(e)[be.NumberFormats][n]}function Cm(e){if(!e[be.ExtraData])throw new H(2303,!1)}function Em(e){let n=We(e);return Cm(n),(n[be.ExtraData][2]||[]).map(i=>typeof i=="string"?Nd(i):[Nd(i[0]),Nd(i[1])])}function wm(e,n,t){let i=We(e);Cm(i);let o=[i[be.ExtraData][0],i[be.ExtraData][1]],r=ot(o,n)||[];return ot(r,t)||[]}function ot(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new H(2304,!1)}function Nd(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var j1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rs={},B1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Dm(e,n,t,i){let o=Y1(e);n=Gt(t,n)||n;let s=[],c;for(;n;)if(c=B1.exec(n),c){s=s.concat(c.slice(1));let g=s.pop();if(!g)break;n=g}else{s.push(n);break}let f=o.getTimezoneOffset();i&&(f=Sm(i,f),o=Z1(o,i));let h="";return s.forEach(g=>{let b=W1(g);h+=b?b(o,t,f):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function cs(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function Gt(e,n){let t=gm(e);if(rs[t]??={},rs[t][n])return rs[t][n];let i="";switch(n){case"shortDate":i=po(e,qe.Short);break;case"mediumDate":i=po(e,qe.Medium);break;case"longDate":i=po(e,qe.Long);break;case"fullDate":i=po(e,qe.Full);break;case"shortTime":i=mo(e,qe.Short);break;case"mediumTime":i=mo(e,qe.Medium);break;case"longTime":i=mo(e,qe.Long);break;case"fullTime":i=mo(e,qe.Full);break;case"short":let o=Gt(e,"shortTime"),r=Gt(e,"shortDate");i=ss(ho(e,qe.Short),[o,r]);break;case"medium":let s=Gt(e,"mediumTime"),c=Gt(e,"mediumDate");i=ss(ho(e,qe.Medium),[s,c]);break;case"long":let f=Gt(e,"longTime"),h=Gt(e,"longDate");i=ss(ho(e,qe.Long),[f,h]);break;case"full":let g=Gt(e,"fullTime"),b=Gt(e,"fullDate");i=ss(ho(e,qe.Full),[g,b]);break}return i&&(rs[t][n]=i),i}function ss(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function bt(e,n,t="-",i,o){let r="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,r=t));let s=String(e);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),r+s}function H1(e,n){return bt(e,3).substring(0,n)}function Te(e,n,t=0,i=!1,o=!1){return function(r,s){let c=U1(e,r);if((t>0||c>-t)&&(c+=t),e===3)c===0&&t===-12&&(c=12);else if(e===6)return H1(c,n);let f=Nt(s,Ze.MinusSign);return bt(c,n,f,i,o)}}function U1(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new H(2301,!1)}}function he(e,n,t=Oe.Format,i=!1){return function(o,r){return $1(o,r,e,n,t,i)}}function $1(e,n,t,i,o,r){switch(t){case 2:return bm(n,o,i)[e.getMonth()];case 1:return ym(n,o,i)[e.getDay()];case 0:let s=e.getHours(),c=e.getMinutes();if(r){let h=Em(n),g=wm(n,o,i),b=h.findIndex(S=>{if(Array.isArray(S)){let[_,O]=S,Z=s>=_.hours&&c>=_.minutes,me=s<O.hours||s===O.hours&&c<O.minutes;if(_.hours<O.hours){if(Z&&me)return!0}else if(Z||me)return!0}else if(S.hours===s&&S.minutes===c)return!0;return!1});if(b!==-1)return g[b]}return vm(n,o,i)[s<12?0:1];case 3:return xm(n,i)[e.getFullYear()<=0?0:1];default:let f=t;throw new H(2302,!1)}}function as(e){return function(n,t,i){let o=-1*i,r=Nt(t,Ze.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+bt(s,2,r)+bt(Math.abs(o%60),2,r);case 1:return"GMT"+(o>=0?"+":"")+bt(s,1,r);case 2:return"GMT"+(o>=0?"+":"")+bt(s,2,r)+":"+bt(Math.abs(o%60),2,r);case 3:return i===0?"Z":(o>=0?"+":"")+bt(s,2,r)+":"+bt(Math.abs(o%60),2,r);default:throw new H(2310,!1)}}}var z1=0,ds=4;function G1(e){let n=cs(e,z1,1).getDay();return cs(e,0,1+(n<=ds?ds:ds+7)-n)}function Im(e){let n=e.getDay(),t=n===0?-3:ds-n;return cs(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Rd(e,n=!1){return function(t,i){let o;if(n){let r=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();o=1+Math.floor((s+r)/7)}else{let r=Im(t),s=G1(r.getFullYear()),c=r.getTime()-s.getTime();o=1+Math.round(c/6048e5)}return bt(o,e,Nt(i,Ze.MinusSign))}}function ls(e,n=!1){return function(t,i){let r=Im(t).getFullYear();return bt(r,e,Nt(i,Ze.MinusSign),n)}}var Fd={};function W1(e){if(Fd[e])return Fd[e];let n;switch(e){case"G":case"GG":case"GGG":n=he(3,fe.Abbreviated);break;case"GGGG":n=he(3,fe.Wide);break;case"GGGGG":n=he(3,fe.Narrow);break;case"y":n=Te(0,1,0,!1,!0);break;case"yy":n=Te(0,2,0,!0,!0);break;case"yyy":n=Te(0,3,0,!1,!0);break;case"yyyy":n=Te(0,4,0,!1,!0);break;case"Y":n=ls(1);break;case"YY":n=ls(2,!0);break;case"YYY":n=ls(3);break;case"YYYY":n=ls(4);break;case"M":case"L":n=Te(1,1,1);break;case"MM":case"LL":n=Te(1,2,1);break;case"MMM":n=he(2,fe.Abbreviated);break;case"MMMM":n=he(2,fe.Wide);break;case"MMMMM":n=he(2,fe.Narrow);break;case"LLL":n=he(2,fe.Abbreviated,Oe.Standalone);break;case"LLLL":n=he(2,fe.Wide,Oe.Standalone);break;case"LLLLL":n=he(2,fe.Narrow,Oe.Standalone);break;case"w":n=Rd(1);break;case"ww":n=Rd(2);break;case"W":n=Rd(1,!0);break;case"d":n=Te(2,1);break;case"dd":n=Te(2,2);break;case"c":case"cc":n=Te(7,1);break;case"ccc":n=he(1,fe.Abbreviated,Oe.Standalone);break;case"cccc":n=he(1,fe.Wide,Oe.Standalone);break;case"ccccc":n=he(1,fe.Narrow,Oe.Standalone);break;case"cccccc":n=he(1,fe.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":n=he(1,fe.Abbreviated);break;case"EEEE":n=he(1,fe.Wide);break;case"EEEEE":n=he(1,fe.Narrow);break;case"EEEEEE":n=he(1,fe.Short);break;case"a":case"aa":case"aaa":n=he(0,fe.Abbreviated);break;case"aaaa":n=he(0,fe.Wide);break;case"aaaaa":n=he(0,fe.Narrow);break;case"b":case"bb":case"bbb":n=he(0,fe.Abbreviated,Oe.Standalone,!0);break;case"bbbb":n=he(0,fe.Wide,Oe.Standalone,!0);break;case"bbbbb":n=he(0,fe.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":n=he(0,fe.Abbreviated,Oe.Format,!0);break;case"BBBB":n=he(0,fe.Wide,Oe.Format,!0);break;case"BBBBB":n=he(0,fe.Narrow,Oe.Format,!0);break;case"h":n=Te(3,1,-12);break;case"hh":n=Te(3,2,-12);break;case"H":n=Te(3,1);break;case"HH":n=Te(3,2);break;case"m":n=Te(4,1);break;case"mm":n=Te(4,2);break;case"s":n=Te(5,1);break;case"ss":n=Te(5,2);break;case"S":n=Te(6,1);break;case"SS":n=Te(6,2);break;case"SSS":n=Te(6,3);break;case"Z":case"ZZ":case"ZZZ":n=as(0);break;case"ZZZZZ":n=as(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=as(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=as(2);break;default:return null}return Fd[e]=n,n}function Sm(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function q1(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function Z1(e,n,t){let o=e.getTimezoneOffset(),r=Sm(n,o);return q1(e,-1*(r-o))}function Y1(e){if(mm(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,r=1,s=1]=e.split("-").map(c=>+c);return cs(o,r-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(j1))return Q1(i)}let n=new Date(e);if(!mm(n))throw new H(2311,!1);return n}function Q1(e){let n=new Date(0),t=0,i=0,o=e[8]?n.setUTCFullYear:n.setFullYear,r=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),o.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,c=Number(e[5]||0)-i,f=Number(e[6]||0),h=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return r.call(n,s,c,f,h),n}function mm(e){return e instanceof Date&&!isNaN(e.valueOf())}var K1=/^(\d+)?\.((\d+)(-(\d+))?)?$/,hm=22,us=".",go="0",J1=";",X1=",",Od="#";function eb(e,n,t,i,o,r,s=!1){let c="",f=!1;if(!isFinite(e))c=Nt(t,Ze.Infinity);else{let h=ib(e);s&&(h=nb(h));let g=n.minInt,b=n.minFrac,S=n.maxFrac;if(r){let et=r.match(K1);if(et===null)throw new H(2306,!1);let qn=et[1],Ks=et[3],fc=et[5];qn!=null&&(g=Pd(qn)),Ks!=null&&(b=Pd(Ks)),fc!=null?S=Pd(fc):Ks!=null&&b>S&&(S=b)}ob(h,b,S);let _=h.digits,O=h.integerLen,Z=h.exponent,me=[];for(f=_.every(et=>!et);O<g;O++)_.unshift(0);for(;O<0;O++)_.unshift(0);O>0?me=_.splice(O,_.length):(me=_,_=[0]);let ce=[];for(_.length>=n.lgSize&&ce.unshift(_.splice(-n.lgSize,_.length).join(""));_.length>n.gSize;)ce.unshift(_.splice(-n.gSize,_.length).join(""));_.length&&ce.unshift(_.join("")),c=ce.join(Nt(t,i)),me.length&&(c+=Nt(t,o)+me.join("")),Z&&(c+=Nt(t,Ze.Exponential)+"+"+Z)}return e<0&&!f?c=n.negPre+c+n.negSuf:c=n.posPre+c+n.posSuf,c}function Mm(e,n,t){let i=_m(n,Vd.Decimal),o=tb(i,Nt(n,Ze.MinusSign));return eb(e,o,n,Ze.Group,Ze.Decimal,t)}function tb(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(J1),o=i[0],r=i[1],s=o.indexOf(us)!==-1?o.split(us):[o.substring(0,o.lastIndexOf(go)+1),o.substring(o.lastIndexOf(go)+1)],c=s[0],f=s[1]||"";t.posPre=c.substring(0,c.indexOf(Od));for(let g=0;g<f.length;g++){let b=f.charAt(g);b===go?t.minFrac=t.maxFrac=g+1:b===Od?t.maxFrac=g+1:t.posSuf+=b}let h=c.split(X1);if(t.gSize=h[1]?h[1].length:0,t.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,r){let g=o.length-t.posPre.length-t.posSuf.length,b=r.indexOf(Od);t.negPre=r.substring(0,b).replace(/'/g,""),t.negSuf=r.slice(b+g).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function nb(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function ib(e){let n=Math.abs(e)+"",t=0,i,o,r,s,c;for((o=n.indexOf(us))>-1&&(n=n.replace(us,"")),(r=n.search(/e/i))>0?(o<0&&(o=r),o+=+n.slice(r+1),n=n.substring(0,r)):o<0&&(o=n.length),r=0;n.charAt(r)===go;r++);if(r===(c=n.length))i=[0],o=1;else{for(c--;n.charAt(c)===go;)c--;for(o-=r,i=[],s=0;r<=c;r++,s++)i[s]=Number(n.charAt(r))}return o>hm&&(i=i.splice(0,hm-1),t=o-1,o=1),{digits:i,exponent:t,integerLen:o}}function ob(e,n,t){if(n>t)throw new H(2307,!1);let i=e.digits,o=i.length-e.integerLen,r=Math.min(Math.max(n,o),t),s=r+e.integerLen,c=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let b=s;b<i.length;b++)i[b]=0}else{o=Math.max(0,o),e.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let b=1;b<s;b++)i[b]=0}if(c>=5)if(s-1<0){for(let b=0;b>s;b--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let f=r!==0,h=n+e.integerLen,g=i.reduceRight(function(b,S,_,O){return S=S+b,O[_]=S<10?S:S-10,f&&(O[_]===0&&_>=h?O.pop():f=!1),S>=10?1:0},0);g&&(i.unshift(g),e.integerLen++)}function Pd(e){let n=parseInt(e);if(isNaN(n))throw new H(2305,!1);return n}function Tm(e,n){return new H(2100,!1)}var rb="mediumDate",Am=new Q(""),km=new Q(""),pe=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,i,o){this.locale=t,this.defaultTimezone=i,this.defaultOptions=o}transform(t,i,o,r){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??rb,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Dm(t,s,r||this.locale,c)}catch(s){throw Tm(e,s.message)}}static \u0275fac=function(i){return new(i||e)(Y(Ei,16),Y(Am,24),Y(km,24))};static \u0275pipe=ts({name:"date",type:e,pure:!0})}return e})();var Ld=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,i,o){if(!sb(t))return null;o||=this._locale;try{let r=ab(t);return Mm(r,o,i)}catch(r){throw Tm(e,r.message)}}static \u0275fac=function(i){return new(i||e)(Y(Ei,16))};static \u0275pipe=ts({name:"number",type:e,pure:!0})}return e})();function sb(e){return!(e==null||e===""||e!==e)}function ab(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new H(2309,!1);return e}var U=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=an({type:e});static \u0275inj=Lt({})}return e})();function jd(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[o,r]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(o.trim()===n)return decodeURIComponent(r)}return null}var vo=class{};var Nm="browser";var yo=class{_doc;constructor(n){this._doc=n}manager},fs=(()=>{class e extends yo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,o,r){return t.addEventListener(i,o,r),()=>this.removeEventListener(t,i,o,r)}removeEventListener(t,i,o,r){return t.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||e)(le(pt))};static \u0275prov=de({token:e,factory:e.\u0275fac})}return e})(),hs=new Q(""),$d=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let o=t.filter(s=>!(s instanceof fs));this._plugins=o.slice().reverse();let r=t.find(s=>s instanceof fs);r&&this._plugins.push(r)}addEventListener(t,i,o,r){return this._findPluginFor(i).addEventListener(t,i,o,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(r=>r.supports(t)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(le(hs),le(Qe))};static \u0275prov=de({token:e,factory:e.\u0275fac})}return e})(),Bd="ng-app-id";function Rm(e){for(let n of e)n.remove()}function Fm(e,n){let t=n.createElement("style");return t.textContent=e,t}function db(e,n,t,i){let o=e.head?.querySelectorAll(`style[${Bd}="${n}"],link[${Bd}="${n}"]`);if(o)for(let r of o)r.removeAttribute(Bd),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&t.set(r.textContent,{usage:0,elements:[r]})}function Ud(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var zd=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,o,r={}){this.doc=t,this.appId=i,this.nonce=o,db(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let o of t)this.addUsage(o,this.inline,Fm);i?.forEach(o=>this.addUsage(o,this.external,Ud))}removeStyles(t,i){for(let o of t)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,i,o){let r=i.get(t);r?r.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,i){let o=i.get(t);o&&(o.usage--,o.usage<=0&&(Rm(o.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Rm(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(t,Fm(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(t,Ud(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(le(pt),le(Wr),le(Zr,8),le(ro))};static \u0275prov=de({token:e,factory:e.\u0275fac})}return e})(),Hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gd=/%COMP%/g;var Pm="%COMP%",cb=`_nghost-${Pm}`,ub=`_ngcontent-${Pm}`,fb=!0,pb=new Q("",{factory:()=>fb});function mb(e){return ub.replace(Gd,e)}function hb(e){return cb.replace(Gd,e)}function Vm(e,n){return n.map(t=>t.replace(Gd,e))}var Wd=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,i,o,r,s,c,f=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.ngZone=c,this.nonce=f,this.tracingService=h,this.defaultRenderer=new bo(t,s,c,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,i);return o instanceof ms?o.applyToHost(t):o instanceof xo&&o.applyStyles(),o}getOrCreateRenderer(t,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,c=this.ngZone,f=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,b=this.tracingService;switch(i.encapsulation){case vt.Emulated:r=new ms(f,h,i,this.appId,g,s,c,b);break;case vt.ShadowDom:return new ps(f,t,i,s,c,this.nonce,b,h);case vt.ExperimentalIsolatedShadowDom:return new ps(f,t,i,s,c,this.nonce,b);default:r=new xo(f,h,i,g,s,c,b);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(le($d),le(zd),le(Wr),le(pb),le(pt),le(Qe),le(Zr),le(zn,8))};static \u0275prov=de({token:e,factory:e.\u0275fac})}return e})(),bo=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Hd[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Om(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(Om(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new H(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,o){if(o){t=o+":"+t;let r=Hd[o];r?n.setAttributeNS(r,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let o=Hd[i];o?n.removeAttributeNS(o,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,o){o&(kt.DashCase|kt.Important)?n.style.setProperty(t,i,o&kt.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&kt.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,o){if(typeof n=="string"&&(n=ln().getGlobalEventTarget(this.doc,n),!n))throw new H(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(n,t,r)),this.eventManager.addEventListener(n,t,r,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function Om(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ps=class extends bo{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,i,o,r,s,c,f){super(n,o,r,c),this.hostEl=t,this.sharedStylesHost=f,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Vm(i.id,h);for(let b of h){let S=document.createElement("style");s&&S.setAttribute("nonce",s),S.textContent=b,this.shadowRoot.appendChild(S)}let g=i.getExternalStyles?.();if(g)for(let b of g){let S=Ud(b,o);s&&S.setAttribute("nonce",s),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},xo=class extends bo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,o,r,s,c,f){super(n,r,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let h=i.styles;this.styles=f?Vm(f,h):h,this.styleUrls=i.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Bn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ms=class extends xo{contentAttr;hostAttr;constructor(n,t,i,o,r,s,c,f){let h=o+"-"+i.id;super(n,t,i,r,s,c,f,h),this.contentAttr=mb(h),this.hostAttr=hb(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var gs=class e extends fo{supportsDOMEvents=!0;static makeCurrent(){kd(new e)}onAndCancel(n,t,i,o){return n.addEventListener(t,i,o),()=>{n.removeEventListener(t,i,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=gb();return t==null?null:vb(t)}resetBaseElement(){_o=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return jd(document.cookie,n)}},_o=null;function gb(){return _o=_o||document.head.querySelector("base"),_o?_o.getAttribute("href"):null}function vb(e){return new URL(e,document.baseURI).pathname}var yb=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=de({token:e,factory:e.\u0275fac})}return e})(),Lm=["alt","control","meta","shift"],bb={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xb={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},jm=(()=>{class e extends yo{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,o,r){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(t,s.domEventName,c,r))}static parseEventName(t){let i=t.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=e._normalizeKey(i.pop()),s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),Lm.forEach(h=>{let g=i.indexOf(h);g>-1&&(i.splice(g,1),s+=h+".")}),s+=r,i.length!=0||r.length===0)return null;let f={};return f.domEventName=o,f.fullKey=s,f}static matchEventFullKeyCode(t,i){let o=bb[t.key]||t.key,r="";return i.indexOf("code.")>-1&&(o=t.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Lm.forEach(s=>{if(s!==o){let c=xb[s];c(t)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(t,i,o){return r=>{e.matchEventFullKeyCode(r,t)&&o.runGuarded(()=>i(r))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(le(pt))};static \u0275prov=de({token:e,factory:e.\u0275fac})}return e})();async function qd(e,n,t){let i=A({rootComponent:e},_b(n,t));return um(i)}function _b(e,n){return{platformRef:n?.platformRef,appProviders:[...Ib,...e?.providers??[]],platformProviders:Db}}function Cb(){gs.makeCurrent()}function Eb(){return new wt}function wb(){return td(document),document}var Db=[{provide:ro,useValue:Nm},{provide:qr,useValue:Cb,multi:!0},{provide:pt,useFactory:wb}];var Ib=[{provide:Ui,useValue:"root"},{provide:wt,useFactory:Eb},{provide:hs,useClass:fs,multi:!0},{provide:hs,useClass:jm,multi:!0},Wd,zd,$d,{provide:Hn,useExisting:Wd},{provide:vo,useClass:yb},[]];var Rt=class e{constructor(){this.toasts=R([])}show(n){let t=Math.random().toString(36).substr(2,9),i=N(A({},n),{id:t,duration:n.duration||4e3});this.toasts.update(o=>[...o,i]),setTimeout(()=>{this.remove(t)},i.duration)}success(n,t){this.show({type:"success",title:n,message:t})}error(n,t){this.show({type:"error",title:n,message:t,duration:6e3})}warning(n,t){this.show({type:"warning",title:n,message:t,duration:5e3})}info(n,t){this.show({type:"info",title:n,message:t})}remove(n){this.toasts.update(t=>t.filter(i=>i.id!==n))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}};var ne=class e{constructor(){this.currentUser=R(null);this.isLoggedIn=V(()=>this.currentUser()!==null);this.isAdmin=V(()=>this.currentUser()?.role==="ADMIN");this.currentModuleId=R("dashboard");this.filterCollaboratorId=R("");this.filterDate=R(new Date().toISOString().split("T")[0]);this.isContextEditable=V(()=>this.isAdmin()?!!this.filterCollaboratorId():!0);this.toastService=F(Rt);this.checklistRecords=R([]);this.clients=R([{id:"c1",name:"Ristorante Da Mario S.r.l.",piva:"12345678901",address:"Via Roma 1, Milano",phone:"02 1234567",email:"info@damario.it",licenseNumber:"HACCP-MI-001",suspended:!1},{id:"c2",name:"Pizzeria Bella Napoli",piva:"98765432109",address:"Corso Italia 50, Napoli",phone:"081 5556667",email:"admin@bellanapoli.it",licenseNumber:"HACCP-NA-999",suspended:!1}]);this.systemUsers=R([{id:"2",name:"Mario Rossi (Capo Sala)",email:"mario@damario.it",role:"COLLABORATOR",department:"Sala",active:!0,avatar:"https://ui-avatars.com/api/?name=Mario+Rossi&background=3b82f6&color=fff",clientId:"c1",username:"mario",password:"password"},{id:"3",name:"Luigi Verdi (Chef)",email:"chef@bellanapoli.it",role:"COLLABORATOR",department:"Cucina",active:!0,avatar:"https://ui-avatars.com/api/?name=Luigi+Verdi&background=10b981&color=fff",clientId:"c2",username:"luigi",password:"password"},{id:"4",name:"Giulia Bianchi (Bar)",email:"giulia@damario.it",role:"COLLABORATOR",department:"Bar",active:!1,avatar:"https://ui-avatars.com/api/?name=Giulia+Bianchi&background=d97706&color=fff",clientId:"c1",username:"giulia",password:"password"}]);this.companyConfig=R({id:"demo",name:"Demo Company S.r.l.",piva:"00000000000",address:"Via Demo 1",phone:"",email:"",licenseNumber:"",suspended:!1});this.messages=R([{id:"m1",senderId:"1",senderName:"Amministrazione",subject:"Benvenuti nel nuovo sistema HACCP Pro",content:"Siamo lieti di annunciare il lancio della nuova piattaforma. Per qualsiasi assistenza, utilizzate questo modulo di messaggistica.",recipientType:"ALL",timestamp:new Date(Date.now()-864e5*2),read:!0,replies:[]},{id:"m2",senderId:"1",senderName:"Amministrazione",subject:"Aggiornamento Documentazione",content:"Abbiamo caricato i nuovi moduli per il controllo temperature. Si prega di prenderne visione.",recipientType:"SINGLE",recipientId:"c1",timestamp:new Date(Date.now()-36e5*5),read:!1,replies:[]}]);this.unreadMessagesCount=V(()=>{let n=this.currentUser();return n?this.messages().filter(t=>n.role==="ADMIN"?!t.read&&t.senderId!==n.id:!t.read&&t.senderId!==n.id&&(t.recipientType==="ALL"||t.recipientId===n.clientId)).length:0});this.menuItems=[{id:"dashboard",label:"Dashboard",icon:"fa-chart-pie",category:"dashboard"},{id:"reports",label:"Report Controlli",icon:"fa-file-contract",category:"dashboard",adminOnly:!0},{id:"general-checks",label:"Controlli Generali",icon:"fa-list-check",category:"dashboard",adminOnly:!0},{id:"operational-checklist",label:"Controllo Pre/Post Op.",icon:"fa-list-check",category:"daily-checks"},{id:"staff-training",label:"Formazione Personale",icon:"fa-graduation-cap",category:"anagrafiche"},{id:"suppliers",label:"Elenco Fornitori",icon:"fa-truck-field",category:"anagrafiche"},{id:"products-cleaning",label:"Prodotti Pulizia",icon:"fa-pump-soap",category:"anagrafiche"},{id:"equipment",label:"Elenco Attrezzature",icon:"fa-blender",category:"anagrafiche"},{id:"allergens-ue1169",label:"Reg. U.E. 1169/2011",icon:"fa-wheat-awn",category:"anagrafiche"},{id:"staff-hygiene",label:"Igiene Personale",icon:"fa-hands-bubbles",category:"operativo"},{id:"cleaning-maintenance",label:"Pulizia / Manutenzione",icon:"fa-broom",category:"operativo"},{id:"goods-receipt",label:"Ricezione Prodotti",icon:"fa-box-open",category:"operativo"},{id:"food-conservation",label:"Conservazione Alimenti",icon:"fa-temperature-half",category:"operativo"},{id:"temperatures",label:"Temperature",icon:"fa-temperature-low",category:"operativo"},{id:"traceability",label:"Rintracciabilit\xE0 Alimenti",icon:"fa-barcode",category:"operativo"},{id:"pest-control",label:"Controllo Infestanti",icon:"fa-bug",category:"normativa"},{id:"micro-bio",label:"Monitoraggio Microbiologico",icon:"fa-vial",category:"normativa"},{id:"non-compliance",label:"Non Conformit\xE0",icon:"fa-triangle-exclamation",category:"normativa"},{id:"collaborators",label:"Gestione Collaboratori",icon:"fa-users-gear",category:"config",adminOnly:!0},{id:"messages",label:"Messaggistica",icon:"fa-comments",category:"communication",adminOnly:!1},{id:"accounting",label:"Contabilit\xE0",icon:"fa-calculator",category:"config",adminOnly:!0}]}loginWithCredentials(n,t){if(n==="dev"&&t==="dev")return this.currentUser.set({id:"dev-admin",name:"Sviluppatore (Admin)",role:"ADMIN",avatar:"https://ui-avatars.com/api/?name=Dev&background=000&color=fff",clientId:"demo"}),this.clients().length>0&&this.companyConfig.set(this.clients()[0]),this.currentModuleId.set("dashboard"),!0;let i=this.systemUsers().find(o=>o.username===n&&o.password===t&&o.active);return i?this.clients().find(r=>r.id===i.clientId)?.suspended?(this.toastService.error("Accesso Negato","Servizio sospeso per mancato pagamento. Contattare l'amministrazione."),!1):(this.loginAsUser(i),!0):!1}loginAsUser(n){if(n.active){if(this.currentUser.set({id:n.id,name:n.name,role:n.role,avatar:n.avatar,clientId:n.clientId}),n.role==="ADMIN")this.companyConfig.set(this.clients()[0]);else{let t=this.clients().find(i=>i.id===n.clientId);t&&this.companyConfig.set(t)}this.currentModuleId.set("dashboard")}}login(n){if(n==="ADMIN"){let t=this.systemUsers().find(i=>i.role==="ADMIN");t&&(this.currentUser.set({id:t.id,name:t.name,role:"ADMIN",avatar:t.avatar,clientId:t.clientId}),this.companyConfig.set(this.clients()[0]))}else{let t=this.systemUsers().find(i=>i.role==="COLLABORATOR"&&i.active);if(t){this.currentUser.set({id:t.id,name:t.name,role:"COLLABORATOR",avatar:t.avatar,clientId:t.clientId});let i=this.clients().find(o=>o.id===t.clientId);i&&this.companyConfig.set(i)}}this.currentModuleId.set("dashboard")}logout(){this.currentUser.set(null),this.currentModuleId.set("dashboard"),this.filterCollaboratorId.set(""),this.filterDate.set(new Date().toISOString().split("T")[0])}setModule(n){this.currentModuleId.set(n)}setCollaboratorFilter(n){this.filterCollaboratorId.set(n)}setDateFilter(n){this.filterDate.set(n)}saveRecord(n,t){let i=this.currentUser();if(!i)return;let o=this.filterDate(),r={id:Math.random().toString(36).substr(2,9),moduleId:n,userId:i.id,date:o,data:t,timestamp:new Date};this.checklistRecords.update(s=>[...s.filter(c=>!(c.moduleId===n&&c.userId===i.id&&c.date===o)),r])}getRecord(n){let t=this.currentUser()?.id,i=this.filterDate();return this.isAdmin()&&this.filterCollaboratorId()&&(t=this.filterCollaboratorId()),t&&this.checklistRecords().find(o=>o.moduleId===n&&o.userId===t&&o.date===i)?.data||null}addClient(n){let t=N(A({},n),{id:Math.random().toString(36).substr(2,9)});this.clients.update(i=>[...i,t])}updateClient(n,t){this.clients.update(i=>i.map(o=>o.id===n?A(A({},o),t):o)),this.companyConfig().id===n&&this.companyConfig.update(i=>A(A({},i),t))}toggleClientSuspension(n,t){if(this.updateClient(n,{suspended:t}),!t){let i=this.systemUsers().filter(o=>o.clientId===n);i.length>0&&i.every(o=>!o.active)&&this.updateSystemUser(i[0].id,{active:!0})}}checkAutoSuspendClient(n){let t=this.systemUsers().filter(i=>i.clientId===n&&i.role!=="ADMIN");t.length>0&&t.every(i=>!i.active)&&this.updateClient(n,{suspended:!0})}addSystemUser(n){let t=N(A({},n),{id:Math.random().toString(36).substr(2,9),avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(n.name)}&background=random&color=fff`});this.systemUsers.update(i=>[...i,t])}updateSystemUser(n,t){if(this.systemUsers.update(i=>i.map(o=>o.id===n?A(A({},o),t):o)),t.active===!1){let i=this.systemUsers().find(o=>o.id===n);i?.clientId&&this.checkAutoSuspendClient(i.clientId)}}deleteSystemUser(n){this.systemUsers.update(t=>t.filter(i=>i.id!==n))}sendMessage(n,t,i,o,r){let s=this.currentUser();if(!s)return;let c={id:Date.now().toString(),senderId:s.id,senderName:s.name,recipientType:i,recipientId:o,subject:n,content:t,attachmentUrl:r?.url,attachmentName:r?.name,timestamp:new Date,read:!1,replies:[]};if(this.messages.update(f=>[...f,c]),i==="ALL")this.toastService.success("Messaggio inviato","Inviato a tutte le aziende");else if(o==="ADMIN_OFFICE")this.toastService.success("Messaggio inviato","Inviato all'Amministrazione");else{let f=this.clients().find(h=>h.id===o);this.toastService.success("Messaggio inviato",`Inviato a ${f?.name}`)}}replyToMessage(n,t,i){let o=this.currentUser();if(!o)return;let r={id:Date.now().toString(),senderId:o.id,senderName:o.name,content:t,attachmentUrl:i?.url,attachmentName:i?.name,timestamp:new Date};this.messages.update(s=>s.map(c=>c.id===n?N(A({},c),{replies:[...c.replies,r]}):c)),this.toastService.success("Risposta inviata","La tua risposta \xE8 stata inviata")}markMessageAsRead(n){this.messages.update(t=>t.map(i=>i.id===n?N(A({},i),{read:!0}):i))}getMessagesForCurrentUser(){let n=this.currentUser();return n?n.role==="ADMIN"?this.messages():this.messages().filter(t=>t.senderId===n.id||t.recipientType==="ALL"||t.recipientId===n.clientId):[]}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}};var Sb=(e,n)=>n.userId,Mb=(e,n)=>n.id;function Tb(e,n){e&1&&(p(0,"div",10),x(1,"i",90),a(2," Filtrato su Unit\xE0 Selezionata "),m())}function Ab(e,n){if(e&1&&(p(0,"span",31),a(1),m()),e&2){let t=v();u(),k(t.criticalAlerts().length)}}function kb(e,n){if(e&1){let t=P();p(0,"button",91),G("click",function(){w(t);let o=v();return D(o.state.setModule("collaborators"))}),x(1,"i",92),a(2," Gestisci Struttura "),m()}}function Nb(e,n){e&1&&(p(0,"div",68),x(1,"i",93),p(2,"p",94),a(3,"Nessuna unit\xE0 operativa trovata per i filtri selezionati."),m()())}function Rb(e,n){e&1&&x(0,"div",98)}function Fb(e,n){e&1&&x(0,"div",99)}function Ob(e,n){e&1&&x(0,"div",100)}function Pb(e,n){if(e&1&&(p(0,"div",106)(1,"span",107),a(2,"In Attesa"),m(),p(3,"span",113),a(4),m()()),e&2){let t=v().$implicit;u(4),k(t.tasksPending)}}function Vb(e,n){if(e&1){let t=P();p(0,"div",96),G("click",function(){let o=w(t).$implicit,r=v(2);return D(r.openUserProfile(o.userId))}),p(1,"div",97),C(2,Rb,1,0,"div",98)(3,Fb,1,0,"div",99)(4,Ob,1,0,"div",100),m(),p(5,"div",101),x(6,"img",102),p(7,"div",103)(8,"h4",104),a(9),m(),p(10,"p",66),a(11),m(),p(12,"div",105)(13,"div",106)(14,"span",107),a(15,"Completati"),m(),p(16,"span",108),a(17),m()(),C(18,Pb,5,1,"div",106),m(),p(19,"div",109)(20,"span",110),a(21,"Ultimo accesso"),m(),p(22,"span",111),a(23),m()()()(),x(24,"div",112),m()}if(e&2){let t=n.$implicit;I("border-emerald-200",t.status==="active")("border-orange-200",t.status==="warning")("border-slate-200",t.status==="inactive"),u(2),E(t.status==="active"?2:t.status==="warning"?3:4),u(4),ns("src",t.avatar,$n),u(3),k(t.userName),u(2),k(t.department),u(6),k(t.tasksCompleted),u(),E(t.tasksPending>0?18:-1),u(5),k(t.lastActivity)}}function Lb(e,n){if(e&1&&(p(0,"div",69),L(1,Vb,25,13,"div",95,Sb),m()),e&2){let t=v();u(),j(t.collaboratorActivities())}}function jb(e,n){if(e&1&&(p(0,"span",74),a(1),m()),e&2){let t=v();u(),M(" ",t.systemAlerts().length," attivi ")}}function Bb(e,n){e&1&&(p(0,"div",68),x(1,"i",114),p(2,"p",94),a(3,"Nessun avviso attivo per questa selezione. Tutto in regola!"),m()())}function Hb(e,n){e&1&&x(0,"i",118)}function Ub(e,n){e&1&&x(0,"i",119)}function $b(e,n){e&1&&x(0,"i",120)}function zb(e,n){if(e&1&&(p(0,"div",124),x(1,"i",126),p(2,"span"),a(3),m(),p(4,"span",127),a(5,"\u2022"),m(),p(6,"span"),a(7),m()()),e&2){let t=v().$implicit;u(3),k(t.userName),u(4),k(t.timestamp)}}function Gb(e,n){if(e&1){let t=P();p(0,"button",128),G("click",function(){w(t);let o=v().$implicit,r=v(2);return D(r.openUserProfile(o.userId))}),x(1,"i",129),a(2," Visualizza "),m()}}function Wb(e,n){if(e&1&&(p(0,"div",116)(1,"div",117),C(2,Hb,1,0,"i",118)(3,Ub,1,0,"i",119)(4,$b,1,0,"i",120),m(),p(5,"div",103)(6,"div",121)(7,"div",122)(8,"h4",80),a(9),m(),p(10,"p",123),a(11),m(),C(12,zb,8,2,"div",124),m(),C(13,Gb,3,0,"button",125),m()()()),e&2){let t=n.$implicit;I("bg-red-50",t.type==="error")("border-red-200",t.type==="error")("bg-orange-50",t.type==="warning")("border-orange-200",t.type==="warning")("bg-blue-50",t.type==="info")("border-blue-200",t.type==="info"),u(2),E(t.type==="error"?2:t.type==="warning"?3:4),u(7),k(t.title),u(2),k(t.message),u(),E(t.userName?12:-1),u(),E(t.actionable&&t.userId?13:-1)}}function qb(e,n){if(e&1&&(p(0,"div",75),L(1,Wb,14,17,"div",115,Mb),m()),e&2){let t=v();u(),j(t.systemAlerts())}}var vs=class e{constructor(){this.state=F(ne);this.filteredUsers=V(()=>{let n=this.state.systemUsers(),t=this.state.filterCollaboratorId(),i=this.state.companyConfig()?.id,o=n;return t?o=n.filter(r=>r.id===t):i&&(o=n.filter(r=>r.clientId===i&&r.role!=="ADMIN")),o});this.collaboratorActivities=V(()=>this.filteredUsers().map(n=>({userId:n.id,userName:n.name,avatar:n.avatar,lastActivity:this.getRandomTime(),tasksCompleted:Math.floor(Math.random()*10),tasksPending:Math.floor(Math.random()*5),status:n.active?Math.random()>.7?"warning":"active":"inactive",department:n.department||"Generale"})));this.kpiData=V(()=>{let n=this.collaboratorActivities();return{completed:n.reduce((t,i)=>t+i.tasksCompleted,0),total:n.reduce((t,i)=>t+i.tasksCompleted+i.tasksPending,0)||1,activeUsers:n.filter(t=>t.status!=="inactive").length}});this.systemAlerts=V(()=>{let n=[];return this.collaboratorActivities().forEach(t=>{t.tasksPending>3&&n.push({id:`alert-${t.userId}`,type:"warning",title:"Controlli Giornalieri Non Completati",message:`${t.userName} ha ${t.tasksPending} controlli in attesa.`,userId:t.userId,userName:t.userName,timestamp:"2 ore fa",actionable:!0}),t.status==="inactive"&&n.push({id:`inactive-${t.userId}`,type:"error",title:"Unit\xE0 Inattiva",message:`${t.userName} non ha effettuato l'accesso per la data selezionata.`,userId:t.userId,userName:t.userName,timestamp:t.lastActivity,actionable:!0})}),n.push({id:"temp-anomaly",type:"warning",title:"Temperatura Fuori Range",message:"Cella frigorifera #2 ha registrato 8\xB0C. Limite: 4\xB0C",timestamp:"30 min fa",actionable:!1}),n});this.criticalAlerts=V(()=>this.systemAlerts().filter(n=>n.type==="error"))}getCurrentDate(){let n=this.state.filterDate();return new Date(n).toLocaleDateString("it-IT",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}getCurrentDateShort(){return new Date(this.state.filterDate()).toLocaleDateString("it-IT",{day:"numeric",month:"short"})}getRandomTime(){return`${Math.floor(Math.random()*12)+1}h fa`}openUserProfile(n){this.state.setModule("collaborators")}scrollToAlerts(){document.getElementById("alerts-section")?.scrollIntoView({behavior:"smooth"})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-dashboard-view"]],decls:191,vars:19,consts:[[1,"space-y-6","animate-fade-in"],[1,"bg-gradient-to-br","from-slate-900","via-slate-800","to-slate-900","p-8","rounded-3xl","shadow-2xl","border","border-slate-700","relative","overflow-hidden"],[1,"absolute","inset-0","bg-grid-slate-700/25","[mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"],[1,"relative","z-10"],[1,"flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","gap-4"],[1,"flex","items-center","gap-3","mb-2"],[1,"w-12","h-12","rounded-full","bg-gradient-to-br","from-indigo-500","to-purple-600","flex","items-center","justify-center","shadow-lg"],[1,"fa-solid","fa-shield-halved","text-white","text-xl"],[1,"text-3xl","font-black","text-white"],[1,"text-slate-300","text-sm"],[1,"mt-1","inline-flex","items-center","bg-indigo-500/30","px-2","py-0.5","rounded","text-xs","text-indigo-200","border","border-indigo-500/50"],[1,"flex","items-center","gap-3"],[1,"bg-white/10","backdrop-blur-sm","px-4","py-2","rounded-xl","border","border-white/20"],[1,"text-xs","text-slate-300","uppercase","font-bold"],[1,"text-lg","font-bold","text-white"],[1,"bg-emerald-500/20","backdrop-blur-sm","px-4","py-2","rounded-xl","border","border-emerald-400/30"],[1,"text-xs","text-emerald-300","uppercase","font-bold"],[1,"text-lg","font-bold","text-emerald-400","flex","items-center"],[1,"fa-solid","fa-circle-check","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-gradient-to-br","from-blue-500","to-blue-600","p-6","rounded-2xl","shadow-xl","text-white","relative","overflow-hidden","group","cursor-pointer","hover:scale-105","transition-transform"],[1,"absolute","-right-4","-top-4","w-24","h-24","bg-white/10","rounded-full","blur-2xl"],[1,"flex","items-center","justify-between","mb-3"],[1,"fa-solid","fa-clipboard-check","text-3xl","opacity-80"],[1,"bg-white/20","px-2","py-1","rounded-full","text-xs","font-bold"],[1,"text-sm","opacity-90","font-medium"],[1,"text-4xl","font-black","mt-2"],[1,"mt-3","h-2","bg-white/20","rounded-full","overflow-hidden"],[1,"h-full","bg-white","rounded-full","transition-all"],[1,"bg-gradient-to-br","from-amber-500","to-orange-600","p-6","rounded-2xl","shadow-xl","text-white","relative","overflow-hidden","group","cursor-pointer","hover:scale-105","transition-transform",3,"click"],[1,"fa-solid","fa-bell","text-3xl","opacity-80","animate-pulse"],[1,"bg-red-500","px-2","py-1","rounded-full","text-xs","font-bold","animate-bounce"],[1,"text-xs","mt-2","opacity-80"],[1,"bg-gradient-to-br","from-emerald-500","to-teal-600","p-6","rounded-2xl","shadow-xl","text-white","relative","overflow-hidden","group","cursor-pointer","hover:scale-105","transition-transform",3,"click"],[1,"fa-solid","fa-users","text-3xl","opacity-80"],[1,"bg-gradient-to-br","from-purple-500","to-pink-600","p-6","rounded-2xl","shadow-xl","text-white","relative","overflow-hidden","group","cursor-pointer","hover:scale-105","transition-transform"],[1,"fa-solid","fa-chart-line","text-3xl","opacity-80"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-2xl","shadow-lg","border","border-slate-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"px-6","py-4","border-b","border-slate-100","flex","items-center","justify-between","bg-slate-50","group-hover:bg-blue-50","transition-colors"],[1,"font-bold","text-slate-700","flex","items-center","gap-2"],[1,"fa-solid","fa-temperature-half","text-blue-500"],[1,"text-xs","font-bold","px-2","py-1","rounded","bg-emerald-100","text-emerald-700"],[1,"p-6"],[1,"flex","justify-between","text-sm","mb-2"],[1,"text-slate-500"],[1,"font-bold","text-slate-800"],[1,"h-2","bg-slate-100","rounded-full","overflow-hidden","mb-4"],[1,"h-full","bg-blue-500","w-[75%]","rounded-full"],[1,"flex","items-center","gap-3","text-xs","text-slate-500","bg-slate-50","p-3","rounded-lg","border","border-slate-100"],[1,"fa-solid","fa-clock","text-blue-400"],[1,"px-6","py-4","border-b","border-slate-100","flex","items-center","justify-between","bg-slate-50","group-hover:bg-purple-50","transition-colors"],[1,"fa-solid","fa-broom","text-purple-500"],[1,"text-xs","font-bold","px-2","py-1","rounded","bg-orange-100","text-orange-700"],[1,"h-full","bg-purple-500","w-[40%]","rounded-full"],[1,"fa-solid","fa-check-double","text-purple-400"],[1,"px-6","py-4","border-b","border-slate-100","flex","items-center","justify-between","bg-slate-50","group-hover:bg-emerald-50","transition-colors"],[1,"fa-solid","fa-truck-ramp-box","text-emerald-500"],[1,"text-xs","font-bold","px-2","py-1","rounded","bg-slate-100","text-slate-600"],[1,"h-full","bg-slate-300","w-0","rounded-full"],[1,"fa-solid","fa-info-circle","text-emerald-400"],[1,"bg-white","rounded-2xl","shadow-lg","border","border-slate-200","overflow-hidden"],[1,"bg-gradient-to-r","from-slate-50","to-slate-100","px-6","py-4","border-b","border-slate-200","flex","items-center","justify-between"],[1,"w-10","h-10","rounded-full","bg-indigo-100","flex","items-center","justify-center"],[1,"fa-solid","fa-user-clock","text-indigo-600"],[1,"font-bold","text-slate-800","text-lg"],[1,"text-xs","text-slate-500"],[1,"px-4","py-2","bg-slate-900","text-white","rounded-lg","hover:bg-slate-800","transition-colors","text-sm","font-bold"],[1,"text-center","py-12"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-4"],["id","alerts-section",1,"bg-white","rounded-2xl","shadow-lg","border","border-slate-200","overflow-hidden"],[1,"bg-gradient-to-r","from-red-50","to-orange-50","px-6","py-4","border-b","border-red-100","flex","items-center","justify-between"],[1,"w-10","h-10","rounded-full","bg-red-100","flex","items-center","justify-center"],[1,"fa-solid","fa-triangle-exclamation","text-red-600"],[1,"bg-red-500","text-white","px-3","py-1","rounded-full","text-xs","font-bold"],[1,"space-y-3"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"group","bg-white","hover:bg-blue-50","p-6","rounded-xl","border-2","border-slate-200","hover:border-blue-400","transition-all","text-left",3,"click"],[1,"w-12","h-12","rounded-full","bg-blue-100","group-hover:bg-blue-500","flex","items-center","justify-center","mb-3","transition-colors"],[1,"fa-solid","fa-temperature-half","text-blue-600","group-hover:text-white","text-xl","transition-colors"],[1,"font-bold","text-slate-800","mb-1"],[1,"group","bg-white","hover:bg-emerald-50","p-6","rounded-xl","border-2","border-slate-200","hover:border-emerald-400","transition-all","text-left",3,"click"],[1,"w-12","h-12","rounded-full","bg-emerald-100","group-hover:bg-emerald-500","flex","items-center","justify-center","mb-3","transition-colors"],[1,"fa-solid","fa-barcode","text-emerald-600","group-hover:text-white","text-xl","transition-colors"],[1,"group","bg-white","hover:bg-red-50","p-6","rounded-xl","border-2","border-slate-200","hover:border-red-400","transition-all","text-left",3,"click"],[1,"w-12","h-12","rounded-full","bg-red-100","group-hover:bg-red-500","flex","items-center","justify-center","mb-3","transition-colors"],[1,"fa-solid","fa-triangle-exclamation","text-red-600","group-hover:text-white","text-xl","transition-colors"],[1,"group","bg-white","hover:bg-purple-50","p-6","rounded-xl","border-2","border-slate-200","hover:border-purple-400","transition-all","text-left",3,"click"],[1,"w-12","h-12","rounded-full","bg-purple-100","group-hover:bg-purple-500","flex","items-center","justify-center","mb-3","transition-colors"],[1,"fa-solid","fa-users-gear","text-purple-600","group-hover:text-white","text-xl","transition-colors"],[1,"fa-solid","fa-filter","mr-1"],[1,"px-4","py-2","bg-slate-900","text-white","rounded-lg","hover:bg-slate-800","transition-colors","text-sm","font-bold",3,"click"],[1,"fa-solid","fa-users-gear","mr-2"],[1,"fa-solid","fa-filter-circle-xmark","text-slate-300","text-5xl","mb-4"],[1,"text-slate-400","font-medium"],[1,"group","relative","bg-slate-50","hover:bg-white","border-2","rounded-xl","p-4","transition-all","cursor-pointer",3,"border-emerald-200","border-orange-200","border-slate-200"],[1,"group","relative","bg-slate-50","hover:bg-white","border-2","rounded-xl","p-4","transition-all","cursor-pointer",3,"click"],[1,"absolute","top-3","right-3"],[1,"w-3","h-3","bg-emerald-500","rounded-full","animate-pulse"],[1,"w-3","h-3","bg-orange-500","rounded-full","animate-pulse"],[1,"w-3","h-3","bg-slate-300","rounded-full"],[1,"flex","items-start","gap-3"],[1,"w-12","h-12","rounded-full","border-2","border-white","shadow-md",3,"src"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","truncate"],[1,"mt-3","space-y-2"],[1,"flex","items-center","justify-between","text-xs"],[1,"text-slate-600"],[1,"font-bold","text-emerald-600"],[1,"mt-3","pt-3","border-t","border-slate-200","flex","items-center","justify-between"],[1,"text-[10px]","text-slate-400"],[1,"text-[10px]","font-medium","text-slate-600"],[1,"absolute","inset-0","bg-indigo-600/0","group-hover:bg-indigo-600/5","rounded-xl","transition-colors","pointer-events-none"],[1,"font-bold","text-orange-600"],[1,"fa-solid","fa-check-circle","text-emerald-300","text-5xl","mb-4"],[1,"flex","items-start","gap-4","p-4","rounded-xl","border-2","transition-all","hover:shadow-md",3,"bg-red-50","border-red-200","bg-orange-50","border-orange-200","bg-blue-50","border-blue-200"],[1,"flex","items-start","gap-4","p-4","rounded-xl","border-2","transition-all","hover:shadow-md"],[1,"flex-shrink-0","mt-1"],[1,"fa-solid","fa-circle-xmark","text-red-600","text-xl"],[1,"fa-solid","fa-triangle-exclamation","text-orange-600","text-xl"],[1,"fa-solid","fa-info-circle","text-blue-600","text-xl"],[1,"flex","items-start","justify-between","gap-3"],[1,"flex-1"],[1,"text-sm","text-slate-600","mb-2"],[1,"flex","items-center","gap-2","text-xs","text-slate-500"],[1,"flex-shrink-0","px-3","py-1.5","bg-white","border-2","border-slate-300","rounded-lg","hover:border-indigo-500","hover:bg-indigo-50","transition-all","text-xs","font-bold","text-slate-700","hover:text-indigo-700"],[1,"fa-solid","fa-user"],[1,"text-slate-300"],[1,"flex-shrink-0","px-3","py-1.5","bg-white","border-2","border-slate-300","rounded-lg","hover:border-indigo-500","hover:bg-indigo-50","transition-all","text-xs","font-bold","text-slate-700","hover:text-indigo-700",3,"click"],[1,"fa-solid","fa-arrow-right","mr-1"]],template:function(t,i){if(t&1&&(p(0,"div",0)(1,"div",1),x(2,"div",2),p(3,"div",3)(4,"div",4)(5,"div")(6,"div",5)(7,"div",6),x(8,"i",7),m(),p(9,"div")(10,"h2",8),a(11,"Centro di Controllo HACCP"),m(),p(12,"p",9),a(13),m(),C(14,Tb,3,0,"div",10),m()()(),p(15,"div",11)(16,"div",12)(17,"div",13),a(18,"Data Selezionata"),m(),p(19,"div",14),a(20),m()(),p(21,"div",15)(22,"div",16),a(23,"Sistema"),m(),p(24,"div",17),x(25,"i",18),a(26," Operativo "),m()()()()()(),p(27,"div",19)(28,"div",20),x(29,"div",21),p(30,"div",3)(31,"div",22),x(32,"i",23),p(33,"span",24),a(34),m()(),p(35,"p",25),a(36,"Controlli Completati"),m(),p(37,"p",26),a(38),m(),p(39,"div",27),x(40,"div",28),m()()(),p(41,"div",29),G("click",function(){return i.scrollToAlerts()}),x(42,"div",21),p(43,"div",3)(44,"div",22),x(45,"i",30),C(46,Ab,2,1,"span",31),m(),p(47,"p",25),a(48,"Avvisi Attivi"),m(),p(49,"p",26),a(50),m(),p(51,"p",32),a(52),m()()(),p(53,"div",33),G("click",function(){return i.state.setModule("collaborators")}),x(54,"div",21),p(55,"div",3)(56,"div",22),x(57,"i",34),p(58,"span",24),a(59),m()(),p(60,"p",25),a(61,"Unit\xE0 Operative"),m(),p(62,"p",26),a(63),m(),p(64,"p",32),a(65,"Visualizzati in elenco"),m()()(),p(66,"div",35),x(67,"div",21),p(68,"div",3)(69,"div",22),x(70,"i",36),p(71,"span",24),a(72,"+12%"),m()(),p(73,"p",25),a(74,"Conformit\xE0 Media"),m(),p(75,"p",26),a(76,"98.5%"),m(),p(77,"p",32),a(78,"vs 86.5% mese scorso"),m()()()(),p(79,"div",37)(80,"div",38),G("click",function(){return i.state.setModule("temperatures")}),p(81,"div",39)(82,"h3",40),x(83,"i",41),a(84," Temperature "),m(),p(85,"span",42),a(86,"OK"),m()(),p(87,"div",43)(88,"div",44)(89,"span",45),a(90,"Misurazioni Oggi"),m(),p(91,"span",46),a(92,"12 / 16"),m()(),p(93,"div",47),x(94,"div",48),m(),p(95,"div",49),x(96,"i",50),a(97," Ultima rilevazione: 45 min fa (Cella 1) "),m()()(),p(98,"div",38),G("click",function(){return i.state.setModule("cleaning-maintenance")}),p(99,"div",51)(100,"h3",40),x(101,"i",52),a(102," Pulizie e Sanificazione "),m(),p(103,"span",53),a(104,"In Corso"),m()(),p(105,"div",43)(106,"div",44)(107,"span",45),a(108,"Aree Sanificate"),m(),p(109,"span",46),a(110,"3 / 8"),m()(),p(111,"div",47),x(112,"div",54),m(),p(113,"div",49),x(114,"i",55),a(115," Cucina: Da Completare "),m()()(),p(116,"div",38),G("click",function(){return i.state.setModule("goods-receipt")}),p(117,"div",56)(118,"h3",40),x(119,"i",57),a(120," Ricezione Merce "),m(),p(121,"span",58),a(122,"Nessun Arrivo"),m()(),p(123,"div",43)(124,"div",44)(125,"span",45),a(126,"Consegne Registrate"),m(),p(127,"span",46),a(128,"0"),m()(),p(129,"div",47),x(130,"div",59),m(),p(131,"div",49),x(132,"i",60),a(133," Nessuna consegna prevista per oggi "),m()()()(),p(134,"div",61)(135,"div",62)(136,"div",11)(137,"div",63),x(138,"i",64),m(),p(139,"div")(140,"h3",65),a(141,"Monitoraggio Unit\xE0 Operative"),m(),p(142,"p",66),a(143),m()()(),C(144,kb,3,0,"button",67),m(),p(145,"div",43),C(146,Nb,4,0,"div",68)(147,Lb,3,0,"div",69),m()(),p(148,"div",70)(149,"div",71)(150,"div",11)(151,"div",72),x(152,"i",73),m(),p(153,"div")(154,"h3",65),a(155,"Avvisi di Sistema & Anomalie"),m(),p(156,"p",66),a(157),m()()(),C(158,jb,2,1,"span",74),m(),p(159,"div",43),C(160,Bb,4,0,"div",68)(161,qb,3,0,"div",75),m()(),p(162,"div",76)(163,"button",77),G("click",function(){return i.state.setModule("temperatures")}),p(164,"div",78),x(165,"i",79),m(),p(166,"h4",80),a(167,"Controllo Temperature"),m(),p(168,"p",66),a(169,"Registra nuova misurazione"),m()(),p(170,"button",81),G("click",function(){return i.state.setModule("traceability")}),p(171,"div",82),x(172,"i",83),m(),p(173,"h4",80),a(174,"Rintracciabilit\xE0"),m(),p(175,"p",66),a(176,"Gestisci prodotti"),m()(),p(177,"button",84),G("click",function(){return i.state.setModule("non-compliance")}),p(178,"div",85),x(179,"i",86),m(),p(180,"h4",80),a(181,"Non Conformit\xE0"),m(),p(182,"p",66),a(183,"Segnala anomalia"),m()(),p(184,"button",87),G("click",function(){return i.state.setModule("collaborators")}),p(185,"div",88),x(186,"i",89),m(),p(187,"h4",80),a(188,"Gestione Struttura"),m(),p(189,"p",66),a(190,"Aziende e Collaboratori"),m()()()()),t&2){let o;u(13),M("Amministrazione ",(o=i.state.currentUser())==null?null:o.name),u(),E(i.state.filterCollaboratorId()?14:-1),u(6),k(i.getCurrentDate()),u(14),k(i.getCurrentDateShort()),u(4),ie("",i.kpiData().completed,"/",i.kpiData().total),u(2),Ne("width",i.kpiData().completed/i.kpiData().total*100,"%"),u(6),E(i.criticalAlerts().length>0?46:-1),u(4),k(i.systemAlerts().length),u(2),M("",i.criticalAlerts().length," critici per la data odierna"),u(7),M("",i.kpiData().activeUsers," attivi"),u(4),k(i.collaboratorActivities().length),u(80),M("Stato attivit\xE0 per il giorno ",i.getCurrentDate()),u(),E(i.state.filterCollaboratorId()?-1:144),u(2),E(i.collaboratorActivities().length===0?146:147),u(11),M("Notifiche per l'unit\xE0 selezionata in data ",i.getCurrentDate()),u(),E(i.systemAlerts().length>0?158:-1),u(2),E(i.systemAlerts().length===0?160:161)}},dependencies:[U],styles:[`.bg-grid-slate-700/25[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(51 65 85 / 0.25)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e")}`]})}};var Zb=(e,n)=>n.client.id,Yb=(e,n)=>n.id;function Qb(e,n){if(e&1&&(a(0),X(1,"date")),e&2){let t,i=v();ie(" Report per: ",(t=i.selectedClient())==null?null:t.name," - Data: ",ee(1,2,i.state.filterDate(),"dd/MM/yyyy")," ")}}function Kb(e,n){if(e&1&&(a(0),X(1,"date")),e&2){let t=v();M(" Panoramica Generale - Tutte le Aziende - Data: ",ee(1,1,t.state.filterDate(),"dd/MM/yyyy")," ")}}function Jb(e,n){e&1&&(p(0,"div",15),a(1," SERVIZIO SOSPESO "),m())}function Xb(e,n){e&1&&(p(0,"div",38),x(1,"i",40),p(2,"p",41),a(3,"Nessun operatore configurato"),m()())}function ex(e,n){if(e&1&&(p(0,"div",42)(1,"div",43)(2,"div")(3,"h4",44),a(4),m(),p(5,"p",45),a(6),m()(),p(7,"div",46)(8,"div",47),a(9),m(),p(10,"div",48),a(11,"Controlli"),m()()(),p(12,"div",49),x(13,"div",50),m(),p(14,"div",51)(15,"span",52),a(16,"Ultimo accesso"),m(),p(17,"span",53),a(18),m()()()),e&2){let t=n.$implicit;u(4),k(t.name),u(2),k(t.department),u(2),I("text-emerald-600",t.checksCompleted===t.checksTotal)("text-orange-500",t.checksCompleted<t.checksTotal),u(),ie(" ",t.checksCompleted,"/",t.checksTotal," "),u(4),Ne("width",t.checksCompleted/t.checksTotal*100,"%"),I("bg-emerald-500",t.checksCompleted===t.checksTotal)("bg-orange-500",t.checksCompleted<t.checksTotal),u(5),k(t.lastActivity)}}function tx(e,n){if(e&1&&(p(0,"div",39),L(1,ex,19,15,"div",42,Yb),m()),e&2){let t=v(2).$implicit;u(),j(t.users)}}function nx(e,n){if(e&1&&(p(0,"div",37),C(1,Xb,4,0,"div",38)(2,tx,3,0,"div",39),m()),e&2){let t=v().$implicit;u(),E(t.users.length===0?1:2)}}function ix(e,n){if(e&1){let t=P();p(0,"div",13)(1,"div",14),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCompany(o.client.id))}),C(2,Jb,2,0,"div",15),p(3,"div",16)(4,"div",17)(5,"div",18),x(6,"i",19),m(),p(7,"div",20)(8,"h3",21),a(9),p(10,"span",22),a(11),m()(),p(12,"div",23)(13,"div",24)(14,"div",25)(15,"span",26),a(16,"Completamento"),m(),p(17,"span",27),a(18),X(19,"number"),m()(),p(20,"div",28),x(21,"div",29),m()(),p(22,"span",30)(23,"span",31),a(24),m(),a(25),m()()(),p(26,"div",32),x(27,"i",33),m()(),p(28,"div",34),G("click",function(o){return w(t),D(o.stopPropagation())}),p(29,"button",35),G("click",function(){let o=w(t).$implicit,r=v();return D(r.printReport(o))}),x(30,"i",36),a(31," Stampa Report "),m()()()(),C(32,nx,3,1,"div",37),m()}if(e&2){let t=n.$implicit,i=v().isCompanyExpanded(t.client.id),o=t.completedChecks/t.totalChecks*100||0;I("ring-2",i)("ring-blue-100",i),u(),I("border-l-blue-500",i)("border-l-transparent",!i)("bg-red-50",t.client.suspended),u(),E(t.client.suspended?2:-1),u(),I("mt-6",t.client.suspended),u(6),M(" ",t.client.name," "),u(2),M(" ",t.users.length," Operatori "),u(6),I("text-emerald-600",o===100)("text-orange-500",o<100),u(),M(" ",ee(19,31,o,"1.0-0"),"% "),u(3),Ne("width",o,"%"),I("bg-emerald-500",o===100)("bg-orange-500",o<100),u(3),k(t.completedChecks),u(),M(" / ",t.totalChecks," "),u(),I("rotate-180",i),u(6),E(i?32:-1)}}function ox(e,n){e&1&&(p(0,"div",11),x(1,"i",54),p(2,"p",55),a(3,"Nessuna azienda configurata nel sistema"),m()())}var ys=class e{constructor(){this.state=F(ne);this.expandedCompanyIds=R(new Set);this.selectedClient=V(()=>{let n=this.state.filterCollaboratorId();if(!n)return null;let t=this.state.systemUsers().find(i=>i.id===n);return t?this.state.clients().find(i=>i.id===t.clientId):null});this.companyReports=V(()=>{let n=this.selectedClient();return(n?[n]:this.state.clients()).map(i=>{let o=this.state.systemUsers().filter(c=>c.clientId===i.id&&c.role!=="ADMIN").map(c=>({id:c.id,name:c.name,department:c.department||"Generale",checksCompleted:Math.floor(Math.random()*15),checksTotal:14,lastActivity:this.getRandomTime()})),r=o.reduce((c,f)=>c+f.checksTotal,0),s=o.reduce((c,f)=>c+f.checksCompleted,0);return{client:i,users:o,totalChecks:r,completedChecks:s}})})}isCompanyExpanded(n){return this.expandedCompanyIds().has(n)}toggleCompany(n){this.expandedCompanyIds.update(t=>{let i=new Set(t);return i.has(n)?i.delete(n):i.add(n),i})}getRandomTime(){return`${Math.floor(Math.random()*12)+1}h fa`}printReport(n){let t=this.generatePrintHTML(n),i=window.open("","_blank");i&&(i.document.write(t),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250))}generatePrintHTML(n){let t=new Date(this.state.filterDate()).toLocaleDateString("it-IT",{day:"2-digit",month:"long",year:"numeric"});return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="UTF-8">
        <title>Report Controlli - ${n.client.name}</title>
        <style>
          @page { size: A4; margin: 2cm; }
          body { font-family: Arial, sans-serif; color: #1e293b; line-height: 1.6; }
          .header { border-bottom: 3px solid #3b82f6; padding-bottom: 20px; margin-bottom: 30px; }
          .logo { font-size: 32px; font-weight: bold; color: #3b82f6; margin-bottom: 10px; }
          .company-name { font-size: 24px; font-weight: bold; margin: 20px 0 10px; }
          .meta { color: #64748b; font-size: 14px; margin-bottom: 5px; }
          table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          th { background: #f1f5f9; padding: 12px; text-align: left; font-weight: bold; border-bottom: 2px solid #cbd5e1; }
          td { padding: 10px 12px; border-bottom: 1px solid #e2e8f0; }
          .progress { display: inline-block; width: 100px; height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; vertical-align: middle; }
          .progress-bar { height: 100%; background: #10b981; }
          .progress-bar.incomplete { background: #f59e0b; }
          .signature-area { margin-top: 60px; border-top: 2px solid #e2e8f0; padding-top: 30px; }
          .signature-line { border-top: 1px solid #000; width: 300px; margin-top: 40px; padding-top: 5px; }
          .footer { margin-top: 40px; text-align: center; color: #94a3b8; font-size: 12px; }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">\u{1F6E1}\uFE0F HACCP Pro</div>
          <div style="color: #64748b; font-size: 14px;">Sistema di Gestione Controlli Igienico-Sanitari</div>
        </div>

        <h1 class="company-name">${n.client.name}</h1>
        <div class="meta">P.IVA: ${n.client.piva}</div>
        <div class="meta">Indirizzo: ${n.client.address}</div>
        <div class="meta">Data Report: ${t}</div>

        <h2 style="margin-top: 30px; color: #3b82f6;">Riepilogo Controlli Giornalieri</h2>
        
        <table>
          <thead>
            <tr>
              <th>Operatore</th>
              <th>Reparto</th>
              <th>Controlli</th>
              <th>Completamento</th>
            </tr>
          </thead>
          <tbody>
            ${n.users.map(i=>{let o=i.checksCompleted/i.checksTotal*100,r=o===100;return`
                <tr>
                  <td><strong>${i.name}</strong></td>
                  <td>${i.department}</td>
                  <td>${i.checksCompleted} / ${i.checksTotal}</td>
                  <td>
                    <div class="progress">
                      <div class="progress-bar ${r?"":"incomplete"}" style="width: ${o}%"></div>
                    </div>
                    ${o.toFixed(0)}%
                  </td>
                </tr>
              `}).join("")}
          </tbody>
        </table>

        <div style="margin-top: 30px; padding: 15px; background: #f8fafc; border-left: 4px solid #3b82f6;">
          <strong>Totale Controlli Completati:</strong> ${n.completedChecks} su ${n.totalChecks} 
          (${(n.completedChecks/n.totalChecks*100||0).toFixed(1)}%)
        </div>

        <div class="signature-area">
          <p><strong>Firma del Responsabile HACCP:</strong></p>
          <div class="signature-line">
            <div style="text-align: center; font-size: 12px; color: #64748b;">Firma e Timbro</div>
          </div>
        </div>

        <div class="footer">
          <p>Documento generato automaticamente da HACCP Pro - ${new Date().toLocaleString("it-IT")}</p>
          <p>Questo documento costituisce attestazione dei controlli effettuati secondo il piano HACCP aziendale</p>
        </div>
      </body>
      </html>
    `}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-reports-view"]],decls:17,vars:2,consts:[[1,"space-y-6","pb-10"],[1,"bg-gradient-to-r","from-slate-900","via-slate-800","to-slate-900","p-8","rounded-3xl","shadow-xl","border","border-slate-700/50","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-file-contract","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-gradient-to-br","from-blue-500","to-indigo-600","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/20"],[1,"fa-solid","fa-clipboard-list"],[1,"text-indigo-200","text-sm","mt-2","font-medium","ml-1"],[1,"space-y-4"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden","transition-all","hover:shadow-md",3,"ring-2","ring-blue-100"],[1,"bg-white","rounded-2xl","p-12","text-center","border-2","border-dashed","border-slate-200"],["id","print-template",1,"hidden"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden","transition-all","hover:shadow-md"],[1,"relative","bg-white","px-6","py-5","cursor-pointer","select-none","transition-colors","hover:bg-slate-50","border-l-4",3,"click"],[1,"absolute","top-0","left-0","right-0","bg-red-500","text-white","px-4","py-1","text-xs","font-bold","text-center"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4"],[1,"flex","items-center","gap-4","flex-1"],[1,"w-14","h-14","rounded-xl","bg-slate-50","border","border-slate-100","flex","items-center","justify-center","text-slate-600","shadow-sm"],[1,"fa-solid","fa-building","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-xl","text-slate-800","flex","items-center","gap-3"],[1,"text-xs","bg-slate-100","text-slate-500","px-2","py-0.5","rounded-md","font-mono"],[1,"flex","items-center","gap-4","mt-2"],[1,"flex-1","max-w-xs"],[1,"flex","justify-between","text-xs","mb-1"],[1,"text-slate-500","font-medium"],[1,"font-bold"],[1,"h-2","bg-slate-100","rounded-full","overflow-hidden"],[1,"h-full","transition-all","duration-500","rounded-full"],[1,"text-sm","text-slate-600"],[1,"font-bold","text-emerald-600"],[1,"w-8","h-8","flex","items-center","justify-center","text-slate-400","transition-transform","duration-300"],[1,"fa-solid","fa-chevron-down"],[3,"click"],[1,"px-4","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","text-sm","font-bold","transition-all","flex","items-center","gap-2","shadow-lg","shadow-blue-200",3,"click"],[1,"fa-solid","fa-print"],[1,"border-t","border-slate-100","bg-slate-50/50","p-6","animate-slide-down"],[1,"text-center","py-8","text-slate-400"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],[1,"fa-solid","fa-users-slash","text-4xl","mb-2"],[1,"font-medium"],[1,"bg-white","rounded-xl","p-4","border","border-slate-200","hover:border-blue-200","hover:shadow-md","transition-all"],[1,"flex","items-center","justify-between","mb-3"],[1,"font-bold","text-slate-800"],[1,"text-xs","text-slate-500"],[1,"text-right"],[1,"text-2xl","font-black"],[1,"text-[10px]","text-slate-400","font-bold","uppercase"],[1,"h-1.5","bg-slate-100","rounded-full","overflow-hidden"],[1,"h-full","transition-all"],[1,"mt-3","pt-3","border-t","border-slate-100","flex","justify-between","items-center","text-xs"],[1,"text-slate-400"],[1,"font-medium","text-slate-600"],[1,"fa-solid","fa-folder-open","text-6xl","text-slate-200","mb-4"],[1,"text-slate-400","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Report Controlli Giornalieri "),m(),p(9,"p",8),C(10,Qb,2,5)(11,Kb,2,4),m()()(),p(12,"div",9),L(13,ix,33,34,"div",10,Zb),C(15,ox,4,0,"div",11),m(),x(16,"div",12),m()),t&2&&(u(10),E(i.selectedClient()?10:11),u(3),j(i.companyReports()),u(2),E(i.companyReports().length===0?15:-1))},dependencies:[U,Ld,pe],styles:["@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out forwards}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}#print-template[_ngcontent-%COMP%], #print-template[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible}#print-template[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%}}"]})}};var Ym=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(Y(sn),Y($t))};static \u0275dir=Me({type:e})}return e})(),Si=(()=>{class e extends Ym{static \u0275fac=(()=>{let t;return function(o){return(t||(t=rn(e)))(o||e)}})();static \u0275dir=Me({type:e,features:[Fe]})}return e})(),un=new Q(""),rx={provide:un,useExisting:ze(()=>Xd),multi:!0},Xd=(()=>{class e extends Si{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=rn(e)))(o||e)}})();static \u0275dir=Me({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&T("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[yt([rx]),Fe]})}return e})(),sx={provide:un,useExisting:ze(()=>Ye),multi:!0};function ax(){let e=ln()?ln().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var lx=new Q(""),Ye=(()=>{class e extends Ym{_compositionMode;_composing=!1;constructor(t,i,o){super(t,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!ax())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(Y(sn),Y($t),Y(lx,8))};static \u0275dir=Me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&T("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[yt([sx]),Fe]})}return e})();function ec(e){return e==null||tc(e)===0}function tc(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var nc=new Q(""),ic=new Q(""),dx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,te=class{static min(n){return cx(n)}static max(n){return ux(n)}static required(n){return fx(n)}static requiredTrue(n){return px(n)}static email(n){return mx(n)}static minLength(n){return hx(n)}static maxLength(n){return gx(n)}static pattern(n){return vx(n)}static nullValidator(n){return Qm()}static compose(n){return nh(n)}static composeAsync(n){return oh(n)}};function cx(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function ux(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function fx(e){return ec(e.value)?{required:!0}:null}function px(e){return e.value===!0?null:{required:!0}}function mx(e){return ec(e.value)||dx.test(e.value)?null:{email:!0}}function hx(e){return n=>{let t=n.value?.length??tc(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function gx(e){return n=>{let t=n.value?.length??tc(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function vx(e){if(!e)return Qm;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(ec(i.value))return null;let o=i.value;return n.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function Qm(e){return null}function Km(e){return e!=null}function Jm(e){return bi(e)?xa(e):e}function Xm(e){let n={};return e.forEach(t=>{n=t!=null?A(A({},n),t):n}),Object.keys(n).length===0?null:n}function eh(e,n){return n.map(t=>t(e))}function yx(e){return!e.validate}function th(e){return e.map(n=>yx(n)?n:t=>n.validate(t))}function nh(e){if(!e)return null;let n=e.filter(Km);return n.length==0?null:function(t){return Xm(eh(t,n))}}function ih(e){return e!=null?nh(th(e)):null}function oh(e){if(!e)return null;let n=e.filter(Km);return n.length==0?null:function(t){let i=eh(t,n).map(Jm);return _a(i).pipe(_n(Xm))}}function rh(e){return e!=null?oh(th(e)):null}function Bm(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function sh(e){return e._rawValidators}function ah(e){return e._rawAsyncValidators}function Zd(e){return e?Array.isArray(e)?e:[e]:[]}function xs(e,n){return Array.isArray(e)?e.includes(n):e===n}function Hm(e,n){let t=Zd(n);return Zd(e).forEach(o=>{xs(t,o)||t.push(o)}),t}function Um(e,n){return Zd(n).filter(t=>!xs(e,t))}var _s=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ih(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=rh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Gn=class extends _s{name;get formDirective(){return null}get path(){return null}},dn=class extends _s{_parent=null;name=null;valueAccessor=null},Cs=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Pe=(()=>{class e extends Cs{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(Y(dn,2))};static \u0275dir=Me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&I("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Fe]})}return e})(),fn=(()=>{class e extends Cs{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(Y(Gn,10))};static \u0275dir=Me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&I("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Fe]})}return e})();var Co="VALID",bs="INVALID",wi="PENDING",Eo="DISABLED",cn=class{},Es=class extends cn{value;source;constructor(n,t){super(),this.value=n,this.source=t}},wo=class extends cn{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Do=class extends cn{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Di=class extends cn{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Yd=class extends cn{source;constructor(n){super(),this.source=n}},So=class extends cn{source;constructor(n){super(),this.source=n}};function oc(e){return(Ss(e)?e.validators:e)||null}function bx(e){return Array.isArray(e)?ih(e):e||null}function rc(e,n){return(Ss(n)?n.asyncValidators:e)||null}function xx(e){return Array.isArray(e)?rh(e):e||null}function Ss(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function lh(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new H(1e3,"");if(!i[t])throw new H(1001,"")}function dh(e,n,t){e._forEachChild((i,o)=>{if(t[o]===void 0)throw new H(1002,"")})}var Ii=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return mt(this.statusReactive)}set status(n){mt(()=>this.statusReactive.set(n))}_status=V(()=>this.statusReactive());statusReactive=R(void 0);get valid(){return this.status===Co}get invalid(){return this.status===bs}get pending(){return this.status==wi}get disabled(){return this.status===Eo}get enabled(){return this.status!==Eo}errors;get pristine(){return mt(this.pristineReactive)}set pristine(n){mt(()=>this.pristineReactive.set(n))}_pristine=V(()=>this.pristineReactive());pristineReactive=R(!0);get dirty(){return!this.pristine}get touched(){return mt(this.touchedReactive)}set touched(n){mt(()=>this.touchedReactive.set(n))}_touched=V(()=>this.touchedReactive());touchedReactive=R(!1);get untouched(){return!this.touched}_events=new _t;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Hm(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Hm(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Um(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Um(n,this._rawAsyncValidators))}hasValidator(n){return xs(this._rawValidators,n)}hasAsyncValidator(n){return xs(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(N(A({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Do(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new Do(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(N(A({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new wo(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new wo(!0,i))}markAsPending(n={}){this.status=wi;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Di(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(N(A({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Eo,this.errors=null,this._forEachChild(o=>{o.disable(N(A({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Es(this.value,i)),this._events.next(new Di(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(A({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Co,this._forEachChild(i=>{i.enable(N(A({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(N(A({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Co||this.status===wi)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Es(this.value,t)),this._events.next(new Di(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(N(A({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eo:Co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let i=Jm(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Di(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Eo:this.errors?bs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(bs)?bs:Co}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new wo(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Do(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ss(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=bx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=xx(this._rawAsyncValidators)}},ws=class extends Ii{constructor(n,t,i){super(oc(t),rc(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){dh(this,!0,n),Object.keys(n).forEach(i=>{lh(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,o)=>{i.reset(n?n[o]:null,N(A({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new So(this))}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,o)=>((i.enabled||this.disabled)&&(t[o]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((o,r)=>{i=t(i,o,r)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Qd=class extends ws{};var Mo=new Q("",{factory:()=>To}),To="always";function ch(e,n){return[...n.path,e]}function Kd(e,n,t=To){sc(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),Cx(e,n),wx(e,n),Ex(e,n),_x(e,n)}function $m(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Is(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ds(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _x(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function sc(e,n){let t=sh(e);n.validator!==null?e.setValidators(Bm(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=ah(e);n.asyncValidator!==null?e.setAsyncValidators(Bm(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let o=()=>e.updateValueAndValidity();Ds(n._rawValidators,o),Ds(n._rawAsyncValidators,o)}function Is(e,n){let t=!1;if(e!==null){if(n.validator!==null){let o=sh(e);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==n.validator);r.length!==o.length&&(t=!0,e.setValidators(r))}}if(n.asyncValidator!==null){let o=ah(e);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==n.asyncValidator);r.length!==o.length&&(t=!0,e.setAsyncValidators(r))}}}let i=()=>{};return Ds(n._rawValidators,i),Ds(n._rawAsyncValidators,i),t}function Cx(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&uh(e,n)})}function Ex(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&uh(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function uh(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function wx(e,n){let t=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Dx(e,n){e==null,sc(e,n)}function Ix(e,n){return Is(e,n)}function fh(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function Sx(e){return Object.getPrototypeOf(e.constructor)===Si}function Mx(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ph(e,n){if(!n)return null;Array.isArray(n);let t,i,o;return n.forEach(r=>{r.constructor===Ye?t=r:Sx(r)?i=r:o=r}),o||i||t||null}function Tx(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function zm(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Gm(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Io=class extends Ii{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(oc(t),rc(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ss(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Gm(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new So(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){zm(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){zm(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Gm(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Ax=e=>e instanceof Io;var kx={provide:dn,useExisting:ze(()=>xt)},Wm=Promise.resolve(),xt=(()=>{class e extends dn{_changeDetectorRef;callSetDisabledState;control=new Io;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Be;constructor(t,i,o,r,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ph(this,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fh(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Wm.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,o=i!==0&&fm(i);Wm.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ch(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(Y(Gn,9),Y(nc,10),Y(ic,10),Y(un,10),Y(os,8),Y(Mo,8))};static \u0275dir=Me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yt([kx]),Fe,yi]})}return e})();var pn=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),Nx={provide:un,useExisting:ze(()=>ac),multi:!0},ac=(()=>{class e extends Si{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=rn(e)))(o||e)}})();static \u0275dir=Me({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&T("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[yt([Nx]),Fe]})}return e})(),Rx={provide:un,useExisting:ze(()=>lc),multi:!0};var Fx=(()=>{class e{_accessors=[];add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lc=(()=>{class e extends Si{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=F(Mo,{optional:!0})??To;constructor(t,i,o,r){super(t,i),this._registry=o,this._injector=r}ngOnInit(){this._control=this._injector.get(dn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||e)(Y(sn),Y($t),Y(Fx),Y(lt))};static \u0275dir=Me({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&T("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[yt([Rx]),Fe]})}return e})();var Jd=class extends Ii{constructor(n,t,i){super(oc(t),rc(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){Array.isArray(n)?n.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){dh(this,!1,n),n.forEach((i,o)=>{lh(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,o)=>{i.reset(n[o],N(A({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new So(this))}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};var Ox=(()=>{class e extends Gn{callSetDisabledState;get submitted(){return mt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=V(()=>this._submittedReactive());_submittedReactive=R(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,i,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Is(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Kd(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){$m(t.control||null,t,!1),Tx(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,i){this.form.get(t.path).setValue(i)}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,Mx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Yd(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,o=this.form.get(t.path);i!==o&&($m(i||null,t),Ax(o)&&(Kd(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Dx(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Ix(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sc(this.form,this),this._oldForm&&Is(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||e)(Y(nc,10),Y(ic,10),Y(Mo,8))};static \u0275dir=Me({type:e,features:[Fe,yi]})}return e})();var mh=new Q("");var Px={provide:dn,useExisting:ze(()=>Wt)},Wt=(()=>{class e extends dn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,o,r,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ph(this,r)}ngOnChanges(t){this._added||this._setUpControl(),fh(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ch(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(Y(Gn,13),Y(nc,10),Y(ic,10),Y(un,10),Y(mh,8))};static \u0275dir=Me({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[yt([Px]),Fe,yi]})}return e})();var Vx={provide:Gn,useExisting:ze(()=>qt)},qt=(()=>{class e extends Ox{form=null;ngSubmit=new Be;get control(){return this.form}static \u0275fac=(()=>{let t;return function(o){return(t||(t=rn(e)))(o||e)}})();static \u0275dir=Me({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&T("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yt([Vx]),Fe]})}return e})(),Lx={provide:un,useExisting:ze(()=>rt),multi:!0};function hh(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function jx(e){return e.split(":")[0]}var rt=(()=>{class e extends Si{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=F(xi).injector;destroyRef=F(on);cdr=F(os);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,dd({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),o=hh(i,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=jx(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=rn(e)))(o||e)}})();static \u0275dir=Me({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&T("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yt([Lx]),Fe]})}return e})(),Ft=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(hh(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||e)(Y($t),Y(sn),Y(rt,9))};static \u0275dir=Me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Bx={provide:un,useExisting:ze(()=>gh),multi:!0};function qm(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function Hx(e){return e.split(":")[0]}var gh=(()=>{class e extends Si{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let o=t.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let o=[],r=i.selectedOptions;if(r!==void 0){let s=r;for(let c=0;c<s.length;c++){let f=s[c],h=this._getOptionValue(f.value);o.push(h)}}else{let s=i.options;for(let c=0;c<s.length;c++){let f=s[c];if(f.selected){let h=this._getOptionValue(f.value);o.push(h)}}}this.value=o,t(o)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Hx(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=rn(e)))(o||e)}})();static \u0275dir=Me({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&T("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yt([Bx]),Fe]})}return e})(),Ot=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(qm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(qm(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(Y($t),Y(sn),Y(gh,9))};static \u0275dir=Me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var vh=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=an({type:e});static \u0275inj=Lt({})}return e})();function Zm(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var mn=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let o=this._reduceControls(t),r={};return Zm(i)?r=i:i!==null&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new ws(o,r)}record(t,i=null){let o=this._reduceControls(t);return new Qd(o,i)}control(t,i,o){let r={};return this.useNonNullable?(Zm(i)?r=i:(r.validators=i,r.asyncValidators=o),new Io(t,N(A({},r),{nonNullable:!0}))):new Io(t,i,o)}array(t,i,o){let r=t.map(s=>this._createControl(s));return new Jd(r,i,o)}_reduceControls(t){let i={};return Object.keys(t).forEach(o=>{i[o]=this._createControl(t[o])}),i}_createControl(t){if(t instanceof Io)return t;if(t instanceof Ii)return t;if(Array.isArray(t)){let i=t[0],o=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(i,o,r)}else return this.control(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Mo,useValue:t.callSetDisabledState??To}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=an({type:e});static \u0275inj=Lt({imports:[vh]})}return e})(),hn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:mh,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Mo,useValue:t.callSetDisabledState??To}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=an({type:e});static \u0275inj=Lt({imports:[vh]})}return e})();var dc=(e,n)=>n.id;function Ux(e,n){if(e&1&&(d(0,"option",14),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function $x(e,n){e&1&&y(0,"i",62)}function zx(e,n){e&1&&y(0,"i",63)}function Gx(e,n){e&1&&(d(0,"span",67),a(1," Fatto "),l())}function Wx(e,n){e&1&&(d(0,"span",68),a(1," Da Fare "),l())}function qx(e,n){if(e&1&&(d(0,"div",59)(1,"div",60)(2,"div",61),C(3,$x,1,0,"i",62)(4,zx,1,0,"i",63),l(),d(5,"div",64)(6,"p",65),a(7),l(),d(8,"p",66),a(9),l()(),C(10,Gx,2,0,"span",67)(11,Wx,2,0,"span",68),l()()),e&2){let t=n.$implicit,i=v(3);I("border-emerald-200",t.completed)("bg-emerald-50/30",t.completed)("border-slate-200",!t.completed)("hover:border-slate-300",!t.completed),u(2),I("bg-emerald-500",t.completed)("text-white",t.completed)("bg-slate-200",!t.completed)("text-slate-400",!t.completed),u(),E(t.completed?3:4),u(3),I("text-slate-800",!t.completed)("text-emerald-700",t.completed),u(),M(" ",t.label," "),u(2),M(" Modulo: ",i.getModuleName(t.moduleId)," "),u(),E(t.completed?10:11)}}function Zx(e,n){if(e&1&&(d(0,"div",56)(1,"div",57),L(2,qx,12,24,"div",58,dc),l()()),e&2){let t=v().$implicit;u(2),j(t.items)}}function Yx(e,n){if(e&1){let t=P();d(0,"div",41)(1,"div",42),T("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCategory(o.id))}),d(2,"div",43)(3,"div",44)(4,"div",45),y(5,"i"),l(),d(6,"div",46)(7,"h3",47),a(8),d(9,"span",48),a(10),l()(),d(11,"div",49)(12,"div",50)(13,"div",51),y(14,"div",52),l()(),d(15,"span",53),a(16),l()()(),d(17,"div",54),y(18,"i",55),l()()()(),C(19,Zx,4,0,"div",56),l()}if(e&2){let t=n.$implicit,i=v(),o=i.isCategoryExpanded(t.id),r=i.getCategoryCompletedCount(t),s=t.items.length,c=s>0?r/s*100:0;Ne("--category-color",t.color),I("ring-2",o)("ring-offset-2",o),u(),Ne("border-left-color",t.color),u(3),Ne("background",t.color),u(),Ae("fa-solid "+t.icon),u(3),M(" ",t.name," "),u(2),M(" ",s," controlli "),u(4),Ne("background",t.color)("width",c,"%"),u(),Ne("color",t.color),u(),ie(" ",r,"/",s," "),u(),I("rotate-180",o),u(2),E(o?19:-1)}}var Ms=class e{constructor(){this.state=F(ne);this.expandedCategoryIds=R(new Set);this.selectedCompanyId=R("");this.selectedClient=V(()=>{let n=this.selectedCompanyId();if(n)return this.state.clients().find(o=>o.id===n)||null;let t=this.state.filterCollaboratorId();if(!t)return null;let i=this.state.systemUsers().find(o=>o.id===t);return i?this.state.clients().find(o=>o.id===i.clientId):null});this.categories=V(()=>[{id:"pre-operative",name:"Fase Pre-Operativa",icon:"fa-eye",color:"#3b82f6",items:[{id:"pre-1",label:"Ispezione visiva degli ambienti di lavoro",moduleId:"operational-checklist",completed:!0},{id:"pre-2",label:"Verifica integrit\xE0 delle attrezzature",moduleId:"operational-checklist",completed:!0},{id:"pre-3",label:"Verifica pulizia superfici prima dell'uso",moduleId:"operational-checklist",completed:!1}]},{id:"operative",name:"Fase Operativa",icon:"fa-fire-burner",color:"#f59e0b",items:[{id:"op-1",label:"Controllo temperature (Valori positivi)",moduleId:"operational-checklist",completed:!0},{id:"op-2",label:"Controllo temperature (Valori negativi)",moduleId:"operational-checklist",completed:!1},{id:"op-3",label:"Evitare contaminazioni crociate",moduleId:"operational-checklist",completed:!1},{id:"op-4",label:"Compilazione schede monitoraggio produzione",moduleId:"operational-checklist",completed:!1}]},{id:"post-operative",name:"Fase Post-Operativa",icon:"fa-broom",color:"#10b981",items:[{id:"post-1",label:"Pulizia e disinfezione ambienti di lavoro",moduleId:"operational-checklist",completed:!0},{id:"post-2",label:"Sanificazione attrezzature utilizzate",moduleId:"operational-checklist",completed:!0},{id:"post-3",label:"Adeguata conservazione prodotti finiti",moduleId:"operational-checklist",completed:!0},{id:"post-4",label:"Stoccaggio semilavorati e materie prime",moduleId:"operational-checklist",completed:!1}]},{id:"temperatures",name:"Controllo Temperature",icon:"fa-temperature-half",color:"#06b6d4",items:[{id:"temp-1",label:"Temperature Frigoriferi +4\xB0C - +8\xB0C",moduleId:"temperatures",completed:!0},{id:"temp-2",label:"Temperature Congelatori -18\xB0C \u2013 -24\xB0C",moduleId:"temperatures",completed:!0}]},{id:"hygiene",name:"Igiene Personale",icon:"fa-hands-bubbles",color:"#8b5cf6",items:[{id:"hyg-1",label:"Controllo divise e DPI",moduleId:"staff-hygiene",completed:!1},{id:"hyg-2",label:"Verifica igiene mani",moduleId:"staff-hygiene",completed:!0},{id:"hyg-3",label:"Controllo stato di salute operatori",moduleId:"staff-hygiene",completed:!1}]},{id:"traceability",name:"Rintracciabilit\xE0 Alimenti",icon:"fa-barcode",color:"#ec4899",items:[{id:"trace-1",label:"Registrazione lotti in ingresso",moduleId:"traceability",completed:!0},{id:"trace-2",label:"Etichettatura prodotti preparati",moduleId:"traceability",completed:!1},{id:"trace-3",label:"Verifica scadenze materie prime",moduleId:"traceability",completed:!0}]}]);this.totalChecks=V(()=>this.categories().reduce((n,t)=>n+t.items.length,0));this.completedChecks=V(()=>this.categories().reduce((n,t)=>n+t.items.filter(i=>i.completed).length,0));this.pendingChecks=V(()=>this.totalChecks()-this.completedChecks());this.completionRate=V(()=>{let n=this.totalChecks();return n===0?0:Math.round(this.completedChecks()/n*100)})}isCategoryExpanded(n){return this.expandedCategoryIds().has(n)}toggleCategory(n){this.expandedCategoryIds.update(t=>{let i=new Set(t);return i.has(n)?i.delete(n):i.add(n),i})}getCategoryCompletedCount(n){return n.items.filter(t=>t.completed).length}getModuleName(n){return{"operational-checklist":"Checklist Operativa",temperatures:"Temperature","staff-hygiene":"Igiene Personale",traceability:"Rintracciabilit\xE0","cleaning-maintenance":"Pulizia/Manutenzione","pest-control":"Controllo Infestanti"}[n]||n}printCompleteList(){let n=this.selectedClient();if(!n)return;let t=this.generatePrintHTML(n),i=window.open("","_blank");i&&(i.document.write(t),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250))}generatePrintHTML(n){let t=new Date(this.state.filterDate()).toLocaleDateString("it-IT",{day:"2-digit",month:"long",year:"numeric"}),i=this.categories(),o=this.totalChecks(),r=this.completedChecks(),s=this.completionRate();return`
            <!DOCTYPE html>
            <html>
            <head>
                <meta charset="UTF-8">
                <title>Lista Controlli Completa - ${n.name}</title>
                <style>
                    @page { size: A4; margin: 2cm; }
                    body { font-family: Arial, sans-serif; color: #1e293b; line-height: 1.6; }
                    .header { border-bottom: 3px solid #10b981; padding-bottom: 20px; margin-bottom: 30px; }
                    .logo { font-size: 32px; font-weight: bold; color: #10b981; margin-bottom: 10px; }
                    .company-name { font-size: 24px; font-weight: bold; margin: 20px 0 10px; }
                    .meta { color: #64748b; font-size: 14px; margin-bottom: 5px; }
                    .summary-box { background: #f1f5f9; padding: 15px; border-left: 4px solid #10b981; margin: 20px 0; }
                    .category { margin: 30px 0; page-break-inside: avoid; }
                    .category-header { background: #f8fafc; padding: 12px; border-left: 4px solid; font-weight: bold; font-size: 18px; margin-bottom: 15px; }
                    .check-item { padding: 10px; border-bottom: 1px solid #e2e8f0; display: flex; align-items: center; gap: 10px; }
                    .check-icon { width: 20px; height: 20px; border-radius: 50%; display: inline-flex; align-items: center; justify-center; font-size: 12px; }
                    .check-icon.done { background: #10b981; color: white; }
                    .check-icon.pending { background: #f59e0b; color: white; }
                    .check-label { flex: 1; }
                    .check-status { font-size: 11px; font-weight: bold; text-transform: uppercase; padding: 3px 8px; border-radius: 4px; }
                    .check-status.done { background: #d1fae5; color: #065f46; }
                    .check-status.pending { background: #fed7aa; color: #92400e; }
                    .signature-area { margin-top: 60px; border-top: 2px solid #e2e8f0; padding-top: 30px; }
                    .signature-line { border-top: 1px solid #000; width: 300px; margin-top: 40px; padding-top: 5px; }
                    .footer { margin-top: 40px; text-align: center; color: #94a3b8; font-size: 12px; page-break-inside: avoid; }
                </style>
            </head>
            <body>
                <div class="header">
                    <div class="logo">\u{1F6E1}\uFE0F HACCP Pro</div>
                    <div style="color: #64748b; font-size: 14px;">Sistema di Gestione Controlli Igienico-Sanitari</div>
                </div>

                <h1 class="company-name">${n.name}</h1>
                <div class="meta">P.IVA: ${n.piva}</div>
                <div class="meta">Indirizzo: ${n.address}</div>
                <div class="meta">Data Report: ${t}</div>

                <div class="summary-box">
                    <strong>Riepilogo Generale:</strong> ${r} controlli completati su ${o} totali 
                    (${s}% di completamento)
                </div>

                <h2 style="margin-top: 30px; color: #10b981;">Lista Completa Controlli HACCP</h2>

                ${i.map(c=>{let f=this.getCategoryCompletedCount(c),h=c.items.length,g=h>0?Math.round(f/h*100):0;return`
                        <div class="category">
                            <div class="category-header" style="border-left-color: ${c.color}; color: ${c.color};">
                                ${c.name} (${f}/${h} - ${g}%)
                            </div>
                            ${c.items.map(b=>`
                                <div class="check-item">
                                    <div class="check-icon ${b.completed?"done":"pending"}">
                                        ${b.completed?"\u2713":"\u2212"}
                                    </div>
                                    <div class="check-label">${b.label}</div>
                                    <div class="check-status ${b.completed?"done":"pending"}">
                                        ${b.completed?"Fatto":"Da Fare"}
                                    </div>
                                </div>
                            `).join("")}
                        </div>
                    `}).join("")}

                <div class="signature-area">
                    <p><strong>Firma del Responsabile HACCP:</strong></p>
                    <div class="signature-line">
                        <div style="text-align: center; font-size: 12px; color: #64748b;">Firma e Timbro</div>
                    </div>
                </div>

                <div class="footer">
                    <p>Documento generato automaticamente da HACCP Pro - ${new Date().toLocaleString("it-IT")}</p>
                    <p>Lista completa dei controlli HACCP per ${n.name}</p>
                </div>
            </body>
            </html>
        `}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-general-checks-view"]],decls:65,vars:10,consts:[[1,"space-y-6","pb-10"],[1,"bg-gradient-to-r","from-slate-900","via-slate-800","to-slate-900","p-8","rounded-3xl","shadow-xl","border","border-slate-700/50","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-clipboard-list","text-9xl","text-white"],[1,"relative","z-10","flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","gap-6"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-gradient-to-br","from-emerald-500","to-teal-600","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/20"],[1,"fa-solid","fa-list-check"],[1,"text-indigo-200","text-sm","mt-2","font-medium","ml-1"],[1,"flex","items-center","gap-3"],[1,"bg-white/10","backdrop-blur-sm","px-4","py-3","rounded-xl","border","border-white/20"],[1,"text-xs","text-white/70","font-bold","uppercase","block","mb-2"],[1,"bg-white/20","text-white","border","border-white/30","rounded-lg","px-4","py-2","font-bold","focus:outline-none","focus:ring-2","focus:ring-white/50","min-w-[250px]",3,"ngModelChange","ngModel"],["value","",1,"bg-slate-800"],[1,"bg-slate-800",3,"value"],[1,"px-5","py-3","bg-white/10","hover:bg-white/20","text-white","border","border-white/30","rounded-xl","font-bold","transition-all","flex","items-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed","shadow-lg","backdrop-blur-sm",3,"click","disabled"],[1,"fa-solid","fa-print"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-xl","p-5","border","border-slate-200","shadow-sm"],[1,"flex","items-center","justify-between"],[1,"text-xs","text-slate-500","font-bold","uppercase"],[1,"text-3xl","font-black","text-slate-800","mt-1"],[1,"w-12","h-12","rounded-full","bg-slate-100","flex","items-center","justify-center"],[1,"fa-solid","fa-clipboard-list","text-slate-600","text-xl"],[1,"bg-white","rounded-xl","p-5","border","border-emerald-200","shadow-sm"],[1,"text-xs","text-emerald-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-emerald-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-emerald-100","flex","items-center","justify-center"],[1,"fa-solid","fa-circle-check","text-emerald-600","text-xl"],[1,"bg-white","rounded-xl","p-5","border","border-orange-200","shadow-sm"],[1,"text-xs","text-orange-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-orange-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-orange-100","flex","items-center","justify-center"],[1,"fa-solid","fa-clock","text-orange-600","text-xl"],[1,"bg-white","rounded-xl","p-5","border","border-blue-200","shadow-sm"],[1,"text-xs","text-blue-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-blue-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-blue-100","flex","items-center","justify-center"],[1,"fa-solid","fa-chart-pie","text-blue-600","text-xl"],[1,"space-y-4"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden","transition-all","hover:shadow-md",3,"ring-2","ring-offset-2","--category-color"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden","transition-all","hover:shadow-md"],[1,"relative","px-6","py-5","cursor-pointer","select-none","transition-colors","hover:bg-slate-50","border-l-4",3,"click"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4"],[1,"flex","items-center","gap-4","flex-1"],[1,"w-14","h-14","rounded-xl","flex","items-center","justify-center","shadow-sm","text-white","text-2xl"],[1,"flex-1"],[1,"font-bold","text-xl","text-slate-800","flex","items-center","gap-3"],[1,"text-xs","bg-slate-100","text-slate-500","px-2","py-0.5","rounded-md","font-mono"],[1,"flex","items-center","gap-4","mt-2"],[1,"flex-1","max-w-md"],[1,"h-2","bg-slate-100","rounded-full","overflow-hidden"],[1,"h-full","transition-all","duration-500","rounded-full"],[1,"text-sm","font-bold"],[1,"w-8","h-8","flex","items-center","justify-center","text-slate-400","transition-transform","duration-300"],[1,"fa-solid","fa-chevron-down"],[1,"border-t","border-slate-100","bg-slate-50/50","p-6","animate-slide-down"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-3"],[1,"bg-white","rounded-lg","p-4","border","transition-all",3,"border-emerald-200","bg-emerald-50/30","border-slate-200","hover:border-slate-300"],[1,"bg-white","rounded-lg","p-4","border","transition-all"],[1,"flex","items-start","gap-3"],[1,"flex-shrink-0","w-6","h-6","rounded-full","flex","items-center","justify-center","mt-0.5","transition-all"],[1,"fa-solid","fa-check","text-xs"],[1,"fa-solid","fa-minus","text-xs"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","leading-snug"],[1,"text-xs","text-slate-400","mt-1"],[1,"flex-shrink-0","text-[10px]","font-bold","uppercase","px-2","py-1","rounded","bg-emerald-100","text-emerald-700","border","border-emerald-200"],[1,"flex-shrink-0","text-[10px]","font-bold","uppercase","px-2","py-1","rounded","bg-orange-100","text-orange-700","border","border-orange-200"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"i",3),l(),d(4,"div",4)(5,"div")(6,"h2",5)(7,"span",6),y(8,"i",7),l(),a(9," Controlli Generali "),l(),d(10,"p",8),a(11),X(12,"date"),l()(),d(13,"div",9)(14,"div",10)(15,"label",11),a(16,"Filtra per Azienda"),l(),d(17,"select",12),T("ngModelChange",function(r){return i.selectedCompanyId.set(r)}),d(18,"option",13),a(19,"Tutte le Aziende"),l(),L(20,Ux,2,2,"option",14,dc),l()(),d(22,"button",15),T("click",function(){return i.printCompleteList()}),y(23,"i",16),a(24," Stampa Lista Completa "),l()()()(),d(25,"div",17)(26,"div",18)(27,"div",19)(28,"div")(29,"p",20),a(30,"Totale Controlli"),l(),d(31,"p",21),a(32),l()(),d(33,"div",22),y(34,"i",23),l()()(),d(35,"div",24)(36,"div",19)(37,"div")(38,"p",25),a(39,"Completati"),l(),d(40,"p",26),a(41),l()(),d(42,"div",27),y(43,"i",28),l()()(),d(44,"div",29)(45,"div",19)(46,"div")(47,"p",30),a(48,"Da Completare"),l(),d(49,"p",31),a(50),l()(),d(51,"div",32),y(52,"i",33),l()()(),d(53,"div",34)(54,"div",19)(55,"div")(56,"p",35),a(57,"Completamento"),l(),d(58,"p",36),a(59),l()(),d(60,"div",37),y(61,"i",38),l()()()(),d(62,"div",39),L(63,Yx,20,25,"div",40,dc),l()()),t&2&&(u(11),M(" Panoramica completa di tutti i controlli HACCP - Data: ",ee(12,7,i.state.filterDate(),"dd/MM/yyyy")," "),u(6),B("ngModel",i.selectedCompanyId()),u(3),j(i.state.clients()),u(2),B("disabled",!i.selectedCompanyId()),u(10),k(i.totalChecks()),u(9),k(i.completedChecks()),u(9),k(i.pendingChecks()),u(9),M("",i.completionRate(),"%"),u(4),j(i.categories()))},dependencies:[U,Pt,Ft,Ot,rt,Pe,xt,pe],styles:["@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out forwards}"]})}};var Qx=(e,n)=>n.id;function Kx(e,n){if(e&1){let t=P();d(0,"div",14)(1,"div",30),y(2,"i",31),d(3,"span",32),a(4,"Filtrato per: "),d(5,"strong"),a(6),l()()(),d(7,"button",33),T("click",function(){w(t);let o=v();return D(o.state.setCollaboratorFilter(""))}),a(8,"Rimuovi Filtro"),l()()}if(e&2){let t=v();u(6),k(t.getFilterName())}}function Jx(e,n){if(e&1&&(d(0,"tr",22)(1,"td",34),a(2),l(),d(3,"td",35)(4,"div",30)(5,"div",36),a(6),l(),a(7),l()(),d(8,"td",19),a(9),l(),d(10,"td",19)(11,"span"),a(12),l()(),d(13,"td",20)(14,"button",37),y(15,"i",38),l(),d(16,"button",39),y(17,"i",40),l()()()),e&2){let t=n.$implicit,i=v();u(2),k(t.date),u(4),M(" ",i.getInitials(t.operator)," "),u(),M(" ",t.operator," "),u(2),k(t.detail),u(2),Ae(i.getStatusClass(t.status)),u(),M(" ",t.status," ")}}function Xx(e,n){e&1&&(d(0,"tr")(1,"td",41),y(2,"i",42),d(3,"p"),a(4,"Nessun record trovato per questo filtro."),l()()())}function e_(e,n){if(e&1){let t=P();d(0,"div",29)(1,"div",43),T("click",function(){w(t);let o=v();return D(o.closeModal())}),l(),d(2,"div",44)(3,"div",45)(4,"h3",46),a(5," Nuova Registrazione "),l(),d(6,"button",47),T("click",function(){w(t);let o=v();return D(o.closeModal())}),y(7,"i",48),l()(),d(8,"form",49),T("ngSubmit",function(){w(t);let o=v();return D(o.saveRecord())}),d(9,"div",50)(10,"label",51),a(11,"Data e Ora"),l(),y(12,"input",52),l(),d(13,"div",50)(14,"label",51),a(15,"Dettaglio / Note Operative"),l(),y(16,"textarea",53),l(),d(17,"div",50)(18,"label",51),a(19,"Esito Verifica"),l(),d(20,"select",54)(21,"option",55),a(22,"Conforme"),l(),d(23,"option",56),a(24,"Attenzione / Monitorare"),l(),d(25,"option",57),a(26,"Non Conforme"),l()()(),d(27,"div",58),y(28,"i",59),d(29,"div",60)(30,"p",61),a(31,"Operatore Registrato"),l(),d(32,"p",62),a(33),l()()(),d(34,"div",63)(35,"button",64),T("click",function(){w(t);let o=v();return D(o.closeModal())}),a(36," Annulla "),l(),d(37,"button",65),a(38," Salva Registrazione "),l()()()()()}if(e&2){let t,i=v();u(8),B("formGroup",i.recordForm),u(25),k((t=i.state.currentUser())==null?null:t.name),u(4),B("disabled",i.recordForm.invalid)}}var Ts=class e{constructor(){this.state=F(ne);this.fb=F(mn);this.moduleId=cm.required();this.items=R([]);this.isModalOpen=R(!1);this.moduleInfo=V(()=>this.state.menuItems.find(n=>n.id===this.moduleId()));this.filteredData=V(()=>{let n=this.items(),t=this.state.filterCollaboratorId();return t?n.filter(i=>i.operatorId===t):n});this.recordForm=this.fb.group({date:["",te.required],detail:["",te.required],status:["Conforme",te.required]}),ye(()=>{let n=this.moduleId();this.items.set(this.generateMockData(n))},{allowSignalWrites:!0})}generateMockData(n){let t=this.state.systemUsers();return Array.from({length:45},(o,r)=>{let s=t[Math.floor(Math.random()*t.length)],c=new Date;c.setDate(c.getDate()-Math.floor(Math.random()*30)),c.setHours(7+Math.floor(Math.random()*14),Math.floor(Math.random()*60));let f=c.getFullYear()+"-"+String(c.getMonth()+1).padStart(2,"0")+"-"+String(c.getDate()).padStart(2,"0")+" "+String(c.getHours()).padStart(2,"0")+":"+String(c.getMinutes()).padStart(2,"0"),h="Registrazione generica",g="Conforme";if(n.includes("temp")||n.includes("chiller")||n.includes("machine")){let b=["Cella Frigo #1","Cella Frigo #2","Freezer Pozzetto","Vetrina Bibite","Abbattitore Master"],S=b[Math.floor(Math.random()*b.length)],_=n.includes("chiller")?-(Math.random()*30+10).toFixed(1):(Math.random()*6+1).toFixed(1);h=`${S}: ${_}\xB0C`,(Math.abs(Number(_))<2||Math.abs(Number(_))>25)&&(g=Math.random()>.5?"Attenzione":"Conforme")}else if(n.includes("clean")||n.includes("hygiene")){let b=["Sanificazione Piani","Pulizia Pavimenti","Lavaggio Attrezzature","Igiene Mani","Sanificazione WC","Pulizia Cappa"];h=b[Math.floor(Math.random()*b.length)]}else if(n.includes("goods")){let b=["Global Foods Srl","Ortofrutta Express","Panificio Citt\xE0","Carni Scelte SpA"],S=["Farina 00","Pomodori Pelati","Mozzarella","Manzo Tagli","Verdure Miste"];h=`Arrivo: ${S[Math.floor(Math.random()*S.length)]} da ${b[Math.floor(Math.random()*b.length)]}`}else if(n.includes("pest"))h=`Controllo trappola #${Math.floor(Math.random()*10)+1}`,Math.random()>.9&&(g="Attenzione");else if(n.includes("training")){let b=["HACCP Base","Aggiornamento Allergeni","Sicurezza 81/08","Antincendio"];h=`Corso: ${b[Math.floor(Math.random()*b.length)]}`}else if(n.includes("suppliers")){let b=["Global Foods Srl","Ortofrutta Express","Panificio Citt\xE0","Carni Scelte SpA","Bevande & Co.","Carta e Igiene Srl"];h=`Anagrafica: ${b[r%b.length]||"Nuovo Fornitore"}`}else n.includes("compliance")&&(h=`Segnalazione #${1e3+r}`,g="Non Conforme");return g==="Conforme"&&Math.random()>.9&&(g="Attenzione"),{id:r+1,date:f,operator:s.name,operatorId:s.id,detail:h,status:g}}).sort((o,r)=>r.date.localeCompare(o.date))}getFilterName(){let n=this.state.filterCollaboratorId();return this.state.systemUsers().find(t=>t.id===n)?.name||"Sconosciuto"}getInitials(n){return n.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase()}getStatusClass(n){return n==="Conforme"?"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800":n==="Attenzione"?"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800":n==="Non Conforme"?"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800":"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800"}openModal(){let n=new Date,t=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0")+"T"+String(n.getHours()).padStart(2,"0")+":"+String(n.getMinutes()).padStart(2,"0");this.recordForm.reset({date:t,detail:"",status:"Conforme"}),this.isModalOpen.set(!0)}closeModal(){this.isModalOpen.set(!1)}saveRecord(){if(this.recordForm.valid){let n=this.recordForm.value,t=this.state.currentUser(),i={id:Date.now(),date:n.date.replace("T"," "),operator:t?.name||"Sconosciuto",operatorId:"CURRENT_USER_ID",detail:n.detail,status:n.status};this.items.update(o=>[i,...o]),this.closeModal()}}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-generic-module"]],inputs:{moduleId:[1,"moduleId"]},decls:51,vars:11,consts:[[1,"space-y-6","pb-10"],[1,"bg-gradient-to-r","from-slate-700","via-slate-600","to-slate-700","p-8","rounded-3xl","shadow-2xl","border","border-slate-600/20","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"relative","z-10","flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","gap-6"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-xs","font-bold","uppercase","tracking-wider","text-white/60","bg-white/10","px-3","py-1","rounded-lg","backdrop-blur-sm","border","border-white/20"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-sm","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"text-slate-200","text-sm","mt-2","font-medium","ml-1"],[1,"flex","gap-3"],[1,"px-5","py-3","bg-white/10","backdrop-blur-sm","border","border-white/30","text-white","rounded-xl","hover:bg-white/20","transition-all","shadow-lg","font-bold"],[1,"fa-solid","fa-download","mr-2"],[1,"px-5","py-3","bg-white","text-slate-700","rounded-xl","hover:bg-slate-50","transition-all","shadow-xl","font-bold",3,"click"],[1,"fa-solid","fa-plus","mr-2"],[1,"bg-blue-50","border","border-blue-100","text-blue-800","px-4","py-3","rounded-xl","flex","items-center","justify-between","animate-fade-in"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-100","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm","text-slate-600"],[1,"bg-slate-50","text-slate-700","uppercase","font-semibold","text-xs","border-b","border-slate-200"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"divide-y","divide-slate-100"],[1,"hover:bg-slate-50","transition-colors","animate-fade-in"],[1,"px-6","py-4","border-t","border-slate-100","flex","justify-between","items-center","text-xs","text-slate-500"],[1,"flex","gap-2"],[1,"p-1","px-2","rounded","hover:bg-slate-100","disabled:opacity-50"],[1,"fa-solid","fa-chevron-left"],[1,"p-1","px-2","rounded","hover:bg-slate-100"],[1,"fa-solid","fa-chevron-right"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4"],[1,"flex","items-center","gap-2"],[1,"fa-solid","fa-filter"],[1,"text-sm","font-medium"],[1,"text-xs","hover:underline",3,"click"],[1,"px-6","py-4","whitespace-nowrap","font-mono","text-xs"],[1,"px-6","py-4","font-medium","text-slate-800"],[1,"w-6","h-6","rounded-full","bg-slate-200","flex","items-center","justify-center","text-xs","font-bold","text-slate-500"],[1,"text-slate-400","hover:text-blue-600","mx-1"],[1,"fa-solid","fa-eye"],[1,"text-slate-400","hover:text-slate-600","mx-1"],[1,"fa-solid","fa-pen"],["colspan","5",1,"px-6","py-12","text-center","text-slate-400"],[1,"fa-solid","fa-folder-open","text-3xl","mb-3","opacity-50"],[1,"absolute","inset-0","bg-slate-900/40","backdrop-blur-sm","transition-opacity",3,"click"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-lg","overflow-hidden","animate-fade-in-up"],[1,"px-6","py-4","border-b","border-slate-100","flex","justify-between","items-center","bg-slate-50"],[1,"text-lg","font-bold","text-slate-800"],[1,"text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","fa-xmark","text-xl"],[1,"p-6","space-y-4",3,"ngSubmit","formGroup"],[1,"space-y-1"],[1,"text-sm","font-medium","text-slate-700"],["type","datetime-local","formControlName","date",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["formControlName","detail","rows","3","placeholder","Descrivi l'attivit\xE0 svolta...",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["formControlName","status",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","bg-white"],["value","Conforme"],["value","Attenzione"],["value","Non Conforme"],[1,"bg-blue-50","p-3","rounded-lg","flex","items-start","gap-3","mt-2"],[1,"fa-solid","fa-user-tag","text-blue-500","mt-1"],[1,"text-sm"],[1,"font-bold","text-blue-900"],[1,"text-blue-700"],[1,"pt-4","flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","text-slate-600","hover:bg-slate-100","rounded-lg","transition-colors","font-medium",3,"click"],["type","submit",1,"px-6","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","font-medium","shadow-md","shadow-blue-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"i"),l(),d(4,"div",3)(5,"div")(6,"div",4)(7,"span",5),a(8),l()(),d(9,"h2",6)(10,"span",7),y(11,"i"),l(),a(12),l(),d(13,"p",8),a(14," Gestione operativa e archivio digitale "),l()(),d(15,"div",9)(16,"button",10),y(17,"i",11),a(18," Export PDF "),l(),d(19,"button",12),T("click",function(){return i.openModal()}),y(20,"i",13),a(21," Nuovo Record "),l()()()(),C(22,Kx,9,1,"div",14),d(23,"div",15)(24,"div",16)(25,"table",17)(26,"thead",18)(27,"tr")(28,"th",19),a(29,"Data & Ora"),l(),d(30,"th",19),a(31,"Operatore"),l(),d(32,"th",19),a(33,"Dettagli / Oggetto"),l(),d(34,"th",19),a(35,"Stato"),l(),d(36,"th",20),a(37,"Azioni"),l()()(),d(38,"tbody",21),L(39,Jx,18,7,"tr",22,Qx,!1,Xx,5,0,"tr"),l()()(),d(42,"div",23)(43,"span"),a(44),l(),d(45,"div",24)(46,"button",25),y(47,"i",26),l(),d(48,"button",27),y(49,"i",28),l()()()(),C(50,e_,39,3,"div",29),l()),t&2){let o,r,s,c;u(3),Ae("fa-solid "+(((o=i.moduleInfo())==null?null:o.icon)||"fa-folder")+" text-9xl text-white"),u(5),M(" ",(r=i.moduleInfo())==null?null:r.category," "),u(3),Ae("fa-solid "+(((s=i.moduleInfo())==null?null:s.icon)||"fa-folder")+" text-white"),u(),M(" ",(c=i.moduleInfo())==null?null:c.label," "),u(10),E(i.state.filterCollaboratorId()?22:-1),u(17),j(i.filteredData()),u(5),ie("Visualizzazione ",i.filteredData().length," di ",i.items().length," record"),u(6),E(i.isModalOpen()?50:-1)}},dependencies:[U,hn,pn,Ft,Ot,Ye,rt,Pe,fn,qt,Wt],encapsulation:2})}};var t_=(e,n)=>n.id;function n_(e,n){if(e&1){let t=P();d(0,"div",10)(1,"div",11)(2,"button",12),T("click",function(){let o=w(t).$implicit,r=v(2);return D(r.openModal(o))}),y(3,"i",13),l()(),d(4,"div")(5,"div",14)(6,"div",15),a(7),l(),d(8,"div")(9,"h3",16),a(10),l(),d(11,"p",17),a(12),l()()(),d(13,"div",18)(14,"div",19),y(15,"i",20),d(16,"span"),a(17),l()(),d(18,"div",21),y(19,"i",22),d(20,"span"),a(21),l()(),d(22,"div",21),y(23,"i",23),d(24,"span"),a(25),l()()()(),d(26,"div",24)(27,"span",25),a(28,"Licenza: "),d(29,"span",26),a(30),l()(),d(31,"span",27),a(32,"Attivo"),l()()()}if(e&2){let t=n.$implicit;u(7),M(" ",t.name.substring(0,1)," "),u(3),k(t.name),u(2),M("P.IVA: ",t.piva),u(5),k(t.address),u(4),k(t.phone),u(4),k(t.email),u(5),k(t.licenseNumber||"N.D.")}}function i_(e,n){if(e&1){let t=P();d(0,"div",3)(1,"div")(2,"h2",4),y(3,"i",5),a(4," Gestione Anagrafiche Aziende "),l(),d(5,"p",6),a(6,"Crea e configura le aziende clienti per cui attivare i servizi."),l()(),d(7,"button",7),T("click",function(){w(t);let o=v();return D(o.openModal())}),y(8,"i",8),a(9," Nuova Azienda "),l()(),d(10,"div",9),L(11,n_,33,7,"div",10,t_),l()}if(e&2){let t=v();u(11),j(t.state.clients())}}function o_(e,n){if(e&1&&(d(0,"div",1)(1,"div",28)(2,"h2",29),y(3,"i",30),a(4,"Dati Aziendali"),l(),d(5,"p",31),a(6,"Riepilogo dati per intestazione reportistica."),l()(),d(7,"div",32)(8,"div",33)(9,"div",34),a(10),l(),d(11,"div")(12,"h1",35),a(13),l(),d(14,"p",25),a(15),l()()(),d(16,"div",36)(17,"div")(18,"h4",37),a(19,"Sede Operativa"),l(),d(20,"p",38),a(21),l()(),d(22,"div")(23,"h4",37),a(24,"Dati Fiscali"),l(),d(25,"p",38),a(26),l()(),d(27,"div")(28,"h4",37),a(29,"Contatti"),l(),d(30,"p",38),a(31),l(),d(32,"p",38),a(33),l()()(),d(34,"div",39),y(35,"i",40),d(36,"p"),a(37,"Questi dati sono gestiti dall'amministratore di sistema. Per modifiche anagrafiche, contattare la sede centrale."),l()()()()),e&2){let t=v();u(10),M(" ",t.state.companyConfig().name.substring(0,1)," "),u(3),k(t.state.companyConfig().name),u(2),M("Licenza HACCP: ",t.state.companyConfig().licenseNumber),u(6),k(t.state.companyConfig().address),u(5),M("P.IVA: ",t.state.companyConfig().piva),u(5),k(t.state.companyConfig().email),u(2),k(t.state.companyConfig().phone)}}function r_(e,n){if(e&1){let t=P();d(0,"div",2)(1,"div",41),T("click",function(){w(t);let o=v();return D(o.closeModal())}),l(),d(2,"div",42)(3,"div",43)(4,"h3",44),a(5),l(),d(6,"button",45),T("click",function(){w(t);let o=v();return D(o.closeModal())}),y(7,"i",46),l()(),d(8,"form",47),T("ngSubmit",function(){w(t);let o=v();return D(o.saveClient())}),d(9,"div",48)(10,"label",49),a(11,"Ragione Sociale"),l(),y(12,"input",50),l(),d(13,"div",51)(14,"div",48)(15,"label",49),a(16,"Partita IVA"),l(),y(17,"input",52),l(),d(18,"div",48)(19,"label",49),a(20,"Telefono"),l(),y(21,"input",53),l()(),d(22,"div",48)(23,"label",49),a(24,"Indirizzo Sede"),l(),y(25,"input",54),l(),d(26,"div",48)(27,"label",49),a(28,"Email Amministrazione"),l(),y(29,"input",55),l(),d(30,"div",48)(31,"label",49),a(32,"Nr. Licenza"),l(),y(33,"input",56),l(),d(34,"div",57)(35,"button",58),T("click",function(){w(t);let o=v();return D(o.closeModal())}),a(36,"Annulla"),l(),d(37,"button",59),a(38,"Salva Azienda"),l()()()()()}if(e&2){let t=v();u(5),M(" ",t.isEditing()?"Modifica Azienda":"Nuova Anagrafica Azienda"," "),u(3),B("formGroup",t.clientForm),u(29),B("disabled",t.clientForm.invalid)}}var As=class e{constructor(){this.state=F(ne);this.fb=F(mn);this.isModalOpen=R(!1);this.isEditing=R(!1);this.editingClientId=R(null);this.clientForm=this.fb.group({name:["",te.required],piva:["",te.required],address:["",te.required],phone:[""],email:["",[te.required,te.email]],licenseNumber:[""]})}openModal(n){n?(this.isEditing.set(!0),this.editingClientId.set(n.id),this.clientForm.patchValue(n)):(this.isEditing.set(!1),this.editingClientId.set(null),this.clientForm.reset()),this.isModalOpen.set(!0)}closeModal(){this.isModalOpen.set(!1)}saveClient(){this.clientForm.valid&&(this.isEditing()&&this.editingClientId()?this.state.updateClient(this.editingClientId(),this.clientForm.value):this.state.addClient(this.clientForm.value),this.closeModal())}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-settings-view"]],decls:4,vars:2,consts:[[1,"space-y-6"],[1,"max-w-4xl","mx-auto","bg-white","rounded-2xl","shadow-sm","border","border-slate-100","overflow-hidden"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-4","bg-white","p-6","rounded-2xl","shadow-sm","border","border-slate-100"],[1,"text-2xl","font-bold","text-slate-800","flex","items-center"],[1,"fa-solid","fa-building","mr-3","text-slate-600"],[1,"text-slate-500","text-sm","mt-1"],[1,"px-5","py-2.5","bg-slate-900","text-white","rounded-lg","hover:bg-slate-800","transition-colors","shadow-lg","shadow-slate-200","font-medium","flex","items-center",3,"click"],[1,"fa-solid","fa-plus","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-100","p-6","flex","flex-col","justify-between","group","hover:border-blue-200","transition-all","relative"],[1,"absolute","top-4","right-4"],[1,"text-slate-400","hover:text-blue-600","p-2","bg-slate-50","rounded-full","hover:bg-blue-50","transition-colors",3,"click"],[1,"fa-solid","fa-pen"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-12","h-12","rounded-xl","bg-blue-50","flex","items-center","justify-center","text-blue-600","text-xl","font-bold"],[1,"font-bold","text-slate-800","text-lg","leading-tight"],[1,"text-xs","text-slate-400","font-mono","mt-1"],[1,"space-y-2","text-sm","text-slate-600","mb-4"],[1,"flex","items-start","gap-2"],[1,"fa-solid","fa-location-dot","mt-1","text-slate-400"],[1,"flex","items-center","gap-2"],[1,"fa-solid","fa-phone","text-slate-400"],[1,"fa-solid","fa-envelope","text-slate-400"],[1,"pt-4","border-t","border-slate-50","flex","items-center","justify-between","text-xs","font-medium"],[1,"text-slate-500"],[1,"text-slate-800"],[1,"text-blue-600","bg-blue-50","px-2","py-1","rounded"],[1,"p-6","border-b","border-slate-100"],[1,"text-xl","font-bold","text-slate-800"],[1,"fa-solid","fa-building","mr-2","text-slate-500"],[1,"text-sm","text-slate-500","mt-1"],[1,"p-8"],[1,"flex","items-center","gap-4","mb-8"],[1,"w-16","h-16","rounded-2xl","bg-slate-900","text-white","flex","items-center","justify-center","text-3xl","font-bold"],[1,"text-2xl","font-bold","text-slate-900"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"text-xs","font-bold","uppercase","text-slate-400","mb-2"],[1,"font-medium","text-slate-800"],[1,"mt-8","p-4","bg-yellow-50","rounded-lg","border","border-yellow-100","text-sm","text-yellow-800","flex","items-start","gap-3"],[1,"fa-solid","fa-lock","mt-0.5"],[1,"absolute","inset-0","bg-slate-900/40","backdrop-blur-sm","transition-opacity",3,"click"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-lg","overflow-hidden","animate-fade-in-up"],[1,"px-6","py-4","border-b","border-slate-100","flex","justify-between","items-center","bg-slate-50"],[1,"text-lg","font-bold","text-slate-800"],[1,"text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","fa-xmark","text-xl"],[1,"p-6","space-y-4",3,"ngSubmit","formGroup"],[1,"space-y-1"],[1,"text-sm","font-medium","text-slate-700"],["type","text","formControlName","name",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"grid","grid-cols-2","gap-4"],["type","text","formControlName","piva",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","text","formControlName","phone",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","text","formControlName","address",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","email","formControlName","email",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","text","formControlName","licenseNumber",1,"w-full","px-4","py-2","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"pt-4","flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","text-slate-600","hover:bg-slate-100","rounded-lg","transition-colors","font-medium",3,"click"],["type","submit",1,"px-6","py-2","bg-slate-900","text-white","rounded-lg","hover:bg-slate-800","transition-colors","font-medium",3,"disabled"]],template:function(t,i){t&1&&(d(0,"div",0),C(1,i_,13,0)(2,o_,38,7,"div",1),C(3,r_,39,3,"div",2),l()),t&2&&(u(),E(i.state.isAdmin()?1:2),u(2),E(i.isModalOpen()?3:-1))},dependencies:[U,hn,pn,Ye,Pe,fn,qt,Wt],encapsulation:2})}};var cc=(e,n)=>n.id;function s_(e,n){e&1&&(d(0,"div",19),y(1,"i",45),a(2," SERVIZIO SOSPESO - MANCATO PAGAMENTO "),y(3,"i",45),l())}function a_(e,n){e&1&&(d(0,"span",27),a(1," \u{1F6AB} BLOCCATO "),l())}function l_(e,n){if(e&1){let t=P();d(0,"div",46)(1,"div",48),y(2,"i",49),l(),d(3,"p",50),a(4,"Nessuna unit\xE0 operativa configurata per questa sede."),l(),d(5,"button",51),T("click",function(){w(t);let o=v(2).$implicit,r=v();return D(r.openUserModal(void 0,o.id))}),a(6," + Aggiungi il primo collaboratore "),l()()}}function d_(e,n){if(e&1){let t=P();d(0,"button",67),T("click",function(){w(t);let o=v().$implicit,r=v(4);return D(r.deleteUser(o.id))}),y(1,"i",68),l()}}function c_(e,n){if(e&1){let t=P();d(0,"div",52)(1,"div",53),y(2,"img",54)(3,"div",55),l(),d(4,"div",24)(5,"div",56)(6,"div")(7,"h4",57),a(8),l(),d(9,"p",58),a(10),l()(),d(11,"span",59),a(12),l()(),d(13,"div",60)(14,"button",61),T("click",function(){let o=w(t).$implicit,r=v(4);return D(r.toggleUserActive(o))}),d(15,"div",62),y(16,"div",63),l(),d(17,"span"),a(18),l()(),d(19,"div",64)(20,"button",65),T("click",function(){let o=w(t).$implicit,r=v(4);return D(r.openUserModal(o))}),y(21,"i",41),l(),C(22,d_,2,0,"button",66),l()()()()}if(e&2){let t=n.$implicit;u(2),I("grayscale",!t.active),B("src",t.avatar,$n),u(),I("bg-emerald-500",t.active)("bg-slate-300",!t.active),u(5),k(t.name),u(2),k(t.email),u(2),M(" ",t.department||"Generale"," "),u(2),B("disabled",t.role==="ADMIN"),u(),I("bg-emerald-500",t.active)("bg-slate-300",!t.active),u(),I("left-[18px]",t.active)("left-[3px]",!t.active),u(),I("text-emerald-600",t.active)("text-slate-400",!t.active),u(),M(" ",t.active?"ATTIVO":"DISABILITATO"," "),u(4),E(t.role!=="ADMIN"?22:-1)}}function u_(e,n){if(e&1&&(d(0,"div",47),L(1,c_,23,25,"div",52,cc),l()),e&2){v(2);let t=Ci(0);u(),j(t)}}function f_(e,n){if(e&1&&(d(0,"div",44),C(1,l_,7,0,"div",46)(2,u_,3,0,"div",47),l()),e&2){v();let t=Ci(0);u(),E(t.length===0?1:2)}}function p_(e,n){if(e&1){let t=P();_i(0),d(1,"div",17)(2,"div",18),T("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleClient(o.id))}),C(3,s_,4,0,"div",19),d(4,"div",20)(5,"div",21)(6,"div",22),y(7,"i",23),l(),d(8,"div",24)(9,"h3",25),a(10),d(11,"span",26),a(12),l(),C(13,a_,2,0,"span",27),l(),d(14,"div",28)(15,"span",29),y(16,"i",30),a(17),l(),d(18,"span",31),a(19,"|"),l(),d(20,"span",29),y(21,"i",32),a(22),l()()(),d(23,"div",33),y(24,"i",34),l()(),d(25,"div",35),T("click",function(o){return w(t),D(o.stopPropagation())}),d(26,"div",36)(27,"span",37),a(28),l(),d(29,"button",38),T("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleSuspension(o))}),y(30,"div",39),l()(),d(31,"button",40),T("click",function(){let o=w(t).$implicit,r=v();return D(r.openClientModal(o))}),y(32,"i",41),l(),d(33,"button",42),T("click",function(){let o=w(t).$implicit,r=v();return D(r.openUserModal(void 0,o.id))}),y(34,"i",43),a(35," Add User "),l()()()(),C(36,f_,3,1,"div",44),l()}if(e&2){let t=n.$implicit,i=v(),o=i.isClientExpanded(t.id),r=co(i.getUsersByClient(t.id));u(),I("ring-2",o)("ring-indigo-100",o),u(),I("border-l-indigo-500",o&&!t.suspended)("border-l-transparent",!o&&!t.suspended)("border-l-red-500",t.suspended)("bg-red-50",t.suspended),u(),E(t.suspended?3:-1),u(),I("mt-6",t.suspended),u(2),I("bg-red-100",t.suspended)("border-red-200",t.suspended)("text-red-600",t.suspended),u(),I("fa-solid",t.suspended)("fa-ban",t.suspended),u(2),I("text-red-700",t.suspended),u(),M(" ",t.name," "),u(),I("bg-red-100",t.suspended)("text-red-600",t.suspended)("border-red-200",t.suspended),u(),M(" ",r.length," Risorse "),u(),E(t.suspended?13:-1),u(4),M(" ",t.address),u(5),M(" P.IVA: ",t.piva),u(),I("rotate-180",o),u(3),I("border-red-300",t.suspended)("bg-red-50",t.suspended)("border-emerald-200",!t.suspended)("bg-emerald-50",!t.suspended),u(),I("text-red-600",t.suspended)("text-emerald-600",!t.suspended),u(),M(" ",t.suspended?"Sospeso":"Attivo"," "),u(),I("bg-red-500",t.suspended)("bg-emerald-500",!t.suspended),B("title",Sd(t.suspended?"Riattiva Servizio":"Sospendi per Mancato Pagamento")),u(),I("left-6",t.suspended)("left-1",!t.suspended),u(3),I("opacity-50",t.suspended)("cursor-not-allowed",t.suspended),B("disabled",t.suspended),u(3),E(o?36:-1)}}function m_(e,n){if(e&1&&(d(0,"option",80),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function h_(e,n){if(e&1){let t=P();d(0,"div",16)(1,"div",69),T("click",function(){w(t);let o=v();return D(o.closeModal())}),l(),d(2,"div",70)(3,"div",71)(4,"h3",72),a(5),l(),d(6,"button",73),T("click",function(){w(t);let o=v();return D(o.closeModal())}),y(7,"i",74),l()(),d(8,"form",75),T("ngSubmit",function(){w(t);let o=v();return D(o.saveUser())}),d(9,"div",76)(10,"label",77),a(11,"Sede di Appartenenza"),l(),d(12,"select",78)(13,"option",79),a(14,"-- Seleziona Sede --"),l(),L(15,m_,2,2,"option",80,cc),l()(),d(17,"div",81)(18,"div",76)(19,"label",77),a(20,"Nome / Reparto"),l(),y(21,"input",82),l(),d(22,"div",76)(23,"label",77),a(24,"Ruolo Accesso"),l(),d(25,"select",83)(26,"option",84),a(27,"Operatore"),l(),d(28,"option",85),a(29,"Amministratore"),l()()()(),d(30,"div",76)(31,"label",77),a(32,"Responsabile (Nome Cognome)"),l(),d(33,"div",86),y(34,"i",87)(35,"input",88),l()(),d(36,"div",76)(37,"label",77),a(38,"Email (Login)"),l(),d(39,"div",86),y(40,"i",89)(41,"input",90),l()(),d(42,"div",91)(43,"button",92),T("click",function(){w(t);let o=v();return D(o.closeModal())}),a(44,"Annulla"),l(),d(45,"button",93),a(46),l()()()()()}if(e&2){let t=v();u(5),M(" ",t.isEditing()?"Modifica Unit\xE0 Operativa":"Nuova Unit\xE0 Operativa"," "),u(3),B("formGroup",t.userForm),u(7),j(t.state.clients()),u(30),B("disabled",t.userForm.invalid),u(),M(" ",t.isEditing()?"Salva Modifiche":"Crea Unit\xE0"," ")}}function g_(e,n){if(e&1){let t=P();d(0,"div",16)(1,"div",69),T("click",function(){w(t);let o=v();return D(o.closeModal())}),l(),d(2,"div",70)(3,"div",71)(4,"h3",72),a(5),l(),d(6,"button",73),T("click",function(){w(t);let o=v();return D(o.closeModal())}),y(7,"i",74),l()(),d(8,"form",75),T("ngSubmit",function(){w(t);let o=v();return D(o.saveClient())}),d(9,"div",76)(10,"label",77),a(11,"Ragione Sociale / Nome"),l(),y(12,"input",94),l(),d(13,"div",76)(14,"label",77),a(15,"Partita IVA"),l(),y(16,"input",95),l(),d(17,"div",76)(18,"label",77),a(19,"Indirizzo Sede Operativa"),l(),y(20,"input",96),l(),d(21,"div",81)(22,"div",76)(23,"label",77),a(24,"Telefono"),l(),y(25,"input",97),l(),d(26,"div",76)(27,"label",77),a(28,"Email Aziendale"),l(),y(29,"input",98),l()(),d(30,"div",91)(31,"button",92),T("click",function(){w(t);let o=v();return D(o.closeModal())}),a(32,"Annulla"),l(),d(33,"button",99),a(34),l()()()()()}if(e&2){let t=v();u(5),M(" ",t.isEditing()?"Modifica Azienda":"Nuova Azienda"," "),u(3),B("formGroup",t.clientForm),u(25),B("disabled",t.clientForm.invalid),u(),M(" ",t.isEditing()?"Aggiorna Azienda":"Crea Azienda"," ")}}var ks=class e{constructor(){this.state=F(ne);this.fb=F(mn);this.toastService=F(Rt);this.activeModal=R(null);this.isEditing=R(!1);this.editingId=R(null);this.expandedClientIds=R(new Set);this.userForm=this.fb.group({name:["",te.required],email:["",[te.required,te.email]],role:["COLLABORATOR",te.required],department:["",te.required],clientId:["",te.required],active:[!0]}),this.clientForm=this.fb.group({name:["",te.required],piva:["",te.required],address:["",te.required],phone:[""],email:[""],licenseNumber:[""]})}isClientExpanded(n){return this.expandedClientIds().has(n)}toggleClient(n){this.expandedClientIds.update(t=>{let i=new Set(t);return i.has(n)?i.delete(n):i.add(n),i})}getUsersByClient(n){return this.state.systemUsers().filter(t=>t.clientId===n)}toggleUserActive(n){n.role!=="ADMIN"&&this.state.updateSystemUser(n.id,{active:!n.active})}openUserModal(n,t){this.activeModal.set("user"),n?(this.isEditing.set(!0),this.editingId.set(n.id),this.userForm.patchValue({name:n.name,email:n.email,role:n.role,department:n.department||"",clientId:n.clientId||"",active:n.active})):(this.isEditing.set(!1),this.editingId.set(null),this.userForm.reset({role:"COLLABORATOR",active:!0,department:"",clientId:t||""}))}saveUser(){if(this.userForm.valid){let n=this.userForm.value,t=N(A({},n),{avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(n.name)}&background=random&color=fff`});this.isEditing()&&this.editingId()?this.state.updateSystemUser(this.editingId(),t):this.state.addSystemUser(t),this.closeModal()}}deleteUser(n){confirm("Sei sicuro di voler rimuovere questa unit\xE0 operativa e tutti i suoi dati?")&&this.state.deleteSystemUser(n)}openClientModal(n){this.activeModal.set("client"),n?(this.isEditing.set(!0),this.editingId.set(n.id),this.clientForm.patchValue({name:n.name,piva:n.piva,address:n.address,phone:n.phone,email:n.email,licenseNumber:n.licenseNumber})):(this.isEditing.set(!1),this.editingId.set(null),this.clientForm.reset())}saveClient(){if(this.clientForm.valid){let n=this.clientForm.value;this.isEditing()&&this.editingId()?this.state.updateClient(this.editingId(),n):this.state.addClient(N(A({},n),{suspended:!1})),this.closeModal()}}toggleSuspension(n){let t=n.suspended?`Confermi di voler RIATTIVARE il servizio per "${n.name}"? Gli utenti potranno nuovamente accedere.`:`\u26A0\uFE0F ATTENZIONE: Stai per SOSPENDERE il servizio per "${n.name}".

Tutti gli utenti di questa azienda verranno BLOCCATI e non potranno pi\xF9 accedere al sistema.

Confermi l'operazione?`;confirm(t)&&this.state.toggleClientSuspension(n.id,!n.suspended)}closeModal(){this.activeModal.set(null),this.userForm.reset(),this.clientForm.reset()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-collaborators-view"]],decls:23,vars:2,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-slate-900","via-slate-800","to-slate-900","p-8","rounded-3xl","shadow-xl","border","border-slate-700/50","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-network-wired","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-gradient-to-br","from-indigo-500","to-blue-600","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/20"],[1,"fa-solid","fa-sitemap"],[1,"text-indigo-200","text-sm","mt-2","font-medium","ml-1"],[1,"flex","flex-col","sm:flex-row","gap-3","w-full","md:w-auto","relative","z-10"],[1,"px-5","py-3","bg-white/10","backdrop-blur-md","text-white","border","border-white/20","rounded-xl","hover:bg-white","hover:text-indigo-900","transition-all","font-bold","flex","items-center","justify-center","shadow-lg","group",3,"click"],[1,"fa-solid","fa-building","mr-2","text-indigo-300","group-hover:text-indigo-600","transition-colors"],[1,"px-6","py-3","bg-indigo-500","hover:bg-indigo-400","text-white","rounded-xl","transition-all","shadow-lg","shadow-indigo-500/30","font-bold","flex","items-center","justify-center","group","active:scale-95",3,"click"],[1,"fa-solid","fa-user-plus","mr-2","group-hover:animate-pulse"],[1,"space-y-4","animate-fade-in"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden","transition-all","duration-300","hover:shadow-md",3,"ring-2","ring-indigo-100"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden","transition-all","duration-300","hover:shadow-md"],[1,"relative","bg-white","px-6","py-5","cursor-pointer","select-none","transition-colors","hover:bg-slate-50","border-l-4",3,"click"],[1,"absolute","top-0","left-0","right-0","bg-gradient-to-r","from-red-600","to-red-500","text-white","px-4","py-1","text-xs","font-bold","flex","items-center","justify-center","gap-2","shadow-md"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"flex","items-center","gap-4","w-full"],[1,"w-14","h-14","rounded-xl","bg-slate-50","border","border-slate-100","flex","items-center","justify-center","text-slate-600","shadow-sm","flex-shrink-0","group-hover:scale-110","transition-transform"],[1,"fa-regular","fa-building","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-xl","text-slate-800","flex","items-center","gap-3"],[1,"text-xs","bg-slate-100","text-slate-500","px-2","py-0.5","rounded-md","font-mono","border","border-slate-200"],[1,"text-xs","bg-red-500","text-white","px-2","py-1","rounded-md","font-bold","uppercase","animate-pulse","shadow-lg"],[1,"flex","flex-wrap","items-center","gap-x-4","gap-y-1","text-xs","text-slate-500","font-medium","mt-1"],[1,"flex","items-center"],[1,"fa-solid","fa-location-dot","mr-1.5","text-indigo-400"],[1,"hidden","sm:inline","text-slate-300"],[1,"fa-solid","fa-file-invoice","mr-1.5","text-indigo-400"],[1,"w-8","h-8","flex","items-center","justify-center","text-slate-400","transition-transform","duration-300"],[1,"fa-solid","fa-chevron-down"],[1,"flex","items-center","gap-2","w-full","md:w-auto","justify-end","border-t","md:border-t-0","border-slate-100","pt-3","md:pt-0","mt-3","md:mt-0","pl-18","md:pl-0",3,"click"],[1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","border-2","transition-all"],[1,"text-[10px]","font-bold","uppercase","tracking-wider"],[1,"w-11","h-6","rounded-full","relative","transition-colors","duration-200","ease-in-out","focus:outline-none","shadow-inner",3,"click","title"],[1,"w-4","h-4","bg-white","rounded-full","absolute","top-1","transition-all","duration-200","shadow-md"],["title","Modifica Dati Azienda",1,"w-9","h-9","rounded-lg","border","border-slate-200","hover:border-indigo-300","hover:bg-indigo-50","text-slate-400","hover:text-indigo-600","flex","items-center","justify-center","transition-all","bg-white",3,"click"],[1,"fa-solid","fa-pen-to-square"],[1,"px-3","py-2","bg-indigo-50","hover:bg-indigo-100","text-indigo-700","border","border-indigo-200","rounded-lg","text-xs","font-bold","transition-all","flex","items-center","whitespace-nowrap",3,"click","disabled"],[1,"fa-solid","fa-plus","mr-1.5"],[1,"border-t","border-slate-100","bg-slate-50/50","p-4","animate-slide-down"],[1,"fa-solid","fa-ban","animate-pulse"],[1,"bg-white","border-2","border-dashed","border-slate-200","rounded-xl","p-8","text-center"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],[1,"w-12","h-12","bg-slate-50","rounded-full","flex","items-center","justify-center","mx-auto","mb-3","text-slate-300"],[1,"fa-solid","fa-users-slash","text-xl"],[1,"text-slate-500","min-w-0","font-medium"],[1,"mt-3","text-indigo-600","text-sm","font-bold","hover:underline",3,"click"],[1,"group","bg-white","rounded-xl","p-4","border","border-slate-200","hover:border-indigo-200","hover:shadow-md","transition-all","flex","items-center","gap-4"],[1,"relative","flex-shrink-0"],[1,"w-14","h-14","rounded-xl","object-cover","border","border-slate-100","shadow-sm",3,"src"],[1,"absolute","-bottom-1","-right-1","w-4","h-4","rounded-full","border-2","border-white","flex","items-center","justify-center"],[1,"flex","justify-between","items-start"],[1,"font-bold","text-slate-800","text-base","leading-tight"],[1,"text-xs","text-slate-500","font-medium","truncate"],[1,"text-[10px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded","bg-slate-100","text-slate-500","border","border-slate-200"],[1,"mt-3","flex","items-center","justify-between","pt-3","border-t","border-slate-50","group-hover:border-slate-100","transition-colors"],[1,"flex","items-center","gap-2","text-xs","font-bold","focus:outline-none","transition-opacity","hover:opacity-80","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"w-8","h-4","rounded-full","relative","transition-colors","duration-200"],[1,"w-2.5","h-2.5","bg-white","rounded-full","absolute","top-[3px]","transition-all","duration-200","shadow-sm"],[1,"flex","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],["title","Modifica",1,"text-slate-400","hover:text-indigo-600","p-1","transition-colors",3,"click"],["title","Elimina",1,"text-slate-400","hover:text-red-600","p-1","transition-colors"],["title","Elimina",1,"text-slate-400","hover:text-red-600","p-1","transition-colors",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"absolute","inset-0","bg-slate-900/60","backdrop-blur-sm","transition-opacity",3,"click"],[1,"relative","bg-white","rounded-2xl","shadow-2xl","w-full","max-w-lg","overflow-hidden","animate-fade-in-up"],[1,"px-6","py-4","border-b","border-slate-100","flex","justify-between","items-center","bg-slate-50"],[1,"text-lg","font-bold","text-slate-800"],[1,"text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","fa-xmark","text-xl"],[1,"p-6","space-y-5",3,"ngSubmit","formGroup"],[1,"space-y-1"],[1,"text-xs","font-bold","text-slate-500","uppercase"],["formControlName","clientId",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:outline-none","focus:ring-2","focus:ring-blue-500","bg-slate-50","font-bold","text-slate-700"],["value",""],[3,"value"],[1,"grid","grid-cols-2","gap-4"],["type","text","formControlName","department","placeholder","Es. Cucina, Bar...",1,"w-full","px-4","py-2.5","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-medium"],["formControlName","role",1,"w-full","px-4","py-2.5","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","bg-white","font-medium"],["value","COLLABORATOR"],["value","ADMIN"],[1,"relative"],[1,"fa-solid","fa-user","absolute","left-3.5","top-3.5","text-slate-400"],["type","text","formControlName","name","placeholder","Es. Mario Rossi",1,"w-full","pl-10","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-medium","text-slate-800"],[1,"fa-solid","fa-envelope","absolute","left-3.5","top-3.5","text-slate-400"],["type","email","formControlName","email","placeholder","email@esempio.it",1,"w-full","pl-10","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-medium","text-slate-800"],[1,"pt-2","flex","justify-end","gap-3"],["type","button",1,"px-5","py-2.5","rounded-lg","font-bold","text-slate-500","hover:bg-slate-100","transition-colors",3,"click"],["type","submit",1,"px-6","py-2.5","bg-blue-600","text-white","rounded-lg","font-bold","shadow-lg","shadow-blue-200","hover:bg-blue-700","transition-all","transform","active:scale-95","disabled:opacity-50","disabled:scale-100",3,"disabled"],["type","text","formControlName","name","placeholder","Es. Ristorante Da Mario S.r.l.",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-bold","text-slate-800"],["type","text","formControlName","piva","placeholder","12345678901",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-mono","font-medium"],["type","text","formControlName","address","placeholder","Via Roma 1, Milano",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-medium"],["type","text","formControlName","phone","placeholder","02 1234567",1,"w-full","px-4","py-2.5","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-medium"],["type","email","formControlName","email","placeholder","info@azienda.it",1,"w-full","px-4","py-2.5","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none","font-medium"],["type","submit",1,"px-6","py-2.5","bg-indigo-600","text-white","rounded-lg","font-bold","shadow-lg","shadow-indigo-200","hover:bg-indigo-700","transition-all","transform","active:scale-95","disabled:opacity-50","disabled:scale-100",3,"disabled"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"i",3),l(),d(4,"div",4)(5,"h2",5)(6,"span",6),y(7,"i",7),l(),a(8," Struttura Organizzativa "),l(),d(9,"p",8),a(10," Gestione centralizzata di Aziende, Sedi e Personale Operativo "),l()(),d(11,"div",9)(12,"button",10),T("click",function(){return i.openClientModal()}),y(13,"i",11),a(14," Nuova Azienda "),l(),d(15,"button",12),T("click",function(){return i.openUserModal()}),y(16,"i",13),a(17," Aggiungi Personale "),l()()(),d(18,"div",14),L(19,p_,37,70,"div",15,cc),l(),C(21,h_,47,4,"div",16),C(22,g_,35,4,"div",16),l()),t&2&&(u(19),j(i.state.clients()),u(2),E(i.activeModal()==="user"?21:-1),u(),E(i.activeModal()==="client"?22:-1))},dependencies:[U,hn,pn,Ft,Ot,Ye,rt,Pe,fn,qt,Wt],styles:["@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .2s ease-out forwards}"]})}};var Wn=(e,n)=>n.id;function v_(e,n){if(e&1&&a(0),e&2){let t,i=v();M(" Gestione per: ",(t=i.selectedClient())==null?null:t.name," ")}}function y_(e,n){e&1&&a(0," Panoramica Generale - Tutte le Aziende ")}function b_(e,n){if(e&1&&(d(0,"option",60),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function x_(e,n){if(e&1){let t=P();d(0,"div")(1,"label",34),a(2,"Azienda"),l(),d(3,"select",35),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.filterClientId,o)||(r.filterClientId=o),D(o)}),T("change",function(){w(t);let o=v();return D(o.applyFilters())}),d(4,"option",36),a(5,"Tutte le Aziende"),l(),L(6,b_,2,2,"option",60,Wn),l()()}if(e&2){let t=v();u(3),xe("ngModel",t.filterClientId),u(3),j(t.state.clients())}}function __(e,n){if(e&1){let t=P();d(0,"div",50)(1,"button",61),T("click",function(){w(t);let o=v();return D(o.resetFilters())}),y(2,"i",62),a(3," Azzera Filtri "),l()()}}function C_(e,n){if(e&1&&(d(0,"span",57),a(1),l()),e&2){let t=v();u(),k(t.activeReminders().length)}}function E_(e,n){e&1&&(d(0,"div",67),y(1,"i",69),d(2,"p",70),a(3,"Nessun pagamento registrato"),l()())}function w_(e,n){if(e&1&&(d(0,"div")(1,"span",80),a(2,"Pagato il:"),l(),d(3,"span",86),a(4),X(5,"date"),l()()),e&2){let t=v().$implicit;u(4),k(ee(5,1,t.paidDate,"dd/MM/yyyy"))}}function D_(e,n){if(e&1&&(d(0,"div",82)(1,"span",80),a(2,"Note:"),l(),d(3,"span",87),a(4),l()()),e&2){let t=v().$implicit;u(4),k(t.notes)}}function I_(e,n){if(e&1){let t=P();d(0,"button",88),T("click",function(){w(t);let o=v().$implicit,r=v(3);return D(r.markAsPaid(o.id))}),y(1,"i",89),a(2," Segna Pagato "),l()}}function S_(e,n){if(e&1){let t=P();d(0,"button",90),T("click",function(){w(t);let o=v().$implicit,r=v(3);return D(r.sendReminder(o.clientId))}),y(1,"i",91),a(2," Sollecito "),l()}}function M_(e,n){if(e&1&&(d(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75)(4,"h4",76),a(5),l(),d(6,"span",77),a(7),l(),d(8,"span",78),a(9),l()(),d(10,"div",79)(11,"div")(12,"span",80),a(13,"Importo:"),l(),d(14,"span",81),a(15),l()(),d(16,"div")(17,"span",80),a(18,"Scadenza:"),l(),d(19,"span",81),a(20),X(21,"date"),l()(),C(22,w_,6,4,"div"),C(23,D_,5,1,"div",82),l()(),d(24,"div",83),C(25,I_,3,0,"button",84),C(26,S_,3,0,"button",85),l()()()),e&2){let t=n.$implicit,i=v(3),o=i.getClient(t.clientId);I("border-emerald-200",t.status==="paid")("bg-emerald-50/30",t.status==="paid")("border-orange-200",t.status==="pending")("bg-orange-50/30",t.status==="pending")("border-red-200",t.status==="overdue")("bg-red-50/30",t.status==="overdue"),u(5),k((o==null?null:o.name)||"Cliente Sconosciuto"),u(),I("bg-emerald-100",t.status==="paid")("text-emerald-700",t.status==="paid")("bg-orange-100",t.status==="pending")("text-orange-700",t.status==="pending")("bg-red-100",t.status==="overdue")("text-red-700",t.status==="overdue"),u(),M(" ",i.getStatusLabel(t.status)," "),u(2),M(" ",i.getFrequencyLabel(t.frequency)," "),u(6),M("\u20AC",t.amount),u(5),k(ee(21,33,t.dueDate,"dd/MM/yyyy")),u(2),E(t.paidDate?22:-1),u(),E(t.notes?23:-1),u(2),E(t.status!=="paid"?25:-1),u(),E(t.status==="overdue"?26:-1)}}function T_(e,n){if(e&1&&(d(0,"div",68),L(1,M_,27,36,"div",71,Wn),l()),e&2){let t=v(2);u(),j(t.filteredPayments())}}function A_(e,n){if(e&1){let t=P();d(0,"div",58)(1,"div",63)(2,"h3",64),a(3,"Gestione Pagamenti"),l(),d(4,"button",65),T("click",function(){w(t);let o=v();return D(o.openPaymentModal())}),y(5,"i",66),a(6," Nuovo Pagamento "),l()(),C(7,E_,4,0,"div",67)(8,T_,3,0,"div",68),l()}if(e&2){let t=v();u(7),E(t.filteredPayments().length===0?7:8)}}function k_(e,n){e&1&&(d(0,"div",67),y(1,"i",94),d(2,"p",70),a(3,"Nessuna registrazione in prima nota"),l()())}function N_(e,n){e&1&&(d(0,"th",97),a(1,"Azienda"),l())}function R_(e,n){if(e&1&&(d(0,"td",105),a(1),l()),e&2){v();let t=Ci(0);u(),k(t==null?null:t.name)}}function F_(e,n){if(e&1&&(_i(0),d(1,"tr",99)(2,"td",104),a(3),X(4,"date"),l(),C(5,R_,2,1,"td",105),d(6,"td",106),a(7),l(),d(8,"td",107)(9,"span",108),a(10),l()(),d(11,"td",109),a(12),l(),d(13,"td",110),a(14),l()()),e&2){let t=n.$implicit,i=v(3);co(i.getClient(t.clientId)),u(3),k(ee(4,23,t.date,"dd/MM/yyyy")),u(2),E(i.selectedClient()?-1:5),u(2),k(t.description),u(2),I("bg-blue-100",t.category==="payment")("text-blue-700",t.category==="payment")("bg-red-100",t.category==="expense")("text-red-700",t.category==="expense")("bg-green-100",t.category==="refund")("text-green-700",t.category==="refund")("bg-slate-100",t.category==="other")("text-slate-700",t.category==="other"),u(),M(" ",i.getCategoryLabel(t.category)," "),u(2),M(" ",t.debit>0?"\u20AC"+t.debit:"-"," "),u(2),M(" ",t.credit>0?"\u20AC"+t.credit:"-"," ")}}function O_(e,n){if(e&1&&(d(0,"div",93)(1,"table",95)(2,"thead",96)(3,"tr")(4,"th",97),a(5,"Data"),l(),C(6,N_,2,0,"th",97),d(7,"th",97),a(8,"Descrizione"),l(),d(9,"th",97),a(10,"Categoria"),l(),d(11,"th",98),a(12,"Dare"),l(),d(13,"th",98),a(14,"Avere"),l()()(),d(15,"tbody"),L(16,F_,15,26,"tr",99,Wn),d(18,"tr",100)(19,"td",101),a(20,"TOTALI:"),l(),d(21,"td",102),a(22),l(),d(23,"td",103),a(24),l()()()()()),e&2){let t=v(2);u(6),E(t.selectedClient()?-1:6),u(10),j(t.filteredJournalEntries()),u(3),ao("colspan",t.selectedClient()?3:4),u(3),M("\u20AC",t.totalDebit()),u(2),M("\u20AC",t.totalCredit())}}function P_(e,n){if(e&1){let t=P();d(0,"div",58)(1,"div",63)(2,"h3",64),a(3,"Prima Nota"),l(),d(4,"button",92),T("click",function(){w(t);let o=v();return D(o.openJournalModal())}),y(5,"i",66),a(6," Nuova Registrazione "),l()(),C(7,k_,4,0,"div",67)(8,O_,25,4,"div",93),l()}if(e&2){let t=v();u(7),E(t.filteredJournalEntries().length===0?7:8)}}function V_(e,n){e&1&&(d(0,"div",67),y(1,"i",112),d(2,"p",70),a(3,"Nessun promemoria attivo"),l()())}function L_(e,n){e&1&&(d(0,"span",116),a(1,"Archiviato"),l())}function j_(e,n){if(e&1){let t=P();d(0,"button",121),T("click",function(){w(t);let o=v().$implicit,r=v(3);return D(r.dismissReminder(o.id))}),y(1,"i",89),a(2," Archivia "),l()}}function B_(e,n){if(e&1&&(d(0,"div",114)(1,"div",73)(2,"div",74)(3,"div",75),y(4,"i",115),d(5,"h4",76),a(6),l(),d(7,"span",78),a(8),l(),C(9,L_,2,0,"span",116),l(),d(10,"p",117),a(11),l(),d(12,"p",118),a(13," Scadenza: "),d(14,"span",119),a(15),X(16,"date"),l()()(),C(17,j_,3,0,"button",120),l()()),e&2){let t=n.$implicit,i=v(3),o=i.getClient(t.clientId);I("border-red-200",t.priority==="high"&&!t.dismissed)("bg-red-50/30",t.priority==="high"&&!t.dismissed)("border-orange-200",t.priority==="medium"&&!t.dismissed)("bg-orange-50/30",t.priority==="medium"&&!t.dismissed)("border-blue-200",t.priority==="low"&&!t.dismissed)("bg-blue-50/30",t.priority==="low"&&!t.dismissed)("border-slate-200",t.dismissed)("bg-slate-50",t.dismissed)("opacity-50",t.dismissed),u(4),I("fa-exclamation-triangle",t.priority==="high")("text-red-600",t.priority==="high")("fa-info-circle",t.priority==="medium")("text-orange-600",t.priority==="medium")("fa-bell",t.priority==="low")("text-blue-600",t.priority==="low"),u(2),k((o==null?null:o.name)||"Generale"),u(2),M(" ",i.getReminderTypeLabel(t.type)," "),u(),E(t.dismissed?9:-1),u(2),k(t.message),u(4),k(ee(16,36,t.dueDate,"dd/MM/yyyy")),u(2),E(t.dismissed?-1:17)}}function H_(e,n){if(e&1&&(d(0,"div",68),L(1,B_,18,39,"div",113,Wn),l()),e&2){let t=v(2);u(),j(t.filteredReminders())}}function U_(e,n){if(e&1){let t=P();d(0,"div",58)(1,"div",63)(2,"h3",64),a(3,"Promemoria e Scadenze"),l(),d(4,"button",111),T("click",function(){w(t);let o=v();return D(o.openReminderModal())}),y(5,"i",66),a(6," Nuovo Promemoria "),l()(),C(7,V_,4,0,"div",67)(8,H_,3,0,"div",68),l()}if(e&2){let t=v();u(7),E(t.filteredReminders().length===0?7:8)}}function $_(e,n){if(e&1&&(d(0,"option",60),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function z_(e,n){if(e&1){let t=P();d(0,"div",122),T("click",function(){w(t);let o=v();return D(o.closeModals())}),d(1,"div",123),T("click",function(o){return w(t),D(o.stopPropagation())}),d(2,"div",124)(3,"h3",125),a(4,"Nuovo Pagamento"),l(),d(5,"button",126),T("click",function(){w(t);let o=v();return D(o.closeModals())}),y(6,"i",127),l()(),d(7,"form",128),T("ngSubmit",function(){w(t);let o=v();return D(o.savePayment())}),d(8,"div")(9,"label",129),a(10,"Azienda"),l(),d(11,"select",130)(12,"option",36),a(13,"Seleziona Azienda"),l(),L(14,$_,2,2,"option",60,Wn),l()(),d(16,"div",131)(17,"div")(18,"label",129),a(19,"Importo (\u20AC)"),l(),y(20,"input",132),l(),d(21,"div")(22,"label",129),a(23,"Cadenza"),l(),d(24,"select",133)(25,"option",134),a(26,"Mensile"),l(),d(27,"option",135),a(28,"Trimestrale"),l(),d(29,"option",136),a(30,"Annuale"),l(),d(31,"option",137),a(32,"Una Tantum"),l()()()(),d(33,"div")(34,"label",129),a(35,"Data Scadenza"),l(),y(36,"input",138),l(),d(37,"div")(38,"label",129),a(39,"Note"),l(),y(40,"textarea",139),l(),d(41,"div",140)(42,"button",141),T("click",function(){w(t);let o=v();return D(o.closeModals())}),a(43," Annulla "),l(),d(44,"button",142),a(45," Salva Pagamento "),l()()()()()}if(e&2){let t=v();u(7),B("formGroup",t.paymentForm),u(7),j(t.state.clients()),u(30),B("disabled",!t.paymentForm.valid)}}function G_(e,n){if(e&1&&(d(0,"option",60),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function W_(e,n){if(e&1){let t=P();d(0,"div",122),T("click",function(){w(t);let o=v();return D(o.closeModals())}),d(1,"div",123),T("click",function(o){return w(t),D(o.stopPropagation())}),d(2,"div",143)(3,"h3",125),a(4,"Nuova Registrazione Prima Nota"),l(),d(5,"button",126),T("click",function(){w(t);let o=v();return D(o.closeModals())}),y(6,"i",127),l()(),d(7,"form",128),T("ngSubmit",function(){w(t);let o=v();return D(o.saveJournal())}),d(8,"div")(9,"label",129),a(10,"Azienda"),l(),d(11,"select",144)(12,"option",36),a(13,"Seleziona Azienda"),l(),L(14,G_,2,2,"option",60,Wn),l()(),d(16,"div",131)(17,"div")(18,"label",129),a(19,"Data"),l(),y(20,"input",145),l(),d(21,"div")(22,"label",129),a(23,"Categoria"),l(),d(24,"select",146)(25,"option",147),a(26,"Incasso"),l(),d(27,"option",148),a(28,"Spesa"),l(),d(29,"option",149),a(30,"Rimborso"),l(),d(31,"option",150),a(32,"Altro"),l()()()(),d(33,"div")(34,"label",129),a(35,"Descrizione"),l(),y(36,"textarea",151),l(),d(37,"div",131)(38,"div")(39,"label",129),a(40,"Dare (\u20AC)"),l(),y(41,"input",152),l(),d(42,"div")(43,"label",129),a(44,"Avere (\u20AC)"),l(),y(45,"input",153),l()(),d(46,"div",140)(47,"button",141),T("click",function(){w(t);let o=v();return D(o.closeModals())}),a(48," Annulla "),l(),d(49,"button",154),a(50," Salva Registrazione "),l()()()()()}if(e&2){let t=v();u(7),B("formGroup",t.journalForm),u(7),j(t.state.clients()),u(35),B("disabled",!t.journalForm.valid)}}function q_(e,n){if(e&1&&(d(0,"option",60),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function Z_(e,n){if(e&1){let t=P();d(0,"div",122),T("click",function(){w(t);let o=v();return D(o.closeModals())}),d(1,"div",123),T("click",function(o){return w(t),D(o.stopPropagation())}),d(2,"div",155)(3,"h3",125),a(4,"Nuovo Promemoria"),l(),d(5,"button",126),T("click",function(){w(t);let o=v();return D(o.closeModals())}),y(6,"i",127),l()(),d(7,"form",128),T("ngSubmit",function(){w(t);let o=v();return D(o.saveReminder())}),d(8,"div")(9,"label",129),a(10,"Azienda"),l(),d(11,"select",156)(12,"option",36),a(13,"Seleziona Azienda"),l(),L(14,q_,2,2,"option",60,Wn),l()(),d(16,"div",131)(17,"div")(18,"label",129),a(19,"Tipo"),l(),d(20,"select",157)(21,"option",147),a(22,"Pagamento"),l(),d(23,"option",158),a(24,"Scadenza"),l(),d(25,"option",159),a(26,"Promemoria"),l()()(),d(27,"div")(28,"label",129),a(29,"Priorit\xE0"),l(),d(30,"select",160)(31,"option",161),a(32,"Bassa"),l(),d(33,"option",162),a(34,"Media"),l(),d(35,"option",163),a(36,"Alta"),l()()()(),d(37,"div")(38,"label",129),a(39,"Messaggio"),l(),y(40,"textarea",164),l(),d(41,"div")(42,"label",129),a(43,"Data Scadenza"),l(),y(44,"input",165),l(),d(45,"div",140)(46,"button",141),T("click",function(){w(t);let o=v();return D(o.closeModals())}),a(47," Annulla "),l(),d(48,"button",166),a(49," Salva Promemoria "),l()()()()()}if(e&2){let t=v();u(7),B("formGroup",t.reminderForm),u(7),j(t.state.clients()),u(34),B("disabled",!t.reminderForm.valid)}}var Ns=class e{constructor(){this.state=F(ne);this.toastService=F(Rt);this.fb=F(mn);this.activeTab=R("payments");this.showPaymentModal=R(!1);this.showJournalModal=R(!1);this.showReminderModal=R(!1);this.filterMonth="";this.filterClientId="";this.filterDateFrom="";this.filterDateTo="";this.payments=R([{id:"1",clientId:"c1",amount:150,frequency:"monthly",dueDate:"2026-02-15",paidDate:"2026-02-10",status:"paid",notes:"Pagamento regolare"},{id:"2",clientId:"c2",amount:200,frequency:"monthly",dueDate:"2026-02-01",status:"overdue",notes:"Sollecito inviato"},{id:"3",clientId:"c1",amount:150,frequency:"monthly",dueDate:"2026-01-15",paidDate:"2026-01-12",status:"paid",notes:"Pagamento Gennaio"},{id:"4",clientId:"c2",amount:200,frequency:"monthly",dueDate:"2026-03-01",status:"pending",notes:"Pagamento Marzo"},{id:"5",clientId:"c1",amount:450,frequency:"quarterly",dueDate:"2025-12-31",paidDate:"2025-12-28",status:"paid",notes:"Pagamento trimestrale Q4 2025"}]);this.journalEntries=R([{id:"1",clientId:"c1",date:"2026-02-10",description:"Pagamento servizio HACCP Febbraio",debit:0,credit:150,category:"payment"},{id:"2",clientId:"c2",date:"2026-01-15",description:"Rimborso spese formazione",debit:50,credit:0,category:"expense"},{id:"3",clientId:"c1",date:"2026-01-12",description:"Pagamento servizio HACCP Gennaio",debit:0,credit:150,category:"payment"},{id:"4",clientId:"c2",date:"2026-02-20",description:"Spese materiale consumabile",debit:75,credit:0,category:"expense"},{id:"5",clientId:"c1",date:"2025-12-28",description:"Pagamento trimestrale Q4 2025",debit:0,credit:450,category:"payment"}]);this.reminders=R([{id:"1",clientId:"c2",type:"payment",message:"Pagamento scaduto da 3 giorni - Inviare sollecito",dueDate:"2026-02-01",priority:"high",dismissed:!1}]);this.selectedClient=V(()=>{let n=this.state.filterCollaboratorId();if(!n)return null;let t=this.state.systemUsers().find(i=>i.id===n);return t?this.state.clients().find(i=>i.id===t.clientId):null});this.filteredPayments=V(()=>{let n=this.payments(),t=this.selectedClient();return t?n=n.filter(i=>i.clientId===t.id):this.filterClientId&&(n=n.filter(i=>i.clientId===this.filterClientId)),n=this.applyDateFilters(n,i=>i.dueDate),n});this.filteredJournalEntries=V(()=>{let n=this.journalEntries(),t=this.selectedClient();return t?n=n.filter(i=>i.clientId===t.id):this.filterClientId&&(n=n.filter(i=>i.clientId===this.filterClientId)),n=this.applyDateFilters(n,i=>i.date),n});this.filteredReminders=V(()=>{let n=this.reminders(),t=this.selectedClient();return t?n=n.filter(i=>i.clientId===t.id):this.filterClientId&&(n=n.filter(i=>i.clientId===this.filterClientId)),n=this.applyDateFilters(n,i=>i.dueDate),n});this.activeReminders=V(()=>this.reminders().filter(n=>!n.dismissed));this.totalPaid=V(()=>this.filteredPayments().filter(n=>n.status==="paid").reduce((n,t)=>n+t.amount,0));this.totalPending=V(()=>this.filteredPayments().filter(n=>n.status==="pending").reduce((n,t)=>n+t.amount,0));this.totalOverdue=V(()=>this.filteredPayments().filter(n=>n.status==="overdue").reduce((n,t)=>n+t.amount,0));this.totalDebit=V(()=>this.filteredJournalEntries().reduce((n,t)=>n+t.debit,0));this.totalCredit=V(()=>this.filteredJournalEntries().reduce((n,t)=>n+t.credit,0));this.overdueClients=V(()=>{let n=this.payments().filter(i=>i.status==="overdue"),t=[...new Set(n.map(i=>i.clientId))];return this.state.clients().filter(i=>t.includes(i.id))});this.paymentForm=this.fb.group({clientId:["",te.required],amount:[0,[te.required,te.min(0)]],frequency:["monthly",te.required],dueDate:["",te.required],notes:[""]}),this.journalForm=this.fb.group({clientId:["",te.required],date:["",te.required],description:["",te.required],debit:[0,te.min(0)],credit:[0,te.min(0)],category:["payment",te.required]}),this.reminderForm=this.fb.group({clientId:["",te.required],type:["payment",te.required],message:["",te.required],dueDate:["",te.required],priority:["medium",te.required]}),ye(()=>{if(this.state.currentUser()?.role==="ADMIN"){let t=this.overdueClients();t.length>0&&setTimeout(()=>{this.toastService.warning("Pagamenti Scaduti",`${t.length} aziende hanno pagamenti in ritardo. Controlla la sezione Contabilit\xE0.`)},1e3)}})}getClient(n){return this.state.clients().find(t=>t.id===n)}getStatusLabel(n){return{paid:"Pagato",pending:"In Attesa",overdue:"Scaduto"}[n]||n}getFrequencyLabel(n){return{monthly:"Mensile",quarterly:"Trimestrale",yearly:"Annuale","one-time":"Una Tantum"}[n]||n}getCategoryLabel(n){return{payment:"Incasso",expense:"Spesa",refund:"Rimborso",other:"Altro"}[n]||n}getReminderTypeLabel(n){return{payment:"Pagamento",deadline:"Scadenza",memo:"Promemoria"}[n]||n}openPaymentModal(){this.paymentForm.reset({frequency:"monthly",amount:0}),this.showPaymentModal.set(!0)}openJournalModal(){this.showJournalModal.set(!0)}openReminderModal(){this.showReminderModal.set(!0)}closeModals(){this.showPaymentModal.set(!1),this.showJournalModal.set(!1),this.showReminderModal.set(!1)}savePayment(){if(this.paymentForm.valid){let n=this.paymentForm.value,t=N(A({id:Math.random().toString(36).substr(2,9)},n),{status:"pending"});this.payments.update(i=>[...i,t]),this.toastService.success("Pagamento Aggiunto","Il pagamento \xE8 stato registrato con successo."),this.closeModals()}}markAsPaid(n){this.payments.update(t=>t.map(i=>i.id===n?N(A({},i),{status:"paid",paidDate:new Date().toISOString().split("T")[0]}):i)),this.toastService.success("Pagamento Confermato","Il pagamento \xE8 stato segnato come ricevuto.")}sendReminder(n){let t=this.getClient(n);this.toastService.info("Sollecito Inviato",`Sollecito di pagamento inviato a ${t?.name}`)}saveJournal(){if(this.journalForm.valid){let n=this.journalForm.value,t=A({id:Math.random().toString(36).substr(2,9)},n);this.journalEntries.update(i=>[...i,t]),this.toastService.success("Registrazione Aggiunta","La registrazione \xE8 stata salvata in prima nota."),this.closeModals()}}saveReminder(){if(this.reminderForm.valid){let n=this.reminderForm.value,t=N(A({id:Math.random().toString(36).substr(2,9)},n),{dismissed:!1});this.reminders.update(i=>[...i,t]),this.toastService.success("Promemoria Creato","Il promemoria \xE8 stato aggiunto con successo."),this.closeModals()}}dismissReminder(n){this.reminders.update(t=>t.map(i=>i.id===n?N(A({},i),{dismissed:!0}):i)),this.toastService.success("Promemoria Archiviato","Il promemoria \xE8 stato archiviato.")}applyDateFilters(n,t){let i=n;return this.filterMonth&&(i=i.filter(o=>{let r=t(o),c=(new Date(r).getMonth()+1).toString().padStart(2,"0");return!(this.filterMonth&&c!==this.filterMonth)})),this.filterDateFrom&&(i=i.filter(o=>t(o)>=this.filterDateFrom)),this.filterDateTo&&(i=i.filter(o=>t(o)<=this.filterDateTo)),i}applyFilters(){}hasActiveFilters(){return!!(this.filterMonth||this.filterClientId||this.filterDateFrom||this.filterDateTo)}resetFilters(){this.filterMonth="",this.filterClientId="",this.filterDateFrom="",this.filterDateTo="",this.applyFilters()}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-accounting-view"]],decls:112,vars:47,consts:[[1,"space-y-6","pb-10"],[1,"bg-gradient-to-r","from-slate-900","via-slate-800","to-slate-900","p-8","rounded-3xl","shadow-xl","border","border-slate-700/50","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-euro-sign","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-gradient-to-br","from-green-500","to-emerald-600","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/20"],[1,"fa-solid","fa-calculator"],[1,"text-indigo-200","text-sm","mt-2","font-medium","ml-1"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-xl","p-5","border","border-emerald-200","shadow-sm"],[1,"flex","items-center","justify-between"],[1,"text-xs","text-emerald-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-emerald-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-emerald-100","flex","items-center","justify-center"],[1,"fa-solid","fa-circle-check","text-emerald-600","text-xl"],[1,"bg-white","rounded-xl","p-5","border","border-orange-200","shadow-sm"],[1,"text-xs","text-orange-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-orange-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-orange-100","flex","items-center","justify-center"],[1,"fa-solid","fa-clock","text-orange-600","text-xl"],[1,"bg-white","rounded-xl","p-5","border","border-red-200","shadow-sm"],[1,"text-xs","text-red-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-red-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-red-100","flex","items-center","justify-center"],[1,"fa-solid","fa-triangle-exclamation","text-red-600","text-xl"],[1,"bg-white","rounded-xl","p-5","border","border-blue-200","shadow-sm"],[1,"text-xs","text-blue-600","font-bold","uppercase"],[1,"text-3xl","font-black","text-blue-600","mt-1"],[1,"w-12","h-12","rounded-full","bg-blue-100","flex","items-center","justify-center"],[1,"fa-solid","fa-bell","text-blue-600","text-xl"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","p-6"],[1,"text-sm","font-bold","text-slate-700","uppercase","tracking-wide","mb-4","flex","items-center","gap-2"],[1,"fa-solid","fa-filter","text-slate-400"],[1,"block","text-xs","font-bold","text-slate-600","mb-2"],[1,"w-full","px-3","py-2","border","border-slate-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","text-sm",3,"ngModelChange","change","ngModel"],["value",""],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],["type","date",1,"w-full","px-3","py-2","border","border-slate-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","text-sm",3,"ngModelChange","change","ngModel"],[1,"mt-4","flex","justify-end"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"border-b","border-slate-200","flex"],[1,"flex-1","px-6","py-4","font-bold","transition-all",3,"click"],[1,"fa-solid","fa-money-bill-wave","mr-2"],[1,"fa-solid","fa-book","mr-2"],[1,"fa-solid","fa-bell","mr-2"],[1,"ml-2","bg-orange-500","text-white","text-xs","px-2","py-0.5","rounded-full"],[1,"p-6"],[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4"],[3,"value"],[1,"px-4","py-2","bg-slate-100","hover:bg-slate-200","text-slate-700","rounded-lg","text-sm","font-bold","transition-all","flex","items-center","gap-2",3,"click"],[1,"fa-solid","fa-rotate-left"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-lg","font-bold","text-slate-800"],[1,"px-4","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","font-bold","transition-all","flex","items-center","gap-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"text-center","py-12"],[1,"space-y-3"],[1,"fa-solid","fa-receipt","text-slate-200","text-6xl","mb-4"],[1,"text-slate-400","font-medium"],[1,"border-2","rounded-xl","p-4","transition-all","hover:shadow-md",3,"border-emerald-200","bg-emerald-50/30","border-orange-200","bg-orange-50/30","border-red-200","bg-red-50/30"],[1,"border-2","rounded-xl","p-4","transition-all","hover:shadow-md"],[1,"flex","items-start","justify-between","gap-4"],[1,"flex-1"],[1,"flex","items-center","gap-3","mb-2"],[1,"font-bold","text-slate-800"],[1,"text-xs","font-bold","px-2","py-1","rounded"],[1,"text-xs","bg-slate-100","text-slate-600","px-2","py-1","rounded"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","text-sm"],[1,"text-slate-500"],[1,"font-bold","text-slate-800","ml-2"],[1,"col-span-2","md:col-span-1"],[1,"flex","gap-2"],[1,"px-3","py-2","bg-emerald-600","hover:bg-emerald-700","text-white","rounded-lg","text-sm","font-bold","transition-all"],[1,"px-3","py-2","bg-orange-600","hover:bg-orange-700","text-white","rounded-lg","text-sm","font-bold","transition-all"],[1,"font-bold","text-emerald-600","ml-2"],[1,"text-slate-700","ml-2"],[1,"px-3","py-2","bg-emerald-600","hover:bg-emerald-700","text-white","rounded-lg","text-sm","font-bold","transition-all",3,"click"],[1,"fa-solid","fa-check"],[1,"px-3","py-2","bg-orange-600","hover:bg-orange-700","text-white","rounded-lg","text-sm","font-bold","transition-all",3,"click"],[1,"fa-solid","fa-paper-plane"],[1,"px-4","py-2","bg-purple-600","hover:bg-purple-700","text-white","rounded-lg","font-bold","transition-all","flex","items-center","gap-2",3,"click"],[1,"overflow-x-auto"],[1,"fa-solid","fa-book-open","text-slate-200","text-6xl","mb-4"],[1,"w-full"],[1,"bg-slate-50","border-b-2","border-slate-200"],[1,"px-4","py-3","text-left","text-xs","font-bold","text-slate-600","uppercase"],[1,"px-4","py-3","text-right","text-xs","font-bold","text-slate-600","uppercase"],[1,"border-b","border-slate-100","hover:bg-slate-50"],[1,"bg-slate-100","font-bold"],[1,"px-4","py-3","text-right","text-slate-700"],[1,"px-4","py-3","text-right","text-slate-800"],[1,"px-4","py-3","text-right","text-emerald-600"],[1,"px-4","py-3","text-sm","text-slate-600"],[1,"px-4","py-3","text-sm","font-medium","text-slate-800"],[1,"px-4","py-3","text-sm","text-slate-700"],[1,"px-4","py-3"],[1,"text-xs","px-2","py-1","rounded","font-bold"],[1,"px-4","py-3","text-right","font-bold","text-slate-800"],[1,"px-4","py-3","text-right","font-bold","text-emerald-600"],[1,"px-4","py-2","bg-orange-600","hover:bg-orange-700","text-white","rounded-lg","font-bold","transition-all","flex","items-center","gap-2",3,"click"],[1,"fa-solid","fa-calendar-check","text-slate-200","text-6xl","mb-4"],[1,"border-2","rounded-xl","p-4","transition-all",3,"border-red-200","bg-red-50/30","border-orange-200","bg-orange-50/30","border-blue-200","bg-blue-50/30","border-slate-200","bg-slate-50","opacity-50"],[1,"border-2","rounded-xl","p-4","transition-all"],[1,"fa-solid"],[1,"text-xs","bg-slate-200","text-slate-500","px-2","py-1","rounded"],[1,"text-sm","text-slate-700","mb-2"],[1,"text-xs","text-slate-500"],[1,"font-bold"],[1,"px-3","py-2","bg-slate-600","hover:bg-slate-700","text-white","rounded-lg","text-sm","font-bold","transition-all"],[1,"px-3","py-2","bg-slate-600","hover:bg-slate-700","text-white","rounded-lg","text-sm","font-bold","transition-all",3,"click"],[1,"fixed","inset-0","bg-black/50","backdrop-blur-sm","z-50","flex","items-center","justify-center","p-4",3,"click"],[1,"bg-white","rounded-2xl","shadow-2xl","max-w-2xl","w-full","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"sticky","top-0","bg-gradient-to-r","from-blue-600","to-blue-700","px-6","py-4","flex","justify-between","items-center"],[1,"text-xl","font-bold","text-white"],[1,"text-white","hover:bg-white/20","w-8","h-8","rounded-full","transition-colors",3,"click"],[1,"fa-solid","fa-xmark"],[1,"p-6","space-y-4",3,"ngSubmit","formGroup"],[1,"text-xs","font-bold","text-slate-500","uppercase","block","mb-2"],["formControlName","clientId",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none"],[1,"grid","grid-cols-2","gap-4"],["type","number","formControlName","amount","placeholder","0.00",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none"],["formControlName","frequency",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none"],["value","monthly"],["value","quarterly"],["value","yearly"],["value","one-time"],["type","date","formControlName","dueDate",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none"],["formControlName","notes","rows","3",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-blue-500","outline-none"],[1,"flex","gap-3","pt-4"],["type","button",1,"flex-1","px-4","py-3","bg-slate-200","hover:bg-slate-300","text-slate-700","rounded-lg","font-bold","transition-all",3,"click"],["type","submit",1,"flex-1","px-4","py-3","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","font-bold","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"sticky","top-0","bg-gradient-to-r","from-purple-600","to-purple-700","px-6","py-4","flex","justify-between","items-center"],["formControlName","clientId",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-purple-500","outline-none"],["type","date","formControlName","date",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-purple-500","outline-none"],["formControlName","category",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-purple-500","outline-none"],["value","payment"],["value","expense"],["value","refund"],["value","other"],["formControlName","description","rows","2",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-purple-500","outline-none"],["type","number","formControlName","debit","placeholder","0.00",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-purple-500","outline-none"],["type","number","formControlName","credit","placeholder","0.00",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-purple-500","outline-none"],["type","submit",1,"flex-1","px-4","py-3","bg-purple-600","hover:bg-purple-700","text-white","rounded-lg","font-bold","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"sticky","top-0","bg-gradient-to-r","from-orange-600","to-orange-700","px-6","py-4","flex","justify-between","items-center"],["formControlName","clientId",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-orange-500","outline-none"],["formControlName","type",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-orange-500","outline-none"],["value","deadline"],["value","memo"],["formControlName","priority",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-orange-500","outline-none"],["value","low"],["value","medium"],["value","high"],["formControlName","message","rows","3","placeholder","Descrivi il promemoria...",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-orange-500","outline-none"],["type","date","formControlName","dueDate",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-200","focus:ring-2","focus:ring-orange-500","outline-none"],["type","submit",1,"flex-1","px-4","py-3","bg-orange-600","hover:bg-orange-700","text-white","rounded-lg","font-bold","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"i",3),l(),d(4,"div",4)(5,"h2",5)(6,"span",6),y(7,"i",7),l(),a(8," Contabilit\xE0 e Gestione Pagamenti "),l(),d(9,"p",8),C(10,v_,1,1)(11,y_,1,0),l()()(),d(12,"div",9)(13,"div",10)(14,"div",11)(15,"div")(16,"p",12),a(17,"Incassato"),l(),d(18,"p",13),a(19),l()(),d(20,"div",14),y(21,"i",15),l()()(),d(22,"div",16)(23,"div",11)(24,"div")(25,"p",17),a(26,"In Attesa"),l(),d(27,"p",18),a(28),l()(),d(29,"div",19),y(30,"i",20),l()()(),d(31,"div",21)(32,"div",11)(33,"div")(34,"p",22),a(35,"Scaduti"),l(),d(36,"p",23),a(37),l()(),d(38,"div",24),y(39,"i",25),l()()(),d(40,"div",26)(41,"div",11)(42,"div")(43,"p",27),a(44,"Solleciti"),l(),d(45,"p",28),a(46),l()(),d(47,"div",29),y(48,"i",30),l()()()(),d(49,"div",31)(50,"h3",32),y(51,"i",33),a(52," Filtri Avanzati "),l(),d(53,"div",9)(54,"div")(55,"label",34),a(56,"Mese"),l(),d(57,"select",35),_e("ngModelChange",function(r){return Ie(i.filterMonth,r)||(i.filterMonth=r),r}),T("change",function(){return i.applyFilters()}),d(58,"option",36),a(59,"Tutti i Mesi"),l(),d(60,"option",37),a(61,"Gennaio"),l(),d(62,"option",38),a(63,"Febbraio"),l(),d(64,"option",39),a(65,"Marzo"),l(),d(66,"option",40),a(67,"Aprile"),l(),d(68,"option",41),a(69,"Maggio"),l(),d(70,"option",42),a(71,"Giugno"),l(),d(72,"option",43),a(73,"Luglio"),l(),d(74,"option",44),a(75,"Agosto"),l(),d(76,"option",45),a(77,"Settembre"),l(),d(78,"option",46),a(79,"Ottobre"),l(),d(80,"option",47),a(81,"Novembre"),l(),d(82,"option",48),a(83,"Dicembre"),l()()(),C(84,x_,8,1,"div"),d(85,"div")(86,"label",34),a(87,"Data Da"),l(),d(88,"input",49),_e("ngModelChange",function(r){return Ie(i.filterDateFrom,r)||(i.filterDateFrom=r),r}),T("change",function(){return i.applyFilters()}),l()(),d(89,"div")(90,"label",34),a(91,"Data A"),l(),d(92,"input",49),_e("ngModelChange",function(r){return Ie(i.filterDateTo,r)||(i.filterDateTo=r),r}),T("change",function(){return i.applyFilters()}),l()()(),C(93,__,4,0,"div",50),l(),d(94,"div",51)(95,"div",52)(96,"button",53),T("click",function(){return i.activeTab.set("payments")}),y(97,"i",54),a(98," Pagamenti "),l(),d(99,"button",53),T("click",function(){return i.activeTab.set("journal")}),y(100,"i",55),a(101," Prima Nota "),l(),d(102,"button",53),T("click",function(){return i.activeTab.set("reminders")}),y(103,"i",56),a(104," Promemoria "),C(105,C_,2,1,"span",57),l()(),C(106,A_,9,1,"div",58),C(107,P_,9,1,"div",58),C(108,U_,9,1,"div",58),l(),C(109,z_,46,2,"div",59),C(110,W_,51,2,"div",59),C(111,Z_,50,2,"div",59),l()),t&2&&(u(10),E(i.selectedClient()?10:11),u(9),M("\u20AC",i.totalPaid()),u(9),M("\u20AC",i.totalPending()),u(9),M("\u20AC",i.totalOverdue()),u(9),k(i.overdueClients().length),u(11),xe("ngModel",i.filterMonth),u(27),E(i.selectedClient()?-1:84),u(4),xe("ngModel",i.filterDateFrom),u(4),xe("ngModel",i.filterDateTo),u(),E(i.hasActiveFilters()?93:-1),u(3),I("bg-blue-50",i.activeTab()==="payments")("text-blue-600",i.activeTab()==="payments")("border-b-2",i.activeTab()==="payments")("border-blue-600",i.activeTab()==="payments")("text-slate-500",i.activeTab()!=="payments"),u(3),I("bg-purple-50",i.activeTab()==="journal")("text-purple-600",i.activeTab()==="journal")("border-b-2",i.activeTab()==="journal")("border-purple-600",i.activeTab()==="journal")("text-slate-500",i.activeTab()!=="journal"),u(3),I("bg-orange-50",i.activeTab()==="reminders")("text-orange-600",i.activeTab()==="reminders")("border-b-2",i.activeTab()==="reminders")("border-orange-600",i.activeTab()==="reminders")("text-slate-500",i.activeTab()!=="reminders"),u(3),E(i.activeReminders().length>0?105:-1),u(),E(i.activeTab()==="payments"?106:-1),u(),E(i.activeTab()==="journal"?107:-1),u(),E(i.activeTab()==="reminders"?108:-1),u(),E(i.showPaymentModal()?109:-1),u(),E(i.showJournalModal()?110:-1),u(),E(i.showReminderModal()?111:-1))},dependencies:[U,Pt,pn,Ft,Ot,Ye,ac,rt,Pe,fn,xt,hn,qt,Wt,pe],styles:["@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}"]})}};var Y_=(e,n)=>n.title,Q_=(e,n)=>n.id;function K_(e,n){e&1&&(d(0,"div",10),y(1,"i",32),a(2," Modificato "),l())}function J_(e,n){e&1&&(y(0,"div",15),d(1,"div",33),y(2,"i",34),a(3," Sola Lettura "),l())}function X_(e,n){e&1&&(d(0,"div",41),y(1,"i",48),l())}function eC(e,n){e&1&&(d(0,"div",42),y(1,"i",49),l())}function tC(e,n){e&1&&(d(0,"div",43),y(1,"i",50),l())}function nC(e,n){if(e&1){let t=P();d(0,"label",51)(1,"div",52)(2,"input",53),_e("ngModelChange",function(o){let r=w(t).$implicit;return Ie(r.checked,o)||(r.checked=o),D(o)}),T("change",function(){w(t);let o=v(2);return D(o.markDirty())}),l(),y(3,"i",54),l(),d(4,"span"),a(5),l()()}if(e&2){let t=n.$implicit,i=v(2);I("bg-emerald-50",t.checked)("border-emerald-200",t.checked)("pointer-events-none",!i.state.isContextEditable()),u(2),xe("ngModel",t.checked),B("disabled",!i.state.isContextEditable()),u(2),Ae("text-sm leading-snug transition-all duration-300 flex-1 "+(t.checked?"text-emerald-700 line-through font-medium":"text-slate-700 font-semibold")),u(),M(" ",t.label," ")}}function iC(e,n){if(e&1&&(d(0,"div",35)(1,"div")(2,"div",36)(3,"div",37)(4,"div",38),y(5,"i"),l(),d(6,"div")(7,"h3",39),a(8),l(),d(9,"p",40),a(10),l()()(),C(11,X_,2,0,"div",41)(12,eC,2,0,"div",42)(13,tC,2,0,"div",43),l(),d(14,"div",44),y(15,"div",45),l()(),d(16,"div",46),L(17,nC,6,11,"label",47,Q_),l()()),e&2){let t,i=n.$implicit,o=v(),r=o.getCheckedCount(i)/i.items.length*100;I("border-emerald-300",o.getSectionStatus(i)==="complete")("shadow-emerald-200",o.getSectionStatus(i)==="complete")("border-slate-200",o.getSectionStatus(i)!=="complete"),u(),Ae("p-5 flex flex-col gap-3 "+i.colorClass),u(4),Ae("fa-solid "+i.icon+" text-xl"),u(3),k(i.title),u(2),ie(" ",o.getCheckedCount(i),"/",i.items.length," Completati "),u(),E((t=o.getSectionStatus(i))==="complete"?11:t==="progress"?12:t==="pending"?13:-1),u(4),Ne("width",r,"%"),u(2),j(i.items)}}function oC(e,n){e&1&&(d(0,"span",25),y(1,"i",55),a(2," Salvataggio automatico... "),l())}function rC(e,n){e&1&&(d(0,"span",26),y(1,"i",56),a(2," Modifiche non salvate "),l())}function sC(e,n){if(e&1&&(d(0,"span",27),y(1,"i",57),a(2),X(3,"date"),l()),e&2){let t=v();u(2),M(" Ultimo salvataggio: ",ee(3,1,t.lastAutoSave(),"HH:mm:ss")," ")}}function aC(e,n){e&1&&(d(0,"span",29),y(1,"i",58),a(2," Verifica Salvata! "),l())}function lC(e,n){e&1&&(y(0,"i",59),a(1," Salvataggio... "))}function dC(e,n){e&1&&(y(0,"i",60),a(1," Registra Controlli "))}function cC(e,n){e&1&&(d(0,"p",31),y(1,"i",61),a(2," Completa tutte le voci per abilitare il salvataggio manuale definitivo. "),l())}var Rs=class e{constructor(){this.state=F(ne);this.showSuccess=R(!1);this.isSaving=R(!1);this.isAutoSaving=R(!1);this.hasUnsavedChanges=R(!1);this.lastAutoSave=R(null);this.sections=R([{title:"Fase Pre-Operativa",colorClass:"bg-blue-600 border-blue-700",icon:"fa-eye",items:[{id:"pre-1",label:"Ispezione visiva degli ambienti di lavoro",checked:!1},{id:"pre-2",label:"Verifica integrit\xE0 delle attrezzature",checked:!1},{id:"pre-3",label:"Verifica pulizia superfici prima dell'uso",checked:!1}]},{title:"Fase Operativa",colorClass:"bg-orange-500 border-orange-600",icon:"fa-fire-burner",items:[{id:"op-1",label:"Controllo temperature (Valori positivi)",checked:!1},{id:"op-2",label:"Controllo temperature (Valori negativi)",checked:!1},{id:"op-3",label:"Evitare contaminazioni crociate (Sporco/Pulito)",checked:!1},{id:"op-4",label:"Compilazione schede monitoraggio produzione",checked:!1}]},{title:"Fase Post-Operativa",colorClass:"bg-emerald-600 border-emerald-700",icon:"fa-broom",items:[{id:"post-1",label:"Pulizia e disinfezione ambienti di lavoro",checked:!1},{id:"post-2",label:"Sanificazione attrezzature utilizzate",checked:!1},{id:"post-3",label:"Adeguata conservazione prodotti finiti",checked:!1},{id:"post-4",label:"Stoccaggio semilavorati e materie prime",checked:!1}]}]);ye(()=>{this.state.filterDate(),this.resetViewForNewDate()},{allowSignalWrites:!0})}ngOnInit(){this.autoSaveTimer=setInterval(()=>{this.hasUnsavedChanges()&&this.state.isContextEditable()&&this.saveChecklist("AUTO")},6e4)}ngOnDestroy(){this.autoSaveTimer&&clearInterval(this.autoSaveTimer)}getCheckedCount(n){return n.items.filter(t=>t.checked).length}getSectionStatus(n){let t=this.getCheckedCount(n);return t===n.items.length?"complete":t>0?"progress":"pending"}isAllChecked(){return this.sections().every(n=>n.items.every(t=>t.checked))}markDirty(){this.state.isContextEditable()&&this.hasUnsavedChanges.set(!0)}resetViewForNewDate(){this.showSuccess.set(!1),this.hasUnsavedChanges.set(!1),this.lastAutoSave.set(null),this.resetChecks()}saveChecklist(n="MANUAL"){this.state.isContextEditable()&&(n==="MANUAL"&&!this.isAllChecked()||(n==="MANUAL"?this.isSaving.set(!0):this.isAutoSaving.set(!0),setTimeout(()=>{n==="MANUAL"?(this.isSaving.set(!1),this.showSuccess.set(!0),setTimeout(()=>{this.showSuccess.set(!1)},3e3)):(this.isAutoSaving.set(!1),this.lastAutoSave.set(new Date)),this.hasUnsavedChanges.set(!1),console.log(`Checklist saved (${n}) to database:`,{date:this.state.filterDate(),user:this.state.currentUser()?.id,data:this.sections(),mode:n})},1500)))}resetChecks(){this.sections.update(n=>n.map(t=>N(A({},t),{items:t.items.map(i=>N(A({},i),{checked:!1}))})))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-operational-checklist"]],decls:48,vars:18,consts:[[1,"space-y-6","pb-10"],[1,"bg-gradient-to-r","from-emerald-600","via-teal-600","to-cyan-600","p-8","rounded-3xl","shadow-2xl","border","border-emerald-500/20","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-clipboard-check","text-9xl","text-white"],[1,"relative","z-10","flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","gap-6"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-sm","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-clipboard-check","text-white"],[1,"text-emerald-50","text-sm","mt-2","font-medium","ml-1"],[1,"relative","flex","items-center","gap-4","bg-white/10","backdrop-blur-sm","px-5","py-3","rounded-xl","border","border-white/30","shadow-lg"],[1,"absolute","-top-2","-right-2","bg-orange-500","text-white","text-[10px]","font-bold","px-2","py-0.5","rounded-full","shadow-md","animate-pulse","border-2","border-white","z-10","flex","items-center"],[1,"flex","flex-col"],[1,"text-xs","text-white/70","font-bold","uppercase","mb-0.5"],[1,"font-bold","text-white","text-sm","flex","items-center"],[1,"fa-regular","fa-calendar","mr-2"],[1,"h-8","w-px","bg-white/30"],[1,"flex","items-center"],[1,"font-bold","text-white"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-2xl","shadow-lg","border-2","overflow-hidden","flex","flex-col","h-full","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1",3,"border-emerald-300","shadow-emerald-200","border-slate-200"],[1,"bg-gradient-to-r","from-slate-50","to-white","p-6","rounded-2xl","shadow-lg","border-2","border-slate-200","flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"flex","flex-col","gap-2","max-w-lg"],[1,"text-xs","text-slate-500","flex","items-center","font-medium"],[1,"fa-solid","fa-circle-info","mr-2","text-blue-500","text-lg"],[1,"flex","items-center","gap-3","ml-7","h-5"],[1,"text-xs","text-blue-600","font-bold","flex","items-center","animate-pulse"],[1,"text-xs","text-orange-600","font-bold","flex","items-center","animate-pulse"],[1,"text-[10px]","text-slate-400","font-medium","flex","items-center"],[1,"flex","items-center","gap-4"],[1,"text-emerald-600","font-black","flex","items-center","animate-pulse","text-lg"],[1,"px-8","py-4","bg-gradient-to-r","from-emerald-600","to-teal-600","text-white","rounded-xl","hover:from-emerald-700","hover:to-teal-700","transition-all","shadow-xl","shadow-emerald-200","font-black","text-lg","flex","items-center","disabled:opacity-50","disabled:cursor-not-allowed","disabled:shadow-none","transform","hover:scale-105","active:scale-95",3,"click","disabled"],[1,"text-center","text-sm","text-orange-600","font-bold","bg-orange-50","py-3","px-6","rounded-xl","border-2","border-orange-200"],[1,"fa-solid","fa-pencil","mr-1"],[1,"flex","items-center","text-orange-300","font-bold","text-xs","uppercase","px-2"],[1,"fa-solid","fa-lock","mr-1"],[1,"bg-white","rounded-2xl","shadow-lg","border-2","overflow-hidden","flex","flex-col","h-full","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","rounded-xl","bg-white/20","backdrop-blur-sm","flex","items-center","justify-center","text-white","shadow-lg","border","border-white/30"],[1,"font-black","text-white","leading-tight","text-lg"],[1,"text-xs","text-white/80","font-medium","mt-0.5"],[1,"w-10","h-10","rounded-full","bg-white","text-emerald-600","flex","items-center","justify-center","shadow-xl","transform","scale-110","animate-bounce"],[1,"w-10","h-10","rounded-full","bg-white/20","text-white","flex","items-center","justify-center","border-2","border-white/40"],[1,"w-10","h-10","rounded-full","bg-white/10","text-white/50","flex","items-center","justify-center","border-2","border-white/20"],[1,"w-full","h-2","bg-white/20","rounded-full","overflow-hidden","backdrop-blur-sm"],[1,"h-full","bg-white","rounded-full","transition-all","duration-500","ease-out","shadow-lg"],[1,"p-5","flex-1","space-y-2"],[1,"flex","items-start","gap-3","p-3","rounded-xl","cursor-pointer","transition-all","duration-200","border-2","border-transparent","hover:border-slate-100","hover:bg-slate-50","group","select-none","active:scale-[0.98]",3,"bg-emerald-50","border-emerald-200","pointer-events-none"],[1,"fa-solid","fa-check","text-xl"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"fa-solid","fa-minus"],[1,"flex","items-start","gap-3","p-3","rounded-xl","cursor-pointer","transition-all","duration-200","border-2","border-transparent","hover:border-slate-100","hover:bg-slate-50","group","select-none","active:scale-[0.98]"],[1,"relative","flex","items-center","mt-0.5"],["type","checkbox",1,"peer","h-6","w-6","cursor-pointer","appearance-none","rounded-lg","border-2","border-slate-300","shadow-sm","checked:border-emerald-500","checked:bg-emerald-500","hover:border-emerald-400","focus:outline-none","focus:ring-2","focus:ring-emerald-200","focus:ring-offset-1","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","change","ngModel","disabled"],[1,"fa-solid","fa-check","absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2","text-sm","text-white","opacity-0","scale-0","peer-checked:opacity-100","peer-checked:scale-100","transition-all","duration-300","ease-[cubic-bezier(0.34,1.56,0.64,1)]","pointer-events-none"],[1,"fa-solid","fa-cloud-arrow-up","mr-1.5"],[1,"fa-solid","fa-circle-exclamation","mr-1.5"],[1,"fa-solid","fa-cloud-check","mr-1.5","text-emerald-400"],[1,"fa-solid","fa-circle-check","mr-2"],[1,"fa-solid","fa-circle-notch","fa-spin","mr-2"],[1,"fa-solid","fa-save","mr-2"],[1,"fa-solid","fa-triangle-exclamation","mr-2"]],template:function(t,i){if(t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"i",3),l(),d(4,"div",4)(5,"div")(6,"h2",5)(7,"span",6),y(8,"i",7),l(),a(9," Controllo Operativo Giornaliero "),l(),d(10,"p",8),a(11," Verifica delle fasi Pre-Operativa, Operativa e Post-Operativa "),l()(),d(12,"div",9),C(13,K_,3,0,"div",10),d(14,"div",11)(15,"span",12),a(16,"Data Verifica"),l(),d(17,"div",13),y(18,"i",14),a(19),X(20,"date"),l()(),C(21,J_,4,0),y(22,"div",15),d(23,"div",11)(24,"span",12),a(25,"Operatore"),l(),d(26,"div",16)(27,"span",17),a(28),l()()()()()(),d(29,"div",18),L(30,iC,19,16,"div",19,Y_),l(),d(32,"div",20)(33,"div",21)(34,"div",22),y(35,"i",23),d(36,"span"),a(37,"Riferirsi sempre al piano di autocontrollo H.A.C.C.P. per procedure correttive."),l()(),d(38,"div",24),C(39,oC,3,0,"span",25)(40,rC,3,0,"span",26)(41,sC,4,4,"span",27),l()(),d(42,"div",28),C(43,aC,3,0,"span",29),d(44,"button",30),T("click",function(){return i.saveChecklist("MANUAL")}),C(45,lC,2,0)(46,dC,2,0),l()()(),C(47,cC,3,0,"p",31),l()),t&2){let o;u(12),I("ring-2",i.hasUnsavedChanges())("ring-orange-300",i.hasUnsavedChanges()),u(),E(i.hasUnsavedChanges()?13:-1),u(6),M(" ",ee(20,15,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.state.isContextEditable()?-1:21),u(7),k((o=i.state.currentUser())==null?null:o.name),u(),I("opacity-70",!i.state.isContextEditable()),u(),j(i.sections()),u(9),E(i.isAutoSaving()?39:i.hasUnsavedChanges()?40:i.lastAutoSave()?41:-1),u(4),E(i.showSuccess()?43:-1),u(),B("disabled",i.isSaving()||!i.isAllChecked()||!i.state.isContextEditable()),u(),E(i.isSaving()?45:46),u(2),E(!i.isAllChecked()&&!i.showSuccess()?47:-1)}},dependencies:[U,Pt,Xd,Pe,xt,pe],encapsulation:2})}};var uC=(e,n)=>n.id;function fC(e,n){e&1&&(p(0,"span",17),x(1,"i",19),a(2,"Verificato "),m())}function pC(e,n){e&1&&(p(0,"span",18),x(1,"i",20),a(2,"Da Verificare "),m())}function mC(e,n){if(e&1){let t=P();p(0,"div",11),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",12)(2,"div",13)(3,"div"),x(4,"i",14),m(),p(5,"div",15)(6,"h3",16),a(7),m()()(),C(8,fC,3,0,"span",17)(9,pC,3,0,"span",18),m()()}if(e&2){let t=n.$implicit;I("border-purple-300",t.checked)("shadow-purple-200",t.checked)("border-slate-200",!t.checked),u(3),Ae("w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 shadow-lg "+(t.checked?"bg-gradient-to-br from-purple-500 to-violet-600 text-white scale-110 animate-bounce":"bg-slate-100 text-slate-300 group-hover:bg-slate-200")),u(3),I("text-purple-700",t.checked),u(),M(" ",t.label," "),u(),E(t.checked?8:9)}}var Fs=class e{constructor(){this.checks=R([{id:"t-1",label:"VERIFICA POSSESSO ATTESTATO DI FORMAZIONE (HACCP / Sicurezza)",checked:!1},{id:"t-2",label:"PROCEDERE CON GLI AGGIORNAMENTI IN SICUREZZA ALIMENTARE",checked:!1},{id:"t-3",label:"CONTROLLARE LE ISTRUZIONI DI LAVORO E PROCEDURE OPERATIVE",checked:!1}])}toggleCheck(n){this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-staff-training-checklist"]],decls:14,vars:0,consts:[[1,"space-y-6","pb-10","animate-fade-in","h-full","flex","flex-col"],[1,"bg-gradient-to-r","from-purple-600","via-violet-600","to-indigo-600","p-8","rounded-3xl","shadow-2xl","border","border-purple-500/20","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-user-graduate","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-sm","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-user-graduate","text-white"],[1,"text-purple-50","text-sm","mt-2","font-medium","ml-1"],[1,"space-y-4"],[1,"bg-white","p-6","rounded-2xl","shadow-lg","border-2","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1","cursor-pointer","group",3,"border-purple-300","shadow-purple-200","border-slate-200"],[1,"bg-white","p-6","rounded-2xl","shadow-lg","border-2","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1","cursor-pointer","group",3,"click"],[1,"flex","items-center","justify-between","gap-5"],[1,"flex","items-center","gap-5","flex-1"],[1,"fa-solid","fa-check","text-3xl"],[1,"flex-1"],[1,"font-black","text-slate-800","text-lg","leading-tight","tracking-tight"],[1,"bg-purple-100","text-purple-700","font-black","text-sm","px-4","py-2","rounded-xl","tracking-wide","uppercase","border-2","border-purple-300","shadow-md"],[1,"bg-slate-100","text-slate-500","font-bold","text-sm","px-4","py-2","rounded-xl","tracking-wide","uppercase","border-2","border-slate-200"],[1,"fa-solid","fa-circle-check","mr-2"],[1,"fa-regular","fa-circle","mr-2"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Formazione Personale "),m(),p(9,"p",8),a(10," Verifica competenze e procedure di sicurezza alimentare "),m()()(),p(11,"div",9),L(12,mC,10,12,"div",10,uC),m()()),t&2&&(u(12),j(i.checks()))},dependencies:[U],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};function hC(e,n){e&1&&(p(0,"span",16),x(1,"i",18),a(2,"Verificato "),m())}function gC(e,n){e&1&&(p(0,"span",17),x(1,"i",19),a(2,"Da Verificare "),m())}var Os=class e{constructor(){this.globalCheck=R(!1)}toggleGlobalCheck(){this.globalCheck.update(n=>!n)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-suppliers-view"]],decls:23,vars:11,consts:[[1,"space-y-6","pb-10","animate-fade-in","h-full","flex","flex-col"],[1,"bg-gradient-to-r","from-blue-600","via-sky-600","to-cyan-600","p-8","rounded-3xl","shadow-2xl","border","border-blue-500/20","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-truck-field","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-sm","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-truck-field","text-white"],[1,"text-blue-50","text-sm","mt-2","font-medium","ml-1"],[1,"bg-white","p-6","rounded-2xl","shadow-lg","border-2","transition-all","duration-300","hover:shadow-xl","hover:-translate-y-1","cursor-pointer","group",3,"click"],[1,"flex","items-center","justify-between","gap-5"],[1,"flex","items-center","gap-5","flex-1"],[1,"fa-solid","fa-check","text-3xl"],[1,"flex-1"],[1,"font-black","text-slate-800","text-lg","leading-tight","tracking-tight"],[1,"text-slate-500","text-sm","mt-1","font-medium"],[1,"bg-blue-100","text-blue-700","font-black","text-sm","px-4","py-2","rounded-xl","tracking-wide","uppercase","border-2","border-blue-300","shadow-md"],[1,"bg-slate-100","text-slate-500","font-bold","text-sm","px-4","py-2","rounded-xl","tracking-wide","uppercase","border-2","border-slate-200"],[1,"fa-solid","fa-circle-check","mr-2"],[1,"fa-regular","fa-circle","mr-2"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Elenco Fornitori "),m(),p(9,"p",8),a(10," Gestione conformit\xE0 e requisiti di legge "),m()()(),p(11,"div",9),G("click",function(){return i.toggleGlobalCheck()}),p(12,"div",10)(13,"div",11)(14,"div"),x(15,"i",12),m(),p(16,"div",13)(17,"h3",14),a(18," Verifica Requisiti di Legge "),m(),p(19,"p",15),a(20," Verifica per tutti i fornitori del possesso dei requisiti di legge "),m()()(),C(21,hC,3,0,"span",16)(22,gC,3,0,"span",17),m()()()),t&2&&(u(11),I("border-blue-300",i.globalCheck())("shadow-blue-200",i.globalCheck())("border-slate-200",!i.globalCheck()),u(3),Ae("w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 shadow-lg "+(i.globalCheck()?"bg-gradient-to-br from-blue-500 to-cyan-600 text-white scale-110 animate-bounce":"bg-slate-100 text-slate-300 group-hover:bg-slate-200")),u(3),I("text-blue-700",i.globalCheck()),u(4),E(i.globalCheck()?21:22))},dependencies:[U],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var vC=(e,n)=>n.id;function yC(e,n){e&1&&(p(0,"span",21),x(1,"i",23),a(2," VERIFICATO "),m())}function bC(e,n){e&1&&(p(0,"span",22),x(1,"i",24),a(2," DA VERIFICARE "),m())}function xC(e,n){if(e&1){let t=P();p(0,"div",14),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",15)(2,"div",16),x(3,"i",17),m(),p(4,"div",18)(5,"h3",19),a(6),m(),p(7,"div",20),C(8,yC,3,0,"span",21)(9,bC,3,0,"span",22),m()()()()}if(e&2){let t=n.$implicit;I("border-teal-200",!t.checked)("border-teal-500",t.checked)("bg-teal-50",t.checked)("shadow-lg",t.checked)("shadow-teal-200/50",t.checked),u(2),I("bg-teal-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-teal-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-circle-dashed",!t.checked),u(3),M(" ",t.label," "),u(2),E(t.checked?8:9)}}var Ps=class e{constructor(){this.checks=R([{id:"abiti",label:"PULIZIA ABITI DA LAVORO",checked:!1},{id:"igiene",label:"IGIENE DELLA PERSONA (CAPELLI RACCOLTI, UNGHIE PULITE, ASSENZA FERITE, TOSSE O ALTRO)",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length)}toggleCheck(n){this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-cleaning-products-view"]],decls:19,vars:2,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-teal-600","via-cyan-600","to-blue-600","p-8","rounded-3xl","shadow-xl","border","border-teal-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-pump-soap","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-pump-soap"],[1,"text-cyan-100","text-sm","mt-2","font-medium","ml-1"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-flask-vial","text-white","text-lg"],[1,"text-white","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"border-teal-200","border-teal-500","bg-teal-50","shadow-lg","shadow-teal-200/50"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-teal-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Prodotti Pulizia "),m(),p(9,"p",8),a(10," Elenco prodotti detergenti e sanificanti autorizzati "),m()(),p(11,"div",4)(12,"div",9),x(13,"i",10),p(14,"span",11),a(15),m()()()(),p(16,"div",12),L(17,xC,10,28,"div",13,vC),m()()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(2),j(i.checks()))},dependencies:[U],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var _C=(e,n)=>n.id;function CC(e,n){e&1&&(p(0,"span",21),x(1,"i",23),a(2," COMPLETATO "),m())}function EC(e,n){e&1&&(p(0,"span",22),x(1,"i",24),a(2," DA COMPLETARE "),m())}function wC(e,n){if(e&1){let t=P();p(0,"div",14),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",15)(2,"div",16),x(3,"i",17),m(),p(4,"div",18)(5,"h3",19),a(6),m(),p(7,"div",20),C(8,CC,3,0,"span",21)(9,EC,3,0,"span",22),m()()()()}if(e&2){let t=n.$implicit;I("border-orange-200",!t.checked)("border-orange-500",t.checked)("bg-orange-50",t.checked)("shadow-lg",t.checked)("shadow-orange-200/50",t.checked),u(2),I("bg-orange-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-orange-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-tools",!t.checked),u(3),M(" ",t.label," "),u(2),E(t.checked?8:9)}}var Vs=class e{constructor(){this.checks=R([{id:"instructions",label:"DOTARE LE ATTREZZATURE DELLE ISTRUZIONI DI USO E MANUTENZIONE",checked:!1},{id:"monitoring",label:"MONITORAGGIO MANUTENZIONE CON REGISTRAZIONE",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length)}toggleCheck(n){this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-equipment-view"]],decls:19,vars:2,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-orange-600","via-amber-600","to-yellow-600","p-8","rounded-3xl","shadow-xl","border","border-orange-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-blender","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-blender"],[1,"text-orange-100","text-sm","mt-2","font-medium","ml-1"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-wrench","text-white","text-lg"],[1,"text-white","font-bold"],[1,"grid","grid-cols-1","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"border-orange-200","border-orange-500","bg-orange-50","shadow-lg","shadow-orange-200/50"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-orange-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Elenco Attrezzature "),m(),p(9,"p",8),a(10," Gestione e manutenzione attrezzature operative "),m()(),p(11,"div",4)(12,"div",9),x(13,"i",10),p(14,"span",11),a(15),m()()()(),p(16,"div",12),L(17,wC,10,28,"div",13,_C),m()()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(2),j(i.checks()))},dependencies:[U],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var DC=(e,n)=>n.id;function IC(e,n){e&1&&(p(0,"span",21),x(1,"i",23),a(2," VERIFICATO "),m())}function SC(e,n){e&1&&(p(0,"span",22),x(1,"i",24),a(2," DA VERIFICARE "),m())}function MC(e,n){if(e&1){let t=P();p(0,"div",14),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",15)(2,"div",16),x(3,"i",17),m(),p(4,"div",18)(5,"h3",19),a(6),m(),p(7,"div",20),C(8,IC,3,0,"span",21)(9,SC,3,0,"span",22),m()()()()}if(e&2){let t=n.$implicit;I("border-indigo-200",!t.checked)("border-indigo-500",t.checked)("bg-indigo-50",t.checked)("shadow-lg",t.checked)("shadow-indigo-200/50",t.checked),u(2),I("bg-indigo-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-indigo-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-box",!t.checked),u(3),M(" ",t.label," "),u(2),E(t.checked?8:9)}}var Ls=class e{constructor(){this.checks=R([{id:"packaging",label:"VERIFICA ASPETTO IMBALLI",checked:!1},{id:"expiry",label:"VERIFICA SCADENZA E LOTTO",checked:!1},{id:"transport",label:"VERIFICA CORRETTE CONDIZIONI DI TRASPORTO",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length)}toggleCheck(n){this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-goods-receipt-view"]],decls:19,vars:2,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-indigo-600","via-purple-600","to-pink-600","p-8","rounded-3xl","shadow-xl","border","border-indigo-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-box-open","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-box-open"],[1,"text-purple-100","text-sm","mt-2","font-medium","ml-1"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-clipboard-check","text-white","text-lg"],[1,"text-white","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"border-indigo-200","border-indigo-500","bg-indigo-50","shadow-lg","shadow-indigo-200/50"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-indigo-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Ricezione Prodotti "),m(),p(9,"p",8),a(10," Controllo conformit\xE0 merce in arrivo "),m()(),p(11,"div",4)(12,"div",9),x(13,"i",10),p(14,"span",11),a(15),m()()()(),p(16,"div",12),L(17,MC,10,28,"div",13,DC),m()()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(2),j(i.checks()))},dependencies:[U],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var TC=(e,n)=>n.id;function AC(e,n){e&1&&(p(0,"span",21),x(1,"i",23),a(2," VERIFICATO "),m())}function kC(e,n){e&1&&(p(0,"span",22),x(1,"i",24),a(2," DA VERIFICARE "),m())}function NC(e,n){if(e&1){let t=P();p(0,"div",14),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",15)(2,"div",16),x(3,"i",17),m(),p(4,"div",18)(5,"h3",19),a(6),m(),p(7,"div",20),C(8,AC,3,0,"span",21)(9,kC,3,0,"span",22),m()()()()}if(e&2){let t=n.$implicit;I("border-blue-200",!t.checked)("border-blue-500",t.checked)("bg-blue-50",t.checked)("shadow-lg",t.checked)("shadow-blue-200/50",t.checked),u(2),I("bg-blue-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-blue-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-temperature-low",!t.checked),u(3),M(" ",t.label," "),u(2),E(t.checked?8:9)}}var js=class e{constructor(){this.checks=R([{id:"perishable",label:"ALIMENTI DEPERIBILI RIPORRE ALLA TEMPERATURA POSITIVA O NEGATIVA",checked:!1},{id:"non-perishable",label:"ALIMENTI NON DEPERIBILI RIPORRE NEL DEPOSITO/MAGAZZINO",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length)}toggleCheck(n){this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-food-conservation-view"]],decls:19,vars:2,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-blue-600","via-sky-600","to-cyan-600","p-8","rounded-3xl","shadow-xl","border","border-blue-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-temperature-half","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-temperature-half"],[1,"text-sky-100","text-sm","mt-2","font-medium","ml-1"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-snowflake","text-white","text-lg"],[1,"text-white","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"border-blue-200","border-blue-500","bg-blue-50","shadow-lg","shadow-blue-200/50"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","cursor-pointer","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-blue-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Conservazione Alimenti "),m(),p(9,"p",8),a(10," Monitoraggio temperature e stoccaggio "),m()(),p(11,"div",4)(12,"div",9),x(13,"i",10),p(14,"span",11),a(15),m()()()(),p(16,"div",12),L(17,NC,10,28,"div",13,TC),m()()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(2),j(i.checks()))},dependencies:[U],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var RC=(e,n)=>n.id;function FC(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function OC(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function PC(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function VC(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,OC,3,0,"span",27)(9,PC,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-cyan-200",!t.checked)("border-cyan-500",t.checked)("bg-cyan-50",t.checked)("shadow-lg",t.checked)("shadow-cyan-200/50",t.checked),u(2),I("bg-cyan-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-cyan-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-temperature-arrow-down",!t.checked),u(3),k(t.label),u(2),E(t.checked?8:9)}}function LC(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3,"Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati."),m()())}var Bs=class e{constructor(){this.state=F(ne);this.moduleId="temperatures";this.checks=R([{id:"fridge",label:"TEMPERATURE FRIGORIGERI +4\xB0C - +8\xB0C",checked:!1},{id:"freezer",label:"TEMPERATURE CONGELATORI -18\xB0C \u2013 24\xB0C",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return this.state.isContextEditable()}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-temperatures-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-cyan-600","via-sky-600","to-blue-600","p-8","rounded-3xl","shadow-xl","border","border-cyan-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-thermometer","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-thermometer"],[1,"text-cyan-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-temperature-three-quarters","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-cyan-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-cyan-200","border-cyan-500","bg-cyan-50","shadow-lg","shadow-cyan-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-cyan-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Temperature "),m(),p(9,"p",8),a(10,"Controllo temperature attrezzature"),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,FC,4,1),m()()(),p(21,"div",15),L(22,VC,10,34,"div",16,RC),m(),C(24,LC,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var yh=(e,n)=>n.id;function jC(e,n){e&1&&(y(0,"div",16),d(1,"div",17),y(2,"i",18),a(3," Sola Lettura "),l())}function BC(e,n){if(e&1&&(d(0,"div",10)(1,"div",12)(2,"span",13),a(3,"Data Operazione"),l(),d(4,"div",14),y(5,"i",15),a(6),X(7,"date"),l()(),C(8,jC,4,0),l()),e&2){let t=v();u(6),M(" ",ee(7,2,t.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(t.state.isContextEditable()?-1:8)}}function HC(e,n){if(e&1){let t=P();d(0,"button",46),T("click",function(){w(t);let o=v(2);return D(o.cancelEdit())}),y(1,"i",47),a(2," Annulla Modifica "),l()}}function UC(e,n){e&1&&(y(0,"i",48),a(1," Aggiorna Prodotto "))}function $C(e,n){e&1&&(y(0,"i",49),a(1," Aggiungi alla Lista "))}function zC(e,n){e&1&&(d(0,"div",44)(1,"div",50),y(2,"i",51),l(),d(3,"p",52),a(4,"Nessun prodotto caricato in questa data."),l()())}function GC(e,n){e&1&&y(0,"i",65)}function WC(e,n){if(e&1){let t=P();d(0,"tr",59)(1,"td",60)(2,"div",61),a(3),l(),d(4,"div",62),a(5),X(6,"date"),l()(),d(7,"td",60)(8,"span",63),a(9),l()(),d(10,"td",60)(11,"div",64),a(12),X(13,"date"),C(14,GC,1,0,"i",65),l()(),d(15,"td",66)(16,"div",67)(17,"button",68),T("click",function(){let o=w(t).$implicit,r=v(3);return D(r.editEntry(o))}),y(18,"i",69),l(),d(19,"button",70),T("click",function(){let o=w(t).$implicit,r=v(3);return D(r.deleteEntry(o.id))}),y(20,"i",71),l()()()()}if(e&2){let t=n.$implicit,i=v(3);u(3),k(t.productName),u(2),M("Prep: ",ee(6,11,t.preparationDate,"dd/MM/yyyy")),u(4),M("L-",t.lotNumber),u(2),I("text-red-500",i.isExpired(t.expiryDate)),u(),M(" ",ee(13,14,t.expiryDate,"dd/MM")," "),u(2),E(i.isExpired(t.expiryDate)?14:-1),u(2),I("opacity-50",!i.state.isContextEditable()),u(),B("disabled",!i.state.isContextEditable()),u(2),B("disabled",!i.state.isContextEditable())}}function qC(e,n){if(e&1&&(d(0,"div",45)(1,"div",53)(2,"table",54)(3,"thead")(4,"tr",55)(5,"th",56),a(6,"Prodotto"),l(),d(7,"th",56),a(8,"Lotto"),l(),d(9,"th",56),a(10,"Scadenza"),l(),d(11,"th",57),a(12,"Azioni"),l()()(),d(13,"tbody",58),L(14,WC,21,17,"tr",59,yh),l()()()()),e&2){let t=v(2);u(14),j(t.dailyEntries())}}function ZC(e,n){if(e&1){let t=P();d(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),y(4,"i",23),l(),d(5,"div")(6,"h3",24),a(7),l(),d(8,"p",25),a(9),X(10,"date"),l()()(),C(11,HC,3,0,"button",26),l(),d(12,"div",27)(13,"div")(14,"label",28),a(15,"NOME DEL PRODOTTO "),d(16,"span",29),a(17,"*"),l()(),d(18,"input",30),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.formData.productName,o)||(r.formData.productName=o),D(o)}),l()(),d(19,"div",31)(20,"div")(21,"label",28),a(22,"DATA PREPARAZIONE "),d(23,"span",29),a(24,"*"),l()(),d(25,"input",32),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.formData.preparationDate,o)||(r.formData.preparationDate=o),D(o)}),l()(),d(26,"div")(27,"label",28),a(28,"DATA SCADENZA "),d(29,"span",29),a(30,"*"),l()(),d(31,"input",32),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.formData.expiryDate,o)||(r.formData.expiryDate=o),D(o)}),l()()(),d(32,"div")(33,"label",28),a(34,"N\xB0 DI LOTTO "),d(35,"span",29),a(36,"*"),l()(),d(37,"div",33)(38,"div",34)(39,"span",35),a(40,"L-"),l()(),d(41,"input",36),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.formData.lotNumber,o)||(r.formData.lotNumber=o),D(o)}),l()()(),d(42,"div")(43,"label",28),a(44,"ALTRO (Note opzionali)"),l(),d(45,"textarea",37),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.formData.notes,o)||(r.formData.notes=o),D(o)}),l()()(),d(46,"div",38)(47,"button",39),T("click",function(){w(t);let o=v();return D(o.saveEntry())}),C(48,UC,2,0)(49,$C,2,0),l()()(),d(50,"div",40)(51,"h3",41),y(52,"i",42),a(53),X(54,"date"),d(55,"span",43),a(56),l()(),C(57,zC,5,0,"div",44)(58,qC,16,0,"div",45),l()}if(e&2){let t=v();I("opacity-60",!t.state.isContextEditable())("pointer-events-none",!t.state.isContextEditable()),u(4),I("fa-pen-to-square",!t.editingEntryId())("fa-edit",t.editingEntryId()),u(3),k(t.editingEntryId()?"Modifica Prodotto":"Nuovo Prodotto"),u(2),M("Registrazione per data: ",ee(10,34,t.state.filterDate(),"dd/MM/yyyy")),u(2),E(t.editingEntryId()?11:-1),u(7),xe("ngModel",t.formData.productName),B("disabled",!t.state.isContextEditable()),u(7),xe("ngModel",t.formData.preparationDate),B("disabled",!t.state.isContextEditable()),u(6),xe("ngModel",t.formData.expiryDate),B("disabled",!t.state.isContextEditable()),u(10),xe("ngModel",t.formData.lotNumber),B("disabled",!t.state.isContextEditable()),u(4),xe("ngModel",t.formData.notes),B("disabled",!t.state.isContextEditable()),u(2),I("bg-emerald-600",!t.editingEntryId())("text-white",!t.editingEntryId())("bg-amber-500",t.editingEntryId())("text-white",t.editingEntryId()),B("disabled",!t.isValid()||!t.state.isContextEditable()),u(),E(t.editingEntryId()?48:49),u(5),M(" Prodotti caricati il ",ee(54,37,t.state.filterDate(),"dd/MM/yyyy")," "),u(3),M("",t.dailyEntries().length," items"),u(),E(t.dailyEntries().length===0?57:58)}}function YC(e,n){if(e&1){let t=P();d(0,"button",87),T("click",function(){w(t);let o=v(2);return D(o.historyFilterDate.set(""))}),y(1,"i",88),l()}}function QC(e,n){if(e&1){let t=P();d(0,"tr",86)(1,"td",60)(2,"span",89),a(3),X(4,"date"),l()(),d(5,"td",60)(6,"div",61),a(7),l(),d(8,"div",90),a(9),l()(),d(10,"td",60)(11,"span",91),a(12),l()(),d(13,"td",66)(14,"button",92),T("click",function(){let o=w(t).$implicit,r=v(2);return D(r.deleteEntry(o.id))}),y(15,"i",93),l()()()}if(e&2){let t=n.$implicit,i=v(2);u(3),k(ee(4,5,t.registrationDate,"dd/MM/yy")),u(4),k(t.productName),u(2),k(t.notes),u(3),M("L-",t.lotNumber),u(2),B("disabled",!i.state.isContextEditable())}}function KC(e,n){e&1&&(d(0,"tr")(1,"td",94),a(2," Nessun dato trovato con i filtri attuali. "),l()())}function JC(e,n){if(e&1){let t=P();d(0,"div",11)(1,"div",72)(2,"div",73)(3,"div")(4,"label",74),a(5,"Filtra per Data"),l(),d(6,"div",75)(7,"input",76),T("ngModelChange",function(o){w(t);let r=v();return D(r.historyFilterDate.set(o))}),l(),C(8,YC,2,0,"button",77),l()(),d(9,"div",78)(10,"div",79),a(11),l(),d(12,"div",80),a(13,"Prodotti Trovati"),l()()()(),d(14,"div",45)(15,"div",81)(16,"h3",82),a(17,"Registro Completo Rintracciabilit\xE0"),l()(),d(18,"div",83)(19,"table",54)(20,"thead",84)(21,"tr",85)(22,"th",56),a(23,"Data Reg."),l(),d(24,"th",56),a(25,"Prodotto"),l(),d(26,"th",56),a(27,"Lotto"),l(),d(28,"th",57),a(29,"Azioni"),l()()(),d(30,"tbody",58),L(31,QC,16,8,"tr",86,yh),C(33,KC,3,0,"tr"),l()()()()()}if(e&2){let t=v();u(7),B("ngModel",t.historyFilterDate()),u(),E(t.historyFilterDate()?8:-1),u(3),k(t.filteredHistory().length),u(20),j(t.filteredHistory()),u(2),E(t.filteredHistory().length===0?33:-1)}}var Hs=class e{constructor(){this.state=F(ne);this.viewMode=R("daily");this.historyFilterDate=R("");this.allEntries=R([]);this.editingEntryId=R(null);this.dailyEntries=V(()=>this.allEntries().filter(n=>n.registrationDate===this.state.filterDate()));this.filteredHistory=V(()=>{let n=this.allEntries().sort((t,i)=>new Date(i.registrationDate).getTime()-new Date(t.registrationDate).getTime());return this.historyFilterDate()&&(n=n.filter(t=>t.registrationDate===this.historyFilterDate())),n});this.formData={productName:"",preparationDate:"",expiryDate:"",lotNumber:"",notes:""};ye(()=>{let n=this.state.filterDate();!this.editingEntryId()&&this.formData.preparationDate},{allowSignalWrites:!0})}ngOnInit(){this.loadData(),this.formData.preparationDate=this.state.filterDate()}loadData(){let n=localStorage.getItem("haccp_traceability_data");if(n)try{this.allEntries.set(JSON.parse(n))}catch(t){console.error("Failed to parse traceability data",t)}}saveAll(){localStorage.setItem("haccp_traceability_data",JSON.stringify(this.allEntries()))}resetForm(){this.formData={productName:"",preparationDate:this.state.filterDate(),expiryDate:"",lotNumber:"",notes:""},this.editingEntryId.set(null)}isValid(){return this.formData.productName&&this.formData.preparationDate&&this.formData.expiryDate&&this.formData.lotNumber}saveEntry(){if(!this.isValid()||!this.state.isContextEditable())return;let n={id:this.editingEntryId()||crypto.randomUUID(),productName:this.formData.productName,preparationDate:this.formData.preparationDate,expiryDate:this.formData.expiryDate,lotNumber:this.formData.lotNumber,notes:this.formData.notes,operator:this.state.currentUser()?.name||"Admin",registrationDate:this.state.filterDate()};this.editingEntryId()?this.allEntries.update(t=>t.map(i=>i.id===n.id?n:i)):this.allEntries.update(t=>[n,...t]),this.saveAll(),this.resetForm()}editEntry(n){if(this.state.isContextEditable()){if(n.registrationDate!==this.state.filterDate())if(confirm("Questo elemento appartiene a una data diversa. Visualizzare la data corrispondente?"))this.state.setDateFilter(n.registrationDate);else return;this.editingEntryId.set(n.id),this.formData={productName:n.productName,preparationDate:n.preparationDate,expiryDate:n.expiryDate,lotNumber:n.lotNumber,notes:n.notes},this.viewMode.set("daily"),window.scrollTo({top:0,behavior:"smooth"})}}deleteEntry(n){this.state.isContextEditable()&&confirm("Sei sicuro di voler eliminare questo prodotto?")&&(this.allEntries.update(t=>t.filter(i=>i.id!==n)),this.saveAll(),this.editingEntryId()===n&&this.resetForm())}cancelEdit(){this.resetForm()}isExpired(n){return new Date(n)<new Date}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-traceability-view"]],decls:19,vars:19,consts:[[1,"space-y-6"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border","border-slate-100","flex","flex-col","xl:flex-row","justify-between","items-start","xl:items-center","gap-4"],[1,"text-2xl","font-bold","text-slate-800","flex","items-center"],[1,"fa-solid","fa-barcode","mr-3","text-emerald-600"],[1,"text-slate-500","text-sm","mt-1"],[1,"flex","flex-col","md:flex-row","gap-4","w-full","xl:w-auto"],[1,"flex","bg-slate-100","p-1","rounded-lg"],[1,"px-4","py-2","rounded-md","text-sm","font-bold","transition-all",3,"click"],[1,"fa-solid","fa-calendar-day","mr-2"],[1,"fa-solid","fa-list","mr-2"],[1,"relative","flex","items-center","gap-4","bg-slate-50","px-4","py-2","rounded-lg","border","border-slate-200"],[1,"space-y-4","animate-fade-in-up"],[1,"flex","flex-col"],[1,"text-xs","text-slate-400","font-bold","uppercase","mb-0.5"],[1,"font-medium","text-slate-800","text-sm","flex","items-center","h-[28px]"],[1,"fa-regular","fa-calendar","mr-2","text-slate-400"],[1,"h-8","w-px","bg-slate-200"],[1,"flex","items-center","text-orange-500","font-bold","text-xs","uppercase","px-2"],[1,"fa-solid","fa-lock","mr-1"],[1,"bg-white","rounded-2xl","shadow-sm","border","border-slate-100","overflow-hidden","animate-fade-in-up"],[1,"p-4","border-b","bg-slate-50","border-slate-100","flex","items-center","justify-between","gap-3"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-white","flex","items-center","justify-center","text-slate-700","shadow-sm","border","border-slate-100"],[1,"fa-solid"],[1,"font-bold","text-slate-800","leading-tight"],[1,"text-[10px]","text-slate-500","font-medium"],[1,"text-xs","text-red-500","hover:text-red-700","font-bold","uppercase","pointer-events-auto"],[1,"p-6","md:p-8","space-y-6"],[1,"block","text-sm","font-bold","text-slate-700","mb-2"],[1,"text-red-500"],["type","text","placeholder","Es. Pomodori Pelati, Farina 00...",1,"w-full","p-3","rounded-lg","border","border-slate-200","bg-slate-50","focus:bg-white","focus:outline-none","focus:border-emerald-500","focus:ring-4","focus:ring-emerald-50","transition-all","font-medium","text-slate-800","placeholder-slate-400","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["type","date",1,"w-full","p-3","rounded-lg","border","border-slate-200","bg-slate-50","focus:bg-white","focus:outline-none","focus:border-emerald-500","focus:ring-4","focus:ring-emerald-50","transition-all","font-medium","text-slate-800","cursor-pointer","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-slate-400","font-bold","text-xs"],["type","text","placeholder","123456",1,"w-full","pl-8","p-3","rounded-lg","border","border-slate-200","bg-slate-50","focus:bg-white","focus:outline-none","focus:border-emerald-500","focus:ring-4","focus:ring-emerald-50","transition-all","font-medium","text-slate-800","placeholder-slate-400","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],["rows","2","placeholder","Note aggiuntive...",1,"w-full","p-3","rounded-lg","border","border-slate-200","bg-slate-50","focus:bg-white","focus:outline-none","focus:border-emerald-500","focus:ring-4","focus:ring-emerald-50","transition-all","font-medium","text-slate-800","placeholder-slate-400","resize-none","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],[1,"bg-slate-50","px-6","py-4","border-t","border-slate-100","flex","justify-end"],[1,"px-6","py-3","rounded-xl","font-bold","flex","items-center","shadow-lg","transition-all","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"mt-8"],[1,"font-bold","text-slate-800","mb-4","flex","items-center"],[1,"fa-solid","fa-clipboard-list","text-slate-400","mr-2"],[1,"ml-2","bg-slate-200","text-slate-600","text-[10px]","px-2","py-0.5","rounded-full"],[1,"bg-slate-50","border","border-dashed","border-slate-300","rounded-xl","p-8","text-center"],[1,"bg-white","rounded-xl","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"text-xs","text-red-500","hover:text-red-700","font-bold","uppercase","pointer-events-auto",3,"click"],[1,"fa-solid","fa-times","mr-1"],[1,"fa-solid","fa-save","mr-2"],[1,"fa-solid","fa-plus","mr-2"],[1,"w-12","h-12","bg-slate-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-3"],[1,"fa-solid","fa-box-open","text-slate-300","text-xl"],[1,"text-slate-400","font-medium"],[1,"overflow-x-auto"],[1,"w-full","text-left","border-collapse"],[1,"bg-slate-50","text-slate-500","text-xs","uppercase","tracking-wider","border-b","border-slate-100"],[1,"px-4","py-3","font-bold"],[1,"px-4","py-3","font-bold","text-right"],[1,"divide-y","divide-slate-100"],[1,"hover:bg-slate-50/80","transition-colors","group"],[1,"px-4","py-3"],[1,"font-bold","text-slate-700"],[1,"text-[10px]","text-slate-400"],[1,"bg-slate-100","text-slate-600","px-2","py-1","rounded","text-xs","font-mono","font-bold"],[1,"font-medium","text-sm","text-slate-600"],[1,"fa-solid","fa-triangle-exclamation","ml-1","text-[10px]"],[1,"px-4","py-3","text-right"],[1,"flex","items-center","justify-end","gap-2"],["title","Modifica",1,"w-8","h-8","rounded-lg","bg-amber-50","text-amber-600","hover:bg-amber-100","flex","items-center","justify-center","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fa-solid","fa-pen","text-xs"],["title","Elimina",1,"w-8","h-8","rounded-lg","bg-red-50","text-red-600","hover:bg-red-100","flex","items-center","justify-center","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fa-solid","fa-trash","text-xs"],[1,"bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm","sticky","top-0","z-10"],[1,"flex","flex-col","md:flex-row","gap-4","items-end","md:items-center","justify-between"],[1,"text-xs","font-bold","text-slate-500","uppercase","block","mb-1"],[1,"flex","items-center","gap-2"],["type","date",1,"bg-slate-50","border","border-slate-200","rounded-lg","px-3","py-2","text-sm","text-slate-700","font-medium","focus:outline-none","focus:border-indigo-500","w-full","md:w-auto",3,"ngModelChange","ngModel"],[1,"text-slate-400","hover:text-red-500","px-2"],[1,"text-right"],[1,"text-2xl","font-bold","text-indigo-600"],[1,"text-[10px]","text-slate-400","uppercase","font-bold"],[1,"p-4","border-b","border-slate-100","bg-slate-50/50"],[1,"font-bold","text-slate-700","text-sm"],[1,"overflow-x-auto","max-h-[600px]"],[1,"bg-slate-50","sticky","top-0","z-0"],[1,"text-slate-500","text-xs","uppercase","tracking-wider","border-b","border-slate-100"],[1,"hover:bg-indigo-50/30","transition-colors"],[1,"text-slate-400","hover:text-red-500","px-2",3,"click"],[1,"fa-solid","fa-times-circle"],[1,"text-xs","font-medium","text-slate-500","bg-slate-100","px-2","py-1","rounded"],[1,"text-[10px]","text-slate-400","truncate","max-w-[150px]"],[1,"text-xs","font-mono","text-slate-600"],["title","Elimina definitivamente",1,"text-slate-400","hover:text-red-500","transition-colors","p-1","disabled:opacity-30","disabled:hover:text-slate-400",3,"click","disabled"],[1,"fa-solid","fa-trash-can"],["colspan","4",1,"p-8","text-center","text-slate-400"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),y(4,"i",3),a(5," Rintracciabilit\xE0 Alimenti "),l(),d(6,"p",4),a(7," Modulo di monitoraggio e tracciamento prodotti "),l()(),d(8,"div",5)(9,"div",6)(10,"button",7),T("click",function(){return i.viewMode.set("daily")}),y(11,"i",8),a(12," Giornaliero "),l(),d(13,"button",7),T("click",function(){return i.viewMode.set("history")}),y(14,"i",9),a(15," Storico Completo "),l()(),C(16,BC,9,5,"div",10),l()(),C(17,ZC,59,40),C(18,JC,34,4,"div",11),l()),t&2&&(u(10),I("bg-white",i.viewMode()==="daily")("shadow-sm",i.viewMode()==="daily")("text-slate-800",i.viewMode()==="daily")("text-slate-400",i.viewMode()!=="daily"),u(3),I("bg-white",i.viewMode()==="history")("shadow-sm",i.viewMode()==="history")("text-slate-800",i.viewMode()==="history")("text-slate-400",i.viewMode()!=="history"),u(3),E(i.viewMode()==="daily"?16:-1),u(),E(i.viewMode()==="daily"?17:-1),u(),E(i.viewMode()==="history"?18:-1))},dependencies:[U,Pt,Ye,Pe,xt,pe],styles:["@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out forwards}"]})}};var XC=(e,n)=>n.id;function eE(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function tE(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function nE(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function iE(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,tE,3,0,"span",27)(9,nE,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-red-200",!t.checked)("border-red-500",t.checked)("bg-red-50",t.checked)("shadow-lg",t.checked)("shadow-red-200/50",t.checked),u(2),I("bg-red-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-red-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-bug-slash",!t.checked),u(3),k(t.label),u(2),E(t.checked?8:9)}}function oE(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3,"Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati."),m()())}var Us=class e{constructor(){this.state=F(ne);this.moduleId="pest-control";this.checks=R([{id:"visual",label:"ISPEZIONE VISIVA DEGLI AMBIENTI DI LAVORO",checked:!1},{id:"nets",label:"RETI ANTI INSETTI",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return!(this.state.isAdmin()&&this.state.filterCollaboratorId())}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-pest-control-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-red-600","via-orange-600","to-amber-600","p-8","rounded-3xl","shadow-xl","border","border-red-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-bug","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-bug"],[1,"text-orange-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-shield-virus","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-orange-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-red-200","border-red-500","bg-red-50","shadow-lg","shadow-red-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-red-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Controllo Infestanti "),m(),p(9,"p",8),a(10,"Monitoraggio ratti, blatte e volatili"),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,eE,4,1),m()()(),p(21,"div",15),L(22,iE,10,34,"div",16,XC),m(),C(24,oE,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var rE=(e,n)=>n.id;function sE(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function aE(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function lE(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function dE(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,aE,3,0,"span",27)(9,lE,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-yellow-200",!t.checked)("border-yellow-500",t.checked)("bg-yellow-50",t.checked)("shadow-lg",t.checked)("shadow-yellow-200/50",t.checked),u(2),I("bg-yellow-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-yellow-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-exclamation-triangle",!t.checked),u(3),k(t.label),u(2),E(t.checked?8:9)}}function cE(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3,"Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati."),m()())}var $s=class e{constructor(){this.state=F(ne);this.moduleId="non-compliance";this.checks=R([{id:"recall",label:"COMPILARE MODELLO DI RITIRO / RICHIAMO",checked:!1},{id:"broken-equipment",label:"REGISTRARE ATTREZZATURE NON FUNZIONANTI",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return!(this.state.isAdmin()&&this.state.filterCollaboratorId())}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-non-compliance-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-yellow-600","via-amber-600","to-orange-600","p-8","rounded-3xl","shadow-xl","border","border-yellow-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-triangle-exclamation","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-triangle-exclamation"],[1,"text-yellow-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-clipboard-list","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-yellow-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-yellow-200","border-yellow-500","bg-yellow-50","shadow-lg","shadow-yellow-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-yellow-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Non Conformit\xE0 "),m(),p(9,"p",8),a(10,"Gestione anomalie e richiami"),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,sE,4,1),m()()(),p(21,"div",15),L(22,dE,10,34,"div",16,rE),m(),C(24,cE,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var uE=(e,n)=>n.id;function fE(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function pE(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function mE(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function hE(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,pE,3,0,"span",27)(9,mE,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-lime-200",!t.checked)("border-lime-500",t.checked)("bg-lime-50",t.checked)("shadow-lg",t.checked)("shadow-lime-200/50",t.checked),u(2),I("bg-lime-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-lime-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-clipboard-list",!t.checked),u(3),k(t.label),u(2),E(t.checked?8:9)}}function gE(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3,"Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati."),m()())}var zs=class e{constructor(){this.state=F(ne);this.moduleId="allergens-ue1169";this.checks=R([{id:"inform-register",label:"INFORMARE E REGISTRARE ALLERGIE / INTOLLERANZE",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return!(this.state.isAdmin()&&this.state.filterCollaboratorId())}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-allergens-config-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-lime-600","via-green-600","to-emerald-600","p-8","rounded-3xl","shadow-xl","border","border-lime-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-wheat-awn","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-wheat-awn"],[1,"text-lime-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-book-medical","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-lime-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-lime-200","border-lime-500","bg-lime-50","shadow-lg","shadow-lime-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-lime-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Reg. U.E. 1169/2011 "),m(),p(9,"p",8),a(10,"Informazioni e registro allergeni / intolleranze"),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,fE,4,1),m()()(),p(21,"div",15),L(22,hE,10,34,"div",16,uE),m(),C(24,gE,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var vE=(e,n)=>n.id;function yE(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function bE(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function xE(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function _E(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,bE,3,0,"span",27)(9,xE,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-violet-200",!t.checked)("border-violet-500",t.checked)("bg-violet-50",t.checked)("shadow-lg",t.checked)("shadow-violet-200/50",t.checked),u(2),I("bg-violet-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-violet-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-spray-can",!t.checked),u(3),k(t.label),u(2),E(t.checked?8:9)}}function CE(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3,"Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati."),m()())}var Gs=class e{constructor(){this.state=F(ne);this.moduleId="cleaning-maintenance";this.checks=R([{id:"equip",label:"ATTREZZATURE",checked:!1},{id:"work-env",label:"AMBIENTI DI LAVORO",checked:!1},{id:"toilets",label:"SERVIZI IGIENICI",checked:!1},{id:"changing-room",label:"SPOGLIATOIO",checked:!1},{id:"storage",label:"DEPOSITO / MAGAZZINO",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return!(this.state.isAdmin()&&this.state.filterCollaboratorId())}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-cleaning-maintenance-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-violet-600","via-purple-600","to-fuchsia-600","p-8","rounded-3xl","shadow-xl","border","border-violet-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-broom","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-broom"],[1,"text-violet-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-spray-can","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-violet-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-violet-200","border-violet-500","bg-violet-50","shadow-lg","shadow-violet-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-violet-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Pulizia / Manutenzione "),m(),p(9,"p",8),a(10,"Registro attivit\xE0 di pulizia e manutenzione"),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,yE,4,1),m()()(),p(21,"div",15),L(22,_E,10,34,"div",16,vE),m(),C(24,CE,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var EE=(e,n)=>n.id;function wE(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function DE(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function IE(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function SE(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,DE,3,0,"span",27)(9,IE,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-pink-200",!t.checked)("border-pink-500",t.checked)("bg-pink-50",t.checked)("shadow-lg",t.checked)("shadow-pink-200/50",t.checked),u(2),I("bg-pink-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-pink-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-flask",!t.checked),u(3),k(t.label),u(2),E(t.checked?8:9)}}function ME(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3,"Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati."),m()())}var Ws=class e{constructor(){this.state=F(ne);this.moduleId="micro-bio";this.checks=R([{id:"lab-test",label:"TESTS DI LABORATORIO",checked:!1},{id:"rapid-tests",label:"TESTS RAPIDI (RILEVAMENTO RESIDUI PROTEINE, GRASSI E ZUCCHERI)",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return!(this.state.isAdmin()&&this.state.filterCollaboratorId())}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-microbio-monitor-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-pink-600","via-rose-600","to-red-600","p-8","rounded-3xl","shadow-xl","border","border-pink-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-vial","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-vial"],[1,"text-pink-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-microscope","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-pink-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-pink-200","border-pink-500","bg-pink-50","shadow-lg","shadow-pink-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-pink-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Monitoraggio Microbiologico "),m(),p(9,"p",8),a(10,"Analisi e test di igiene"),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,wE,4,1),m()()(),p(21,"div",15),L(22,SE,10,34,"div",16,EE),m(),C(24,ME,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var TE=(e,n)=>n.id;function AE(e,n){if(e&1&&(p(0,"span",18),a(1,"\u2022"),m(),x(2,"i",19),a(3)),e&2){let t=v();u(3),M(" ",t.getDisplayName()," ")}}function kE(e,n){e&1&&(p(0,"span",27),x(1,"i",29),a(2," VERIFICATO "),m())}function NE(e,n){e&1&&(p(0,"span",28),x(1,"i",30),a(2," DA VERIFICARE "),m())}function RE(e,n){if(e&1){let t=P();p(0,"div",20),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleCheck(o.id))}),p(1,"div",21)(2,"div",22),x(3,"i",23),m(),p(4,"div",24)(5,"h3",25),a(6),m(),p(7,"div",26),C(8,kE,3,0,"span",27)(9,NE,3,0,"span",28),m()()()()}if(e&2){let t=n.$implicit,i=v();I("cursor-pointer",i.canEdit())("cursor-not-allowed",!i.canEdit())("opacity-60",!i.canEdit())("border-emerald-200",!t.checked)("border-emerald-500",t.checked)("bg-emerald-50",t.checked)("shadow-lg",t.checked)("shadow-emerald-200/50",t.checked),u(2),I("bg-emerald-500",t.checked)("text-white",t.checked)("shadow-lg",t.checked)("shadow-emerald-200",t.checked)("bg-slate-100",!t.checked)("text-slate-400",!t.checked),u(),I("fa-check-circle",t.checked)("fa-hand-sparkles",!t.checked),u(3),M(" ",t.label," "),u(2),E(t.checked?8:9)}}function FE(e,n){e&1&&(p(0,"div",17),x(1,"i",31),p(2,"p",32),a(3," Modalit\xE0 di sola lettura. Seleziona un'unit\xE0 operativa per modificare i dati. "),m()())}var qs=class e{constructor(){this.state=F(ne);this.moduleId="staff-hygiene";this.checks=R([{id:"work-clothes",label:"PULIZIA ABITI DA LAVORO",checked:!1},{id:"personal-hygiene",label:"IGIENE DELLA PERSONA (CAPELLI RACCOLTI, UNGHIE PULITE, ASSENZA FERITE, TOSSE O ALTRO)",checked:!1}]);this.checkedCount=V(()=>this.checks().filter(n=>n.checked).length);ye(()=>{this.state.filterDate(),this.state.filterCollaboratorId(),this.state.currentUser(),this.loadData()},{allowSignalWrites:!0})}loadData(){let n=this.state.getRecord(this.moduleId);n&&Array.isArray(n)?this.checks.update(t=>t.map(i=>{let o=n.find(r=>r.id===i.id);return o?N(A({},i),{checked:o.checked}):N(A({},i),{checked:!1})})):this.checks.update(t=>t.map(i=>N(A({},i),{checked:!1})))}canEdit(){return this.state.isContextEditable()}getDisplayName(){return this.state.filterCollaboratorId()?this.state.systemUsers().find(n=>n.id===this.state.filterCollaboratorId())?.name:this.state.currentUser()?.name}toggleCheck(n){this.canEdit()&&(this.checks.update(t=>t.map(i=>i.id===n?N(A({},i),{checked:!i.checked}):i)),this.state.saveRecord(this.moduleId,this.checks()))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-staff-hygiene-view"]],decls:25,vars:8,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-emerald-600","via-teal-600","to-green-600","p-8","rounded-3xl","shadow-xl","border","border-emerald-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-hands-bubbles","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-hands-bubbles"],[1,"text-emerald-100","text-sm","mt-2","font-medium","ml-1"],[1,"relative","z-10","flex","flex-col","gap-2"],[1,"flex","items-center","gap-3","bg-white/10","backdrop-blur-md","px-4","py-2","rounded-xl","border","border-white/20"],[1,"fa-solid","fa-user-check","text-white","text-lg"],[1,"text-white","font-bold"],[1,"text-xs","text-emerald-100","font-medium","flex","items-center","gap-2"],[1,"fa-regular","fa-calendar"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"cursor-pointer","cursor-not-allowed","opacity-60","border-emerald-200","border-emerald-500","bg-emerald-50","shadow-lg","shadow-emerald-200/50"],[1,"bg-yellow-50","border","border-yellow-200","rounded-xl","p-4","flex","items-start","gap-3"],[1,"mx-1"],[1,"fa-regular","fa-user"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300","group",3,"click"],[1,"flex","items-start","gap-4"],[1,"flex-shrink-0","w-14","h-14","rounded-2xl","flex","items-center","justify-center","transition-all","duration-300"],[1,"fa-solid","text-2xl"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-base","leading-tight","mb-2"],[1,"flex","items-center","gap-2"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-emerald-500","text-white","text-xs","font-bold","rounded-full"],[1,"inline-flex","items-center","gap-1.5","px-3","py-1","bg-slate-200","text-slate-600","text-xs","font-bold","rounded-full"],[1,"fa-solid","fa-circle-check"],[1,"fa-regular","fa-circle"],[1,"fa-solid","fa-lock","text-yellow-600","mt-0.5"],[1,"text-sm","text-yellow-800","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),x(3,"i",3),m(),p(4,"div",4)(5,"h2",5)(6,"span",6),x(7,"i",7),m(),a(8," Igiene Personale "),m(),p(9,"p",8),a(10," Verifica igiene e abbigliamento operatori "),m()(),p(11,"div",9)(12,"div",10),x(13,"i",11),p(14,"span",12),a(15),m()(),p(16,"div",13),x(17,"i",14),a(18),X(19,"date"),C(20,AE,4,1),m()()(),p(21,"div",15),L(22,RE,10,34,"div",16,TE),m(),C(24,FE,4,0,"div",17),m()),t&2&&(u(15),ie("",i.checkedCount()," / ",i.checks().length),u(3),M(" ",ee(19,5,i.state.filterDate(),"dd/MM/yyyy")," "),u(2),E(i.getDisplayName()?20:-1),u(2),j(i.checks()),u(2),E(i.canEdit()?-1:24))},dependencies:[U,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var uc=(e,n)=>n.id;function OE(e,n){if(e&1&&(d(0,"option",36),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.name)}}function PE(e,n){if(e&1){let t=P();d(0,"div")(1,"label",20),a(2,"Seleziona Azienda"),l(),d(3,"select",34),_e("ngModelChange",function(o){w(t);let r=v(3);return Ie(r.newMessage.recipientId,o)||(r.newMessage.recipientId=o),D(o)}),d(4,"option",35),a(5,"-- Seleziona --"),l(),L(6,OE,2,2,"option",36,uc),l()()}if(e&2){let t=v(3);u(3),xe("ngModel",t.newMessage.recipientId),u(3),j(t.state.clients())}}function VE(e,n){if(e&1){let t=P();d(0,"div")(1,"label",20),a(2,"Destinatario"),l(),d(3,"div",29)(4,"label",30)(5,"input",31),_e("ngModelChange",function(o){w(t);let r=v(2);return Ie(r.newMessage.recipientType,o)||(r.newMessage.recipientType=o),D(o)}),l(),d(6,"span",32),a(7,"Tutte le Aziende"),l()(),d(8,"label",30)(9,"input",33),_e("ngModelChange",function(o){w(t);let r=v(2);return Ie(r.newMessage.recipientType,o)||(r.newMessage.recipientType=o),D(o)}),l(),d(10,"span",32),a(11,"Azienda Specifica"),l()()()(),C(12,PE,8,1,"div")}if(e&2){let t=v(2);u(5),xe("ngModel",t.newMessage.recipientType),u(4),xe("ngModel",t.newMessage.recipientType),u(3),E(t.newMessage.recipientType==="SINGLE"?12:-1)}}function LE(e,n){e&1&&(d(0,"div",19)(1,"div",37),y(2,"i",38),l(),d(3,"div")(4,"p",39),a(5,"Destinatario"),l(),d(6,"p",40),a(7,"Amministrazione / Supporto"),l()()())}function jE(e,n){if(e&1&&(d(0,"p",24),y(1,"i",41),a(2),l()),e&2){let t=v(2);u(2),M(" ",t.newMessage.attachmentName," ")}}function BE(e,n){if(e&1){let t=P();d(0,"div",11)(1,"div",15)(2,"h3",16),a(3,"Nuovo Messaggio"),l(),d(4,"button",17),T("click",function(){w(t);let o=v();return D(o.cancelNewMessage())}),y(5,"i",18),l()(),d(6,"div",12),C(7,VE,13,3)(8,LE,8,0,"div",19),d(9,"div")(10,"label",20),a(11,"Oggetto"),l(),d(12,"input",21),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.newMessage.subject,o)||(r.newMessage.subject=o),D(o)}),l()(),d(13,"div")(14,"label",20),a(15,"Messaggio"),l(),d(16,"textarea",22),_e("ngModelChange",function(o){w(t);let r=v();return Ie(r.newMessage.content,o)||(r.newMessage.content=o),D(o)}),l()(),d(17,"div")(18,"label",20),a(19,"Allegato (opzionale)"),l(),d(20,"input",23),T("change",function(o){w(t);let r=v();return D(r.onFileSelected(o))}),l(),C(21,jE,3,1,"p",24),l(),d(22,"div",25)(23,"button",26),T("click",function(){w(t);let o=v();return D(o.cancelNewMessage())}),a(24," Annulla "),l(),d(25,"button",27),T("click",function(){w(t);let o=v();return D(o.sendNewMessage())}),y(26,"i",28),a(27," Invia Messaggio "),l()()()()}if(e&2){let t=v();u(7),E(t.state.isAdmin()?7:8),u(5),xe("ngModel",t.newMessage.subject),u(4),xe("ngModel",t.newMessage.content),u(5),E(t.newMessage.attachmentName?21:-1),u(4),I("opacity-50",!t.canSendMessage())("cursor-not-allowed",!t.canSendMessage()),B("disabled",!t.canSendMessage())}}function HE(e,n){e&1&&(d(0,"div",13),y(1,"i",42),d(2,"p",43),a(3,"Nessun messaggio presente"),l()())}function UE(e,n){e&1&&(d(0,"span",49),a(1,"NUOVO"),l())}function $E(e,n){e&1&&(d(0,"span",53),y(1,"i",58),a(2," BROADCAST "),l())}function zE(e,n){if(e&1&&(d(0,"span",54),y(1,"i",59),a(2),l()),e&2){let t=v().$implicit,i=v();u(2),M(" ",i.getClientName(t.recipientId)," ")}}function GE(e,n){if(e&1&&(d(0,"div",61),y(1,"i",65),d(2,"span",66),a(3),l(),d(4,"button",67),y(5,"i",68),a(6," Scarica "),l()()),e&2){let t=v(2).$implicit;u(3),k(t.attachmentName)}}function WE(e,n){if(e&1&&(d(0,"div",76),y(1,"i",65),d(2,"span",77),a(3),l()()),e&2){let t=v().$implicit;u(3),k(t.attachmentName)}}function qE(e,n){if(e&1&&(d(0,"div",70)(1,"div",71),y(2,"i",72),d(3,"span",73),a(4),l(),d(5,"span",74),a(6,"\u2022"),l(),d(7,"span"),a(8),X(9,"date"),l()(),d(10,"p",75),a(11),l(),C(12,WE,4,1,"div",76),l()),e&2){let t=n.$implicit;u(4),k(t.senderName),u(4),k(ee(9,4,t.timestamp,"dd/MM/yyyy HH:mm")),u(3),k(t.content),u(),E(t.attachmentName?12:-1)}}function ZE(e,n){if(e&1&&(d(0,"div",62)(1,"h4",69),a(2),l(),L(3,qE,13,7,"div",70,uc),l()),e&2){let t=v(2).$implicit;u(2),M("Risposte (",t.replies.length,")"),u(),j(t.replies)}}function YE(e,n){if(e&1){let t=P();d(0,"div",63)(1,"textarea",78),_e("ngModelChange",function(o){w(t);let r=v(3);return Ie(r.replyContent,o)||(r.replyContent=o),D(o)}),l(),d(2,"div",79)(3,"button",80),T("click",function(){w(t);let o=v(3);return D(o.cancelReply())}),a(4," Annulla "),l(),d(5,"button",81),T("click",function(){w(t);let o=v(2).$implicit,r=v();return D(r.sendReply(o.id))}),y(6,"i",82),a(7," Rispondi "),l()()()}if(e&2){let t=v(3);u(),xe("ngModel",t.replyContent),u(4),I("opacity-50",!t.replyContent.trim()),B("disabled",!t.replyContent.trim())}}function QE(e,n){if(e&1){let t=P();d(0,"button",83),T("click",function(){w(t);let o=v(2).$implicit,r=v();return D(r.startReply(o.id))}),y(1,"i",82),a(2," Rispondi "),l()}}function KE(e,n){if(e&1&&(d(0,"div",57)(1,"p",60),a(2),l(),C(3,GE,7,1,"div",61),C(4,ZE,5,1,"div",62),C(5,YE,8,4,"div",63)(6,QE,3,0,"button",64),l()),e&2){let t=v().$implicit,i=v();u(2),k(t.content),u(),E(t.attachmentName?3:-1),u(),E(t.replies.length>0?4:-1),u(),E(i.showReplyForm()===t.id?5:6)}}function JE(e,n){if(e&1){let t=P();d(0,"div",44)(1,"div",45)(2,"div",46)(3,"div",47)(4,"h3",48),a(5),l(),C(6,UE,2,0,"span",49),l(),d(7,"div",50)(8,"span"),y(9,"i",51),a(10),l(),d(11,"span"),y(12,"i",52),a(13),X(14,"date"),l(),C(15,$E,3,0,"span",53)(16,zE,3,1,"span",54),l()(),d(17,"button",55),T("click",function(){let o=w(t).$implicit,r=v();return D(r.toggleMessageExpanded(o.id))}),y(18,"i",56),l()(),C(19,KE,7,4,"div",57),l()}if(e&2){let t=n.$implicit,i=v();I("border-blue-200",!t.read)("border-slate-200",t.read)("bg-blue-50",!t.read),u(5),k(t.subject),u(),E(t.read?-1:6),u(4),M(" ",t.senderName),u(3),M(" ",ee(14,16,t.timestamp,"dd/MM/yyyy HH:mm")),u(2),E(t.recipientType==="ALL"?15:16),u(3),I("fa-chevron-down",!i.isMessageExpanded(t.id))("fa-chevron-up",i.isMessageExpanded(t.id)),u(),E(i.isMessageExpanded(t.id)?19:-1)}}var Zs=class e{constructor(){this.state=F(ne);this.showNewMessageForm=!1;this.newMessage={recipientType:"ALL",recipientId:"",subject:"",content:"",attachmentUrl:"",attachmentName:""};this.expandedMessages=R(new Set);this.showReplyForm=R(null);this.replyContent="";this.messages=R([]);this.loadMessages()}loadMessages(){this.messages.set(this.state.getMessagesForCurrentUser())}openNewMessageForm(){if(this.showNewMessageForm=!0,this.state.isAdmin())this.newMessage.recipientType="ALL",this.newMessage.recipientId="";else{let n=this.state.systemUsers().find(t=>t.role==="ADMIN");this.newMessage.recipientType="SINGLE",this.newMessage.recipientId="ADMIN_OFFICE"}}canSendMessage(){return!(!this.newMessage.subject.trim()||!this.newMessage.content.trim()||this.newMessage.recipientType==="SINGLE"&&!this.newMessage.recipientId)}sendNewMessage(){if(!this.canSendMessage())return;let n=this.newMessage.attachmentName?{url:this.newMessage.attachmentUrl,name:this.newMessage.attachmentName}:void 0;this.state.sendMessage(this.newMessage.subject,this.newMessage.content,this.newMessage.recipientType,this.newMessage.recipientId||void 0,n),this.cancelNewMessage(),this.loadMessages()}cancelNewMessage(){this.showNewMessageForm=!1,this.newMessage={recipientType:"ALL",recipientId:"",subject:"",content:"",attachmentUrl:"",attachmentName:""}}onFileSelected(n){let t=n.target.files[0];t&&(this.newMessage.attachmentName=t.name,this.newMessage.attachmentUrl="https://example.com/files/"+t.name)}toggleMessageExpanded(n){this.expandedMessages.update(t=>{let i=new Set(t);return i.has(n)?i.delete(n):(i.add(n),this.state.markMessageAsRead(n),this.loadMessages()),i})}isMessageExpanded(n){return this.expandedMessages().has(n)}startReply(n){this.showReplyForm.set(n),this.replyContent=""}cancelReply(){this.showReplyForm.set(null),this.replyContent=""}sendReply(n){this.replyContent.trim()&&(this.state.replyToMessage(n,this.replyContent),this.cancelReply(),this.loadMessages())}getClientName(n){return n?n==="ADMIN_OFFICE"?"Amministrazione":this.state.clients().find(t=>t.id===n)?.name||"Sconosciuto":""}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-messages-view"]],decls:20,vars:2,consts:[[1,"space-y-8","pb-10"],[1,"bg-gradient-to-r","from-blue-600","via-indigo-600","to-purple-600","p-8","rounded-3xl","shadow-xl","border","border-blue-500/30","flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","gap-6","relative","overflow-hidden"],[1,"absolute","top-0","right-0","p-8","opacity-10","pointer-events-none"],[1,"fa-solid","fa-comments","text-9xl","text-white"],[1,"relative","z-10"],[1,"text-3xl","font-black","text-white","flex","items-center","tracking-tight"],[1,"w-12","h-12","rounded-2xl","bg-white/20","backdrop-blur-md","flex","items-center","justify-center","mr-4","shadow-lg","border","border-white/30"],[1,"fa-solid","fa-comments"],[1,"text-blue-100","text-sm","mt-2","font-medium","ml-1"],[1,"px-6","py-3","bg-white","text-blue-600","font-bold","rounded-xl","hover:bg-blue-50","transition-all","shadow-lg","flex","items-center","gap-2",3,"click"],[1,"fa-solid","fa-plus"],[1,"bg-white","p-6","rounded-2xl","shadow-lg","border-2","border-blue-200"],[1,"space-y-4"],[1,"bg-slate-50","p-12","rounded-2xl","text-center"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300",3,"border-blue-200","border-slate-200","bg-blue-50"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold","text-slate-800"],[1,"text-slate-400","hover:text-slate-600",3,"click"],[1,"fa-solid","fa-times","text-xl"],[1,"bg-blue-50","p-4","rounded-xl","border","border-blue-200","flex","items-center","gap-3"],[1,"block","text-sm","font-bold","text-slate-700","mb-2"],["type","text","placeholder","Oggetto del messaggio",1,"w-full","px-4","py-2","border","border-slate-300","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["rows","4","placeholder","Scrivi il tuo messaggio...",1,"w-full","px-4","py-2","border","border-slate-300","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","file",1,"w-full","px-4","py-2","border","border-slate-300","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"change"],[1,"text-sm","text-slate-600","mt-2"],[1,"flex","gap-3","justify-end"],[1,"px-6","py-2","bg-slate-200","text-slate-700","font-bold","rounded-xl","hover:bg-slate-300","transition-all",3,"click"],[1,"px-6","py-2","bg-blue-600","text-white","font-bold","rounded-xl","hover:bg-blue-700","transition-all","shadow-lg","flex","items-center","gap-2",3,"click","disabled"],[1,"fa-solid","fa-paper-plane"],[1,"flex","gap-4"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio","name","recipientType","value","ALL",1,"w-4","h-4",3,"ngModelChange","ngModel"],[1,"text-sm","font-medium"],["type","radio","name","recipientType","value","SINGLE",1,"w-4","h-4",3,"ngModelChange","ngModel"],[1,"w-full","px-4","py-2","border","border-slate-300","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value",""],[3,"value"],[1,"w-10","h-10","rounded-full","bg-blue-100","flex","items-center","justify-center","text-blue-600"],[1,"fa-solid","fa-shield-halved"],[1,"text-xs","font-bold","text-blue-600","uppercase"],[1,"font-bold","text-slate-800"],[1,"fa-solid","fa-paperclip","mr-1"],[1,"fa-solid","fa-inbox","text-6xl","text-slate-300","mb-4"],[1,"text-slate-500","font-medium"],[1,"bg-white","p-6","rounded-2xl","shadow-sm","border-2","transition-all","duration-300"],[1,"flex","justify-between","items-start","mb-4"],[1,"flex-1"],[1,"flex","items-center","gap-3","mb-2"],[1,"text-lg","font-bold","text-slate-800"],[1,"px-2","py-1","bg-blue-500","text-white","text-xs","font-bold","rounded-full"],[1,"flex","items-center","gap-4","text-sm","text-slate-600"],[1,"fa-solid","fa-user","mr-1"],[1,"fa-regular","fa-clock","mr-1"],[1,"px-2","py-1","bg-purple-100","text-purple-700","text-xs","font-bold","rounded-full"],[1,"px-2","py-1","bg-blue-100","text-blue-700","text-xs","font-bold","rounded-full"],[1,"text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","text-xl"],[1,"border-t","border-slate-200","pt-4","space-y-4"],[1,"fa-solid","fa-broadcast-tower","mr-1"],[1,"fa-solid","fa-building","mr-1"],[1,"text-slate-700","whitespace-pre-wrap"],[1,"flex","items-center","gap-2","p-3","bg-slate-50","rounded-xl"],[1,"space-y-3","pl-6","border-l-2","border-slate-200"],[1,"bg-slate-50","p-4","rounded-xl","space-y-3"],[1,"px-4","py-2","bg-blue-600","text-white","font-bold","rounded-xl","hover:bg-blue-700","transition-all","text-sm"],[1,"fa-solid","fa-paperclip","text-slate-400"],[1,"text-sm","font-medium","text-slate-700"],[1,"ml-auto","text-blue-600","hover:text-blue-700","text-sm","font-bold"],[1,"fa-solid","fa-download","mr-1"],[1,"text-sm","font-bold","text-slate-600","uppercase","tracking-wide"],[1,"bg-slate-50","p-4","rounded-xl"],[1,"flex","items-center","gap-2","mb-2","text-sm","text-slate-600"],[1,"fa-solid","fa-user"],[1,"font-bold"],[1,"text-slate-400"],[1,"text-slate-700"],[1,"flex","items-center","gap-2","mt-2","text-sm"],[1,"text-slate-600"],["rows","3","placeholder","Scrivi una risposta...",1,"w-full","px-4","py-2","border","border-slate-300","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"flex","gap-2","justify-end"],[1,"px-4","py-2","bg-slate-200","text-slate-700","font-bold","rounded-xl","hover:bg-slate-300","transition-all","text-sm",3,"click"],[1,"px-4","py-2","bg-blue-600","text-white","font-bold","rounded-xl","hover:bg-blue-700","transition-all","text-sm",3,"click","disabled"],[1,"fa-solid","fa-reply","mr-1"],[1,"px-4","py-2","bg-blue-600","text-white","font-bold","rounded-xl","hover:bg-blue-700","transition-all","text-sm",3,"click"]],template:function(t,i){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),y(3,"i",3),l(),d(4,"div",4)(5,"h2",5)(6,"span",6),y(7,"i",7),l(),a(8," Messaggistica "),l(),d(9,"p",8),a(10,"Comunicazione diretta con le aziende"),l()(),d(11,"div",4)(12,"button",9),T("click",function(){return i.openNewMessageForm()}),y(13,"i",10),a(14," Nuovo Messaggio "),l()()(),C(15,BE,28,9,"div",11),d(16,"div",12),C(17,HE,4,0,"div",13),L(18,JE,20,19,"div",14,uc),l()()),t&2&&(u(15),E(i.showNewMessageForm?15:-1),u(2),E(i.messages().length===0?17:-1),u(),j(i.messages()))},dependencies:[U,Pt,Ft,Ot,Ye,rt,lc,Pe,xt,pe],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}};var XE=(e,n)=>n.id;function ew(e,n){e&1&&x(0,"i",5)}function tw(e,n){e&1&&x(0,"i",6)}function nw(e,n){e&1&&x(0,"i",7)}function iw(e,n){e&1&&x(0,"i",8)}function ow(e,n){if(e&1){let t=P();p(0,"div",2)(1,"div",3)(2,"div",4),C(3,ew,1,0,"i",5)(4,tw,1,0,"i",6)(5,nw,1,0,"i",7)(6,iw,1,0,"i",8),m(),p(7,"div",9)(8,"h4",10),a(9),m(),p(10,"p",11),a(11),m()(),p(12,"button",12),G("click",function(){let o=w(t).$implicit,r=v();return D(r.toastService.remove(o.id))}),x(13,"i",13),m()(),p(14,"div",14),x(15,"div",15),m()()}if(e&2){let t,i=n.$implicit;I("border-l-emerald-500",i.type==="success")("border-l-red-500",i.type==="error")("border-l-orange-500",i.type==="warning")("border-l-blue-500",i.type==="info"),u(2),I("bg-emerald-100",i.type==="success")("text-emerald-600",i.type==="success")("bg-red-100",i.type==="error")("text-red-600",i.type==="error")("bg-orange-100",i.type==="warning")("text-orange-600",i.type==="warning")("bg-blue-100",i.type==="info")("text-blue-600",i.type==="info"),u(),E((t=i.type)==="success"?3:t==="error"?4:t==="warning"?5:t==="info"?6:-1),u(6),k(i.title),u(2),k(i.message),u(4),Ne("animation-duration",i.duration,"ms"),I("bg-emerald-500",i.type==="success")("bg-red-500",i.type==="error")("bg-orange-500",i.type==="warning")("bg-blue-500",i.type==="info")}}var Ys=class e{constructor(){this.toastService=F(Rt)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-toast-container"]],decls:3,vars:0,consts:[[1,"fixed","top-4","right-4","z-[9999]","flex","flex-col","gap-3","pointer-events-none"],[1,"pointer-events-auto","animate-slide-in-right","bg-white","rounded-xl","shadow-2xl","border-l-4","overflow-hidden","max-w-sm",3,"border-l-emerald-500","border-l-red-500","border-l-orange-500","border-l-blue-500"],[1,"pointer-events-auto","animate-slide-in-right","bg-white","rounded-xl","shadow-2xl","border-l-4","overflow-hidden","max-w-sm"],[1,"p-4","flex","items-start","gap-3"],[1,"flex-shrink-0","w-10","h-10","rounded-full","flex","items-center","justify-center"],[1,"fa-solid","fa-check","text-lg"],[1,"fa-solid","fa-circle-xmark","text-lg"],[1,"fa-solid","fa-triangle-exclamation","text-lg"],[1,"fa-solid","fa-circle-info","text-lg"],[1,"flex-1","min-w-0"],[1,"font-bold","text-slate-800","text-sm"],[1,"text-xs","text-slate-600","mt-0.5"],[1,"flex-shrink-0","text-slate-400","hover:text-slate-600","transition-colors",3,"click"],[1,"fa-solid","fa-xmark"],[1,"h-1","bg-slate-100"],[1,"h-full","transition-all","ease-linear","animate-shrink"]],template:function(t,i){t&1&&(p(0,"div",0),L(1,ow,16,37,"div",1,XE),m()),t&2&&(u(),j(i.toastService.toasts()))},dependencies:[U],styles:["@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_shrink{0%{width:100%}to{width:0%}}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}.animate-shrink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shrink linear}"]})}};var bh=(e,n)=>n.id;function rw(e,n){if(e&1){let t=P();d(0,"h2",15),a(1,"Benvenuto"),l(),d(2,"p",16),a(3,"Seleziona la modalit\xE0 di accesso."),l(),d(4,"div",17)(5,"button",18),T("click",function(){w(t);let o=v(2);return D(o.setLoginMode("ADMIN"))}),d(6,"div",19),y(7,"i",20),l(),d(8,"div",21)(9,"h3",22),a(10,"Accesso Amministrazione"),l(),d(11,"p",23),a(12,"Gestione sedi, configurazioni e utenti."),l()(),y(13,"i",24),l(),d(14,"button",25),T("click",function(){w(t);let o=v(2);return D(o.setLoginMode("OPERATOR"))}),d(15,"div",26),y(16,"i",27),l(),d(17,"div",21)(18,"h3",28),a(19,"Accesso Operatore"),l(),d(20,"p",23),a(21,"Compilazione checklist e registri."),l()(),y(22,"i",29),l()()}}function sw(e,n){e&1&&a(0," Area Amministrativa ")}function aw(e,n){e&1&&a(0," Area Operativa ")}function lw(e,n){e&1&&(d(0,"div",41),y(1,"i",43),a(2," Credenziali non valide. Riprova. "),l())}function dw(e,n){if(e&1){let t=P();d(0,"button",30),T("click",function(){w(t);let o=v(2);return D(o.setLoginMode("SELECT"))}),y(1,"i",31),a(2," Indietro "),l(),d(3,"div",32)(4,"h2",33),C(5,sw,1,0)(6,aw,1,0),l(),d(7,"p",34),a(8,"Inserisci le tue credenziali per accedere."),l(),d(9,"div",17)(10,"div")(11,"label",35),a(12,"Nome Utente"),l(),d(13,"div",36),y(14,"i",37),d(15,"input",38),T("input",function(o){w(t);let r=v(2);return D(r.loginUsername.set(o.target.value))})("keyup.enter",function(){w(t);let o=v(2);return D(o.doLogin())}),l()()(),d(16,"div")(17,"label",35),a(18,"Password"),l(),d(19,"div",36),y(20,"i",39),d(21,"input",40),T("input",function(o){w(t);let r=v(2);return D(r.loginPassword.set(o.target.value))})("keyup.enter",function(){w(t);let o=v(2);return D(o.doLogin())}),l()()(),C(22,lw,3,0,"div",41),d(23,"button",42),T("click",function(){w(t);let o=v(2);return D(o.doLogin())}),a(24," ACCEDI "),l()()()}if(e&2){let t=v(2);u(5),E(t.loginMode()==="ADMIN"?5:6),u(10),B("value",t.loginUsername()),u(6),B("value",t.loginPassword()),u(),E(t.loginError()?22:-1)}}function cw(e,n){if(e&1&&(d(0,"div",0),y(1,"div",2),d(2,"div",3)(3,"div",4),y(4,"div",5)(5,"div",6),d(6,"div",7),y(7,"img",8),d(8,"h1",9),a(9,"HACCP Pro"),l(),d(10,"p",10),a(11,"Enterprise Solution"),l()(),d(12,"div",11)(13,"p",12),a(14," La piattaforma integrata per la gestione della sicurezza alimentare, igiene e conformit\xE0 normativa. "),l()(),d(15,"div",13),a(16," \xA9 2026 HACCP Pro System "),l()(),d(17,"div",14),C(18,rw,23,0)(19,dw,25,4),l()()()),e&2){let t=v();u(18),E(t.loginMode()==="SELECT"?18:19)}}function uw(e,n){if(e&1){let t=P();d(0,"div",83),T("click",function(){w(t);let o=v(2);return D(o.toggleMobileMenu())}),l()}}function fw(e,n){if(e&1&&(d(0,"div",84),a(1),l()),e&2){let t=v().$implicit,i=v(2);u(),M(" ",i.getCategoryLabel(t.category)," ")}}function pw(e,n){e&1&&y(0,"i",87)}function mw(e,n){if(e&1){let t=P();C(0,fw,2,1,"div",84),d(1,"button",85),T("click",function(){let o=w(t).$implicit,r=v(2);return r.state.setModule(o.id),D(r.isMobileMenuOpen.set(!1))}),y(2,"i"),d(3,"span",86),a(4),l(),C(5,pw,1,0,"i",87),l()}if(e&2){let t=n.$implicit,i=n.$index,o=v(2);E(i===0||t.category!==o.visibleMenuItems()[i-1].category?0:-1),u(),Ae("w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden justify-start text-left "+(o.state.currentModuleId()===t.id?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/30":"text-slate-400 hover:bg-slate-800 hover:text-white")),u(),Ae("fa-solid text-lg w-6 text-left "+t.icon+" "+(o.state.currentModuleId()===t.id?"text-white":"text-slate-500 group-hover:text-white")),u(2),k(t.label),u(),E(o.state.currentModuleId()===t.id?5:-1)}}function hw(e,n){if(e&1&&(d(0,"span",73),a(1),l()),e&2){let t=v(2);u(),M(" ",t.state.unreadMessagesCount()," ")}}function gw(e,n){if(e&1&&(d(0,"option",91),a(1),l()),e&2){let t=n.$implicit;B("value",t.id),u(),k(t.displayName)}}function vw(e,n){if(e&1){let t=P();d(0,"div",74),y(1,"i",88),d(2,"select",89),T("change",function(o){w(t);let r=v(2);return D(r.state.setCollaboratorFilter(o.target.value))}),d(3,"option",90),a(4,"-- Seleziona Unit\xE0 Operativa --"),l(),L(5,gw,2,2,"option",91,bh),l()()}if(e&2){let t=v(2);I("border-orange-300",!t.state.isContextEditable())("bg-orange-50",!t.state.isContextEditable()),u(),I("text-orange-400",!t.state.isContextEditable()),u(),I("text-orange-800",!t.state.isContextEditable()),B("value",t.state.filterCollaboratorId()),u(3),j(t.contextUsers())}}function yw(e,n){if(e&1&&(d(0,"div",78),y(1,"i",92),a(2),d(3,"span",93),a(4,"|"),l(),a(5),l()),e&2){let t,i=v(2);u(2),M(" ",(t=i.state.currentUser())==null?null:t.name," "),u(3),M(" ",i.state.companyConfig().name," ")}}function bw(e,n){e&1&&(d(0,"div",79),y(1,"i",94),a(2," Sola Lettura "),l())}function xw(e,n){e&1&&y(0,"app-dashboard-view")}function _w(e,n){e&1&&y(0,"app-reports-view")}function Cw(e,n){e&1&&y(0,"app-general-checks-view")}function Ew(e,n){e&1&&y(0,"app-operational-checklist")}function ww(e,n){e&1&&y(0,"app-staff-training-checklist")}function Dw(e,n){e&1&&y(0,"app-suppliers-view")}function Iw(e,n){e&1&&y(0,"app-cleaning-products-view")}function Sw(e,n){e&1&&y(0,"app-equipment-view")}function Mw(e,n){e&1&&y(0,"app-allergens-config-view")}function Tw(e,n){e&1&&y(0,"app-cleaning-maintenance-view")}function Aw(e,n){e&1&&y(0,"app-goods-receipt-view")}function kw(e,n){e&1&&y(0,"app-food-conservation-view")}function Nw(e,n){e&1&&y(0,"app-temperatures-view")}function Rw(e,n){e&1&&y(0,"app-traceability-view")}function Fw(e,n){e&1&&y(0,"app-pest-control-view")}function Ow(e,n){e&1&&y(0,"app-microbio-monitor-view")}function Pw(e,n){e&1&&y(0,"app-staff-hygiene-view")}function Vw(e,n){e&1&&y(0,"app-non-compliance-view")}function Lw(e,n){e&1&&y(0,"app-settings-view")}function jw(e,n){e&1&&y(0,"app-collaborators-view")}function Bw(e,n){e&1&&y(0,"app-messages-view")}function Hw(e,n){e&1&&y(0,"app-accounting-view")}function Uw(e,n){if(e&1&&y(0,"app-generic-module",82),e&2){let t=v(2);B("moduleId",t.state.currentModuleId())}}function $w(e,n){if(e&1){let t=P();d(0,"div",1),C(1,uw,1,0,"div",44),d(2,"aside")(3,"div",45)(4,"div",46),y(5,"img",47),l(),d(6,"div",48)(7,"h1",49),a(8,"HACCP Pro"),l(),d(9,"p",50),a(10,"Enterprise Solution "),l()()(),d(11,"nav",51),L(12,mw,6,7,null,null,bh),l(),d(14,"div",52)(15,"button",53),T("click",function(){w(t);let o=v();return D(o.state.logout())}),d(16,"div",36),y(17,"img",54)(18,"div",55),l(),d(19,"div",56)(20,"div",57),a(21),l(),d(22,"div",58),a(23,"Disconnetti"),l()(),y(24,"i",59),l()()(),d(25,"main",60)(26,"header",61)(27,"div",62),y(28,"img",63),d(29,"span",64),a(30,"HACCP Pro"),l()(),d(31,"button",65),T("click",function(){w(t);let o=v();return D(o.toggleMobileMenu())}),y(32,"i",66),l()(),d(33,"header",67)(34,"div",68)(35,"h2",69),a(36),l()(),d(37,"div",70)(38,"button",71),T("click",function(){w(t);let o=v();return D(o.state.setModule("messages"))}),y(39,"i",72),C(40,hw,2,1,"span",73),l(),d(41,"div",74),y(42,"i",75),d(43,"input",76),T("change",function(o){w(t);let r=v();return D(r.state.setDateFilter(o.target.value))}),l()(),C(44,vw,7,9,"div",77)(45,yw,6,2,"div",78),C(46,bw,3,0,"div",79),l()(),d(47,"div",80)(48,"div",81),C(49,xw,1,0,"app-dashboard-view")(50,_w,1,0,"app-reports-view")(51,Cw,1,0,"app-general-checks-view")(52,Ew,1,0,"app-operational-checklist")(53,ww,1,0,"app-staff-training-checklist")(54,Dw,1,0,"app-suppliers-view")(55,Iw,1,0,"app-cleaning-products-view")(56,Sw,1,0,"app-equipment-view")(57,Mw,1,0,"app-allergens-config-view")(58,Tw,1,0,"app-cleaning-maintenance-view")(59,Aw,1,0,"app-goods-receipt-view")(60,kw,1,0,"app-food-conservation-view")(61,Nw,1,0,"app-temperatures-view")(62,Rw,1,0,"app-traceability-view")(63,Fw,1,0,"app-pest-control-view")(64,Ow,1,0,"app-microbio-monitor-view")(65,Pw,1,0,"app-staff-hygiene-view")(66,Vw,1,0,"app-non-compliance-view")(67,Lw,1,0,"app-settings-view")(68,jw,1,0,"app-collaborators-view")(69,Bw,1,0,"app-messages-view")(70,Hw,1,0,"app-accounting-view")(71,Uw,1,1,"app-generic-module",82),l()()(),y(72,"app-toast-container"),l()}if(e&2){let t,i,o,r=v();u(),E(r.isMobileMenuOpen()?1:-1),u(),Ae("w-72 bg-slate-900 text-slate-300 flex-shrink-0 flex flex-col border-r border-slate-800 fixed md:relative h-full z-50 transition-transform duration-300 md:translate-x-0 "+(r.isMobileMenuOpen()?"translate-x-0":"-translate-x-full")),u(10),j(r.visibleMenuItems()),u(5),B("src",(t=r.state.currentUser())==null?null:t.avatar,$n),u(4),k((i=r.state.currentUser())==null?null:i.name),u(15),M(" ",r.getDataboardTitle()," "),u(4),E(r.state.unreadMessagesCount()>0?40:-1),u(3),B("value",r.state.filterDate()),u(),E(r.state.isAdmin()?44:45),u(2),E(r.state.isAdmin()&&!r.state.isContextEditable()?46:-1),u(3),E((o=r.state.currentModuleId())==="dashboard"?49:o==="reports"?50:o==="general-checks"?51:o==="operational-checklist"?52:o==="staff-training"?53:o==="suppliers"?54:o==="products-cleaning"?55:o==="equipment"?56:o==="allergens-ue1169"?57:o==="cleaning-maintenance"?58:o==="goods-receipt"?59:o==="food-conservation"?60:o==="temperatures"?61:o==="traceability"?62:o==="pest-control"?63:o==="micro-bio"?64:o==="staff-hygiene"?65:o==="non-compliance"?66:o==="settings"?67:o==="collaborators"?68:o==="messages"?69:o==="accounting"?70:71)}}var Qs=class e{constructor(){this.state=F(ne);this.loginMode=R("SELECT");this.loginUsername=R("");this.loginPassword=R("");this.loginError=R(!1);this.isMobileMenuOpen=R(!1);this.visibleMenuItems=V(()=>this.state.menuItems.filter(n=>this.shouldShowMenuItem(n.category,n.adminOnly)));this.contextUsers=V(()=>this.state.systemUsers().map(n=>{let t=this.state.clients().find(i=>i.id===n.clientId);return N(A({},n),{displayName:t?`${t.name} - ${n.name}`:n.name})}).sort((n,t)=>n.displayName.localeCompare(t.displayName)))}getItemsByCategory(n){return this.state.menuItems.filter(t=>t.category===n)}hasAccessToCategory(n){return this.state.isAdmin()?["dashboard","config","communication"].includes(n):n!=="config"}getClientName(n){if(!n)return"";let t=this.state.clients().find(i=>i.id===n);return t?t.name:""}toggleMobileMenu(){this.isMobileMenuOpen.update(n=>!n)}setLoginMode(n){this.loginMode.set(n),n==="ADMIN"?(this.loginUsername.set("dev"),this.loginPassword.set("dev")):n==="OPERATOR"?(this.loginUsername.set("mario"),this.loginPassword.set("password")):(this.loginUsername.set(""),this.loginPassword.set("")),this.loginError.set(!1)}doLogin(){this.state.loginWithCredentials(this.loginUsername(),this.loginPassword())?this.setLoginMode("SELECT"):this.loginError.set(!0)}shouldShowMenuItem(n,t){return t&&!this.state.isAdmin()?!1:this.hasAccessToCategory(n)}getCategoryLabel(n){return{"daily-checks":"Controlli Giornalieri",anagrafiche:"Anagrafiche",operativo:"Operativo",normativa:"Normativa & Controllo",config:"Configurazione",communication:"Comunicazioni"}[n]||n}getDataboardTitle(){let n=this.state.currentModuleId(),t=this.state.menuItems.find(i=>i.id===n);return t?t.label:n==="dashboard"?"Dashboard":n}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=z({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-slate-50","p-4","relative","overflow-y-auto"],[1,"flex","h-screen","bg-slate-50","relative","overflow-hidden"],[1,"absolute","top-0","left-0","w-full","h-96","bg-gradient-to-br","from-emerald-600","to-teal-900","z-0","rounded-b-[50px]","shadow-2xl"],[1,"relative","z-10","w-full","max-w-4xl","grid","grid-cols-1","md:grid-cols-2","bg-white","rounded-3xl","shadow-2xl","overflow-hidden","min-h-[500px]"],[1,"p-10","bg-slate-900","text-white","flex","flex-col","justify-between","items-center","text-center","relative","overflow-hidden"],[1,"absolute","top-0","left-0","w-64","h-64","bg-emerald-500/10","rounded-full","blur-3xl","-translate-x-1/2","-translate-y-1/2"],[1,"absolute","bottom-0","right-0","w-64","h-64","bg-blue-500/10","rounded-full","blur-3xl","translate-x-1/2","translate-y-1/2"],[1,"relative","z-10","flex","flex-col","items-center"],["src","assets/logo.png?v=2",1,"w-32","h-32","mb-6","drop-shadow-2xl","animate-fade-in"],[1,"text-3xl","font-bold","tracking-tight","mb-2"],[1,"text-slate-400","text-sm","font-medium","tracking-widest","uppercase"],[1,"relative","z-10","mt-8"],[1,"text-slate-300","text-sm","leading-relaxed","max-w-xs","mx-auto"],[1,"relative","z-10","text-xs","text-slate-500","mt-8"],[1,"p-10","flex","flex-col","justify-center","bg-white","relative"],[1,"text-2xl","font-bold","text-slate-900","mb-2"],[1,"text-slate-500","mb-8","text-sm"],[1,"space-y-4"],[1,"w-full","text-left","p-4","rounded-xl","border","border-slate-200","hover:border-blue-600","hover:bg-blue-50","transition-all","group","flex","items-center","gap-4","shadow-sm","hover:shadow-md",3,"click"],[1,"w-12","h-12","rounded-full","bg-blue-100/50","flex","items-center","justify-center","text-blue-600","group-hover:scale-110","transition-transform"],[1,"fa-solid","fa-user-shield","text-xl"],[1,"flex-1"],[1,"font-bold","text-slate-800","group-hover:text-blue-700"],[1,"text-xs","text-slate-500","mt-1"],[1,"fa-solid","fa-arrow-right","text-slate-300","group-hover:text-blue-500"],[1,"w-full","text-left","p-4","rounded-xl","border","border-slate-200","hover:border-emerald-600","hover:bg-emerald-50","transition-all","group","flex","items-center","gap-4","shadow-sm","hover:shadow-md",3,"click"],[1,"w-12","h-12","rounded-full","bg-emerald-100/50","flex","items-center","justify-center","text-emerald-600","group-hover:scale-110","transition-transform"],[1,"fa-solid","fa-users-gear","text-xl"],[1,"font-bold","text-slate-800","group-hover:text-emerald-600"],[1,"fa-solid","fa-arrow-right","text-slate-300","group-hover:text-emerald-500"],[1,"absolute","top-6","left-6","text-slate-400","hover:text-slate-600","flex","items-center","gap-2","text-sm","font-medium","transition-colors",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"mt-8","animate-fade-in-up"],[1,"text-2xl","font-bold","text-slate-900","mb-1"],[1,"text-slate-500","mb-6","text-sm"],[1,"block","text-xs","font-bold","text-slate-700","uppercase","mb-1"],[1,"relative"],[1,"fa-solid","fa-user","absolute","left-3","top-3","text-slate-400"],["type","text","placeholder","Username",1,"w-full","pl-10","pr-4","py-2","rounded-lg","border","border-slate-300","focus:outline-none","focus:ring-2","focus:ring-emerald-500","focus:border-transparent","transition-all",3,"input","keyup.enter","value"],[1,"fa-solid","fa-lock","absolute","left-3","top-3","text-slate-400"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","pl-10","pr-4","py-2","rounded-lg","border","border-slate-300","focus:outline-none","focus:ring-2","focus:ring-emerald-500","focus:border-transparent","transition-all",3,"input","keyup.enter","value"],[1,"p-3","bg-red-50","text-red-600","text-sm","rounded-lg","flex","items-center","gap-2","animate-shake"],[1,"w-full","py-3","bg-slate-900","text-white","font-bold","rounded-lg","hover:bg-slate-800","transition-all","shadow-lg","shadow-slate-200","mt-4",3,"click"],[1,"fa-solid","fa-circle-exclamation"],[1,"fixed","inset-0","bg-slate-900/60","backdrop-blur-sm","z-40","md:hidden","animate-fade-in"],[1,"p-6","flex","items-center","gap-4","border-b","border-slate-700/50"],[1,"relative","w-12","h-12","flex","items-center","justify-center","bg-white","rounded-xl","shadow-lg","overflow-hidden","shrink-0"],["src","/logo.png",1,"w-full","h-full","object-contain","p-1.5"],[1,"overflow-hidden"],[1,"text-white","font-bold","tracking-tight","text-lg","leading-tight","truncate"],[1,"text-slate-400","text-[10px]","uppercase","font-bold","tracking-widest","mt-0.5","truncate"],[1,"flex-1","overflow-y-auto","py-6","px-4","space-y-1","custom-scrollbar"],[1,"p-4","border-t","border-slate-700/50","bg-slate-900/50"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-xl","hover:bg-red-500/10","hover:text-red-400","text-slate-400","transition-colors","group",3,"click"],[1,"w-9","h-9","rounded-full","border-2","border-slate-700","group-hover:border-red-400/50","transition-colors",3,"src"],[1,"absolute","bottom-0","right-0","w-3","h-3","bg-emerald-500","border-2","border-slate-900","rounded-full"],[1,"text-left","flex-1","min-w-0"],[1,"font-bold","text-xs","truncate","text-white"],[1,"text-[10px]","truncate","opacity-60"],[1,"fa-solid","fa-power-off","text-xs","opacity-40","group-hover:opacity-100","transition-opacity"],[1,"flex-1","flex","flex-col","h-screen","overflow-hidden","relative"],[1,"h-16","bg-white","border-b","border-slate-200","flex","md:hidden","items-center","justify-between","px-4","z-40","flex-shrink-0"],[1,"flex","items-center","gap-3"],["src","/logo.png",1,"w-8","h-8","object-contain"],[1,"font-bold","text-slate-900","tracking-tight"],[1,"text-slate-500","p-2","hover:bg-slate-100","rounded-lg","transition-colors",3,"click"],[1,"fa-solid","fa-bars-staggered","text-xl"],[1,"bg-white/95","backdrop-blur-md","border-b","border-slate-200","h-16","hidden","md:flex","items-center","justify-between","px-8","sticky","top-0","z-20","flex-shrink-0"],[1,"flex","items-center","gap-4"],[1,"text-lg","font-bold","text-slate-800","tracking-tight"],[1,"flex","items-center","gap-6"],[1,"relative","p-2","hover:bg-slate-100","rounded-xl","transition-all","group",3,"click"],[1,"fa-solid","fa-bell","text-slate-600","text-xl","group-hover:text-blue-600","transition-colors"],[1,"absolute","-top-1","-right-1","w-5","h-5","bg-red-500","text-white","text-xs","font-bold","rounded-full","flex","items-center","justify-center","shadow-lg","animate-pulse"],[1,"flex","items-center","bg-slate-50","rounded-xl","border","border-slate-200","px-4","py-2","hover:border-slate-300","transition-colors","cursor-pointer","group"],[1,"fa-solid","fa-calendar-alt","text-slate-400","text-sm","mr-3","group-hover:text-blue-500"],["type","date",1,"bg-transparent","text-sm","text-slate-700","font-semibold","focus:outline-none","cursor-pointer","border-none","p-0","outline-none",3,"change","value"],[1,"flex","items-center","bg-slate-50","rounded-xl","border","border-slate-200","px-4","py-2","hover:border-slate-300","transition-colors","cursor-pointer","group",3,"border-orange-300","bg-orange-50"],[1,"flex","items-center","px-4","py-2","bg-slate-50","rounded-xl","border","border-slate-200","text-slate-600","font-medium","text-sm"],["title","Seleziona un'unit\xE0 per modificare i dati",1,"hidden","xl:flex","items-center","px-3","py-1","bg-slate-100","rounded","text-[10px]","font-bold","text-slate-400","uppercase","tracking-wider","border","border-slate-200"],[1,"flex-1","overflow-auto","p-4","md:p-8","bg-slate-50","relative"],[1,"max-w-7xl","mx-auto","pb-10"],[3,"moduleId"],[1,"fixed","inset-0","bg-slate-900/60","backdrop-blur-sm","z-40","md:hidden","animate-fade-in",3,"click"],[1,"mt-8","mb-3","px-3","text-[10px]","font-black","text-slate-500","uppercase","tracking-widest","text-left"],[3,"click"],[1,"font-medium","text-sm","tracking-wide","flex-1"],[1,"fa-solid","fa-chevron-right","text-[10px]","opacity-70"],[1,"fa-solid","fa-building-user","text-slate-400","text-sm","mr-3","group-hover:text-emerald-500"],[1,"bg-transparent","text-sm","text-slate-700","font-semibold","focus:outline-none","cursor-pointer","border-none","p-0","outline-none","pr-4","min-w-[200px]",3,"change","value"],["value",""],[3,"value"],[1,"fa-solid","fa-user-tag","text-slate-400","mr-2"],[1,"mx-2","text-slate-300"],[1,"fa-solid","fa-lock","mr-2"]],template:function(t,i){t&1&&C(0,cw,20,1,"div",0)(1,$w,73,11,"div",1),t&2&&E(i.state.isLoggedIn()?1:0)},dependencies:[U,vs,ys,Ms,Ts,As,ks,Ns,Rs,Fs,Os,Ps,Vs,Ls,js,Bs,Hs,Us,$s,zs,Gs,Ws,qs,Zs,Ys],encapsulation:2})}};qd(Qs,{providers:[Md()]}).catch(e=>console.error(e));
